<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. Look's Lab of Delights</title>
    <link rel="icon" type="image/png" href="Assets/drlook/logo_dr_look/Logo_Dr.Look_Vertical.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "u4g15ahjfe");
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            overflow-x: hidden;
            overflow-y: auto;
            background: var(--rebel-gradient);
            min-height: 100vh;
            transition: all 0.5s ease;
        }
        
        /* Dynamic Color Variables - Dr. Look Theme */
        :root {
            --bg-primary: #1976D2;
            --bg-secondary: #1565C0;
            --accent-color: #64B5F6;
            --text-primary: #FFFFFF;
            --text-secondary: rgba(255, 255, 255, 0.8);
            --glow-color: #2196F3;
            --particle-color: #90CAF9;
            --rebel-gradient: linear-gradient(135deg, #1976D2, #64B5F6, #1565C0);
        }

        /* Commercial Hero Section */
        .hero {
            min-height: 100vh;
            padding: 100px 2rem 2rem;
            background: linear-gradient(135deg, 
                #FF1493 0%, 
                #8A2BE2 25%, 
                #4169E1 50%, 
                #00BFFF 75%, 
                #FF1493 100%
            );
            position: relative;
            overflow: hidden;
        }
        
        /* Ensure hero content (including character-badge) sits below fixed nav on desktop */
        @media (min-width: 1025px) {
            .hero {
                padding-top: 100px; /* nav is 120px; add small buffer so badge isn't cut */
            }
        }
        
        .hero-grid {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            min-height: 80vh;
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: -80px;
            left: 0;
            right: 0;
            height: 400px;
            background: linear-gradient(to bottom, 
                transparent 0%,
                rgba(25, 118, 210, 0.05) 15%,
                rgba(25, 118, 210, 0.15) 35%,
                rgba(25, 118, 210, 0.25) 55%,
                rgba(25, 118, 210, 0.35) 75%,
                rgba(25, 118, 210, 0.4) 100%);
            z-index: 6;
            pointer-events: none;
        }

        /* Hero Character Section */
        .hero-character {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .character-container {
            position: relative;
            text-align: center;
        }
        
        .dr-look-main {
            width: 100%;
            max-width: 200px;
            height: auto;
            filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.3));
        }
        
        .character-badge {
            position: absolute;
            top: 30px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            border: 3px solid #333;
            transform: rotate(15deg);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .badge-text {
            display: block;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 900;
            font-size: 1.2rem;
            color: #333;
            line-height: 1;
        }
        
        .badge-subtitle {
            display: block;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            color: #FF1493;
            line-height: 1;
        }

        /* Desktop: Adjust hero-content to not include actions spacing */
        @media (min-width: 769px) {
            .hero-content {
                top: 10%;
                padding: 2rem 2rem 0 2rem;
            }
        }

        /* Hero Text Styling */
        .hero-text {
            color: white;
        }

        .hero-title {
            font-family: 'Space Grotesk', sans-serif;
            margin: 0 0 2rem 0;
            line-height: 0.8;
            text-transform: uppercase;
            letter-spacing: -0.05em;
        }
        
        .title-line-1 {
            display: block;
            font-size: clamp(3rem, 8vw, 8rem);
            font-weight: 900;
            color: #FFFFFF;
            text-shadow: 4px 4px 0px #333, 8px 8px 20px rgba(0, 0, 0, 0.5);
        }
        
        .title-line-2 {
            display: block;
            font-size: clamp(3.5rem, 9vw, 9rem);
            font-weight: 900;
            background: linear-gradient(45deg, #FFD700, #FFA500, #FF4500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 4px 4px 0px #333;
            margin-left: 2rem;
        }
        
        .title-line-3 {
            display: block;
            font-size: clamp(2.5rem, 7vw, 7rem);
            font-weight: 900;
            color: #00FFFF;
            text-shadow: 4px 4px 0px #333, 8px 8px 20px rgba(0, 255, 255, 0.5);
            margin-left: 1rem;
        }

        .hero-accent {
            background: linear-gradient(135deg, #64B5F6, #29E6FF, #90CAF9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 4s ease-in-out infinite;
        }

        @keyframes gradientShift {
            0%, 100% { 
                background: linear-gradient(135deg, #64B5F6, #29E6FF, #90CAF9);
                -webkit-background-clip: text;
                background-clip: text;
            }
            50% { 
                background: linear-gradient(135deg, #29E6FF, #90CAF9, #64B5F6);
                -webkit-background-clip: text;
                background-clip: text;
            }
        }

        .hero-description {
            font-family: 'Space Grotesk', sans-serif;
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
            margin-bottom: 2rem;
            font-weight: 500;
            max-width: 500px;
        }
        
        .hero-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .cta-primary {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.2rem;
            font-weight: 700;
            padding: 1.2rem 2.5rem;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 8px 25px rgba(255, 165, 0, 0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .cta-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(255, 165, 0, 0.6);
        }
        
        .cta-secondary {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            padding: 1.2rem 2.5rem;
            background: transparent;
            color: white;
            border: 3px solid white;
            border-radius: 50px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }
        
        .cta-secondary:hover {
            background: white;
            color: #333;
            transform: translateY(-3px);
        }

        .hero-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        /* Desktop: Position hero actions at bottom of hero section */
        @media (min-width: 769px) {
            .hero-actions {
                position: absolute;
                bottom: -75%;
                left: 50%;
                transform: translateX(-50%);
                z-index: 15;
                width: auto;
                padding: 1.5rem 2rem;
                /* background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05)); */
                /* backdrop-filter: blur(20px); */
                /* border-radius: 25px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); */
                animation: heroActionsFloat 6s ease-in-out infinite;
                transition: all 0.3s ease;
            }

            .hero-actions:hover {
                transform: translateX(-50%) translateY(-5px);
                /* box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
                background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.08)); */
            }
        }

        @keyframes heroActionsFloat {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-3px); }
        }

        .hero-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
            font-family: inherit;
            text-transform: none;
            letter-spacing: 0;
        }

        .hero-btn-primary {
            background: linear-gradient(135deg, #29E6FF, #1976D2);
            color: white;
            box-shadow: 0 8px 25px rgba(41, 230, 255, 0.3);
        }

        .hero-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(41, 230, 255, 0.4);
            background: linear-gradient(135deg, #1976D2, #29E6FF);
        }

        .hero-btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border-color: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }

        .hero-btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(100, 181, 246, 0.2);
        }

        .btn-arrow {
            transition: transform 0.3s ease;
        }

        .hero-btn-secondary:hover .btn-arrow {
            transform: translateX(4px);
        }

        /* Mobile Hero Adjustments */
        @media (max-width: 768px) {
            .hero {
                padding: 120px 1.5rem 0;
                min-height: 100vh;
            }

            .hero-content {
            position: relative;
                top: auto;
                left: auto;
                transform: none;
                margin-top: 0;
                padding: 1.5rem;
                max-width: 95%;
            }
            
            .hero-center-image {
                width: 600px;
                height: 700px;
                top: 25%;
                transform: translate(-50%, -10%);
            }

            .hero-title {
                font-size: clamp(2rem, 8vw, 3.2rem);
                margin-bottom: 0.8rem;
            }

            .hero-description {
                font-size: clamp(0.9rem, 3.5vw, 1.1rem);
                margin-bottom: 1.5rem;
            }

            .hero-actions {
                display: none !important;
                /* previously stacked vertically on mobile */
            }

            .hero-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
                padding: 1rem 1.5rem;
            }
            
            .lab-card {
                width: 150px;
                height: 120px;
                padding: 0.8rem;
            }
            
            .product-image {
                width: 60px;
                height: 60px;
                margin-bottom: 0.5rem;
                border-radius: 8px;
            }
            
            .lab-text {
                font-size: 0.9rem;
            }
        }

        /* Hero Lifestyle Visual - Updated for Leonardo.ai Layout */
        .hero-lifestyle {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        @keyframes lifestyleEntrance {
            0% {
                opacity: 0;
                transform: translateX(100px) translateY(50px) rotate(5deg) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translateX(0) translateY(0) rotate(-2deg) scale(1);
            }
        }



        /* Hero Center Image */
        .hero-center-image {
            position: absolute;
            top: -5%;
            left: 50%;
            width: 1200px;
            height: 1400px;
            z-index: 1;
            transition: transform 0.1s ease-out;
            will-change: transform;
            transform: translate(-50%, 0%);
            cursor: pointer;
        }

        .hero-center-image:hover .dr-look-image {
            transform: translateY(-8px) scale(1.06);
            filter: drop-shadow(0 40px 80px rgba(0, 0, 0, 0.6)) 
                    drop-shadow(0 0 60px rgba(25, 118, 210, 0.5))
                    drop-shadow(0 0 120px rgba(25, 118, 210, 0.2));
            animation-play-state: paused;
        }

        .dr-look-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 0.98;
            filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.45)) 
                    drop-shadow(0 0 40px rgba(25, 118, 210, 0.25))
                    drop-shadow(0 0 80px rgba(25, 118, 210, 0.1));
            /* animation: drLookFloat 8s ease-in-out infinite; */
            transition: all 0.3s ease;
        }

        @keyframes drLookFloat {
            0%, 100% { transform: translateY(0px) scale(1); }
            25% { transform: translateY(-15px) scale(1.02); }
            50% { transform: translateY(-8px) scale(1.01); }
            75% { transform: translateY(-12px) scale(1.015); }
        }

        /* Parallax Cards */
        .parallax-card {
            position: absolute;
            z-index: 0;
            transition: transform 0.1s ease-out;
            will-change: transform;
        }

        .corner-top-left {
            top: 15%;
            left: 15%;
            transform: rotate(-8deg);
        }

        .corner-top-right {
            top: 15%;
            right: 15%;
            transform: rotate(12deg);
        }

        .corner-bottom-left {
            bottom: 25%;
            left: 15%;
            transform: rotate(15deg);
        }

        .corner-bottom-right {
            bottom: 25%;
            right: 15%;
            transform: rotate(-6deg);
        }



        .lab-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.08));
            border: 2px solid rgba(41, 230, 255, 0.3);
            border-radius: 20px;
            padding: 1rem;
            text-align: center;
            backdrop-filter: blur(20px);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.2),
                0 0 20px rgba(41, 230, 255, 0.15);
            width: 200px;
            height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: labCardFloat 6s ease-in-out infinite;
        }

        .corner-top-left .lab-card { 
            animation-delay: 0s; 
            transform: scale(0.95);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25), 0 0 40px rgba(41, 230, 255, 0.2);
        }
        .corner-top-right .lab-card { 
            animation-delay: 1.5s; 
            transform: scale(1.05);
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.35), 0 0 60px rgba(41, 230, 255, 0.3);
        }
        .corner-bottom-left .lab-card { 
            animation-delay: 3s; 
            transform: scale(1.02);
            box-shadow: 0 35px 90px rgba(0, 0, 0, 0.4), 0 0 70px rgba(41, 230, 255, 0.35);
        }
        .corner-bottom-right .lab-card { 
            animation-delay: 4.5s; 
            transform: scale(0.98);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2), 0 0 30px rgba(41, 230, 255, 0.15);
        }

        @keyframes labCardFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(3deg); }
            66% { transform: translateY(-10px) rotate(-2deg); }
        }

        .product-image {
            width: 120px;
            height: 120px;
            margin-bottom: 1.5rem;
            border-radius: 15px;
            object-fit: cover;
            filter: drop-shadow(0 0 15px rgba(41, 230, 255, 0.3));
            transition: all 0.3s ease;
        }

        .lab-card:hover .product-image {
            transform: scale(1.1);
            filter: drop-shadow(0 0 25px rgba(41, 230, 255, 0.6));
        }

        .lab-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            line-height: 1.3;
        }

        /* Floating Candy Images (extracted from cards) */
        .floating-candy {
            position: absolute;
            z-index: 10;
            transition: transform 0.1s ease-out;
            will-change: transform;
            cursor: pointer;
        }

        .candy-top-left {
            top: 25%;
            left: 25%;
            transform: rotate(-8deg);
        }

        .candy-top-right {
            top: 25%;
            right: 25%;
            transform: rotate(12deg);
        }

        .candy-bottom-left {
            bottom: 35%;
            left: 25%;
            transform: rotate(15deg);
        }

        .candy-bottom-right {
            bottom: 35%;
            right: 25%;
            transform: rotate(-6deg);
        }

        .candy-image {
            width: 200px;
            height: 200px;
            border-radius: 20px;
            object-fit: cover;
            filter: drop-shadow(0 0 20px rgba(41, 230, 255, 0.4));
            transition: all 0.3s ease;
        }

        .floating-candy:hover .candy-image {
            transform: scale(1.2) !important;
            filter: drop-shadow(0 0 30px #29E6FF) brightness(1.2) !important;
            transition: all 0.3s ease !important;
        }
        
        .floating-candy {
            transition: all 0.3s ease;
            z-index: 9999 !important;
            pointer-events: auto !important;
        }
        


        /* Interactive Candy Magic Styles */
        
        /* Dr. Look Color-Changing Aura */
        .dr-look-aura {
            position: absolute;
            top: -20%;
            left: -20%;
            right: -20%;
            bottom: -20%;
            border-radius: 50%;
            opacity: 0;
            background: radial-gradient(circle, transparent 40%, rgba(41, 230, 255, 0.2) 60%, rgba(41, 230, 255, 0.4) 80%, transparent 100%);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            pointer-events: none;
            z-index: -1;
            filter: blur(20px);
        }

        .dr-look-aura.active {
            opacity: 1;
            transform: scale(1.2);
            animation: auraGlow 2s ease-in-out infinite alternate;
        }

        @keyframes auraGlow {
            0% { 
                filter: blur(20px) brightness(1);
                transform: scale(1.2) rotate(0deg);
            }
            100% { 
                filter: blur(25px) brightness(1.3);
                transform: scale(1.3) rotate(5deg);
            }
        }

        /* Explosion Container */
        .explosion-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 15;
        }

        /* Explosion Particles */
        .explosion-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 6;
        }

        .explosion-particle.small {
            width: 4px;
            height: 4px;
        }

        .explosion-particle.large {
            width: 12px;
            height: 12px;
        }

        /* Energy Lines between candies */
        .energy-lines-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 5;
        }

        .energy-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(41, 230, 255, 0.8) 20%, 
                rgba(255, 182, 193, 0.8) 50%, 
                rgba(138, 43, 226, 0.8) 80%, 
                transparent 100%);
            opacity: 0;
            transition: opacity 0.5s ease;
            transform-origin: left center;
            filter: blur(1px);
            box-shadow: 0 0 10px rgba(41, 230, 255, 0.5);
        }

        .energy-line.active {
            opacity: 0.7;
            animation: energyPulse 2s ease-in-out infinite;
        }

        @keyframes energyPulse {
            0%, 100% { 
                opacity: 0.3;
                filter: blur(1px);
                box-shadow: 0 0 10px rgba(41, 230, 255, 0.3);
            }
            50% { 
                opacity: 0.8;
                filter: blur(2px);
                box-shadow: 0 0 20px rgba(41, 230, 255, 0.8);
            }
        }

        /* Particle Trails */
        .particle-trails-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 8;
        }

        .particle-trail {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            opacity: 1;
            z-index: 2;
        }

        .trail-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            opacity: 0.8;
            animation: trailFade 1s ease-out forwards;
        }

        @keyframes trailFade {
            0% {
                opacity: 0.8;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0.3);
            }
        }

        /* Enhanced floating candy interactions */
        .floating-candy {
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .floating-candy:hover {
            transform: scale(1.05);
            z-index: 3;
        }

        .floating-candy.exploding {
            animation: candyExplosion 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes candyExplosion {
            0% { transform: scale(1); }
            20% { transform: scale(1.3) rotate(10deg); }
            40% { transform: scale(0.9) rotate(-5deg); }
            60% { transform: scale(1.1) rotate(3deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        .floating-candy.magnetic-pull {
            animation: magneticPull 0.8s ease-in-out;
        }

        @keyframes magneticPull {
            0%, 100% { transform: translateX(0) translateY(0); }
            50% { transform: translateX(10px) translateY(-5px); }
        }



        .lab-card:hover {
            border-color: rgba(41, 230, 255, 0.8);
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(41, 230, 255, 0.4);
            transform: translateY(-5px) scale(1.05);
        }

        /* Mobile adjustments for floating candies and magic effects */
        @media (max-width: 768px) {
            .floating-candy {
                transform: scale(0.7);
            }
            
            .candy-image {
                width: 140px;
                height: 140px;
            }
            
            /* Adjust positioning for mobile to be closer to center */
            .candy-top-left {
                top: 30%;
                left: 20%;
            }
            
            .candy-top-right {
                top: 30%;
                right: 20%;
            }
            
            .candy-bottom-left {
                bottom: 40%;
                left: 20%;
            }
            
            .candy-bottom-right {
                bottom: 40%;
                right: 20%;
            }
            
            /* Mobile adjustments for magical effects */
            .dr-look-aura {
                filter: blur(15px);
            }
            
            .explosion-particle {
                width: 6px;
                height: 6px;
            }
            
            .explosion-particle.large {
                width: 10px;
                height: 10px;
            }
            
            .energy-line {
                height: 1px;
                filter: blur(0.5px);
            }
            
            .trail-particle {
                width: 3px;
                height: 3px;
            }
            
            .hero-content {
                z-index: 1; /* Ensure content is visible */
            }
        }

        @media (max-width: 480px) {
            .floating-candy {
                transform: scale(0.6);
            }
            
            .candy-image {
                width: 120px;
                height: 120px;
            }
            
            /* Even closer to center on very small screens */
            .candy-top-left {
                top: 35%;
                left: 15%;
            }
            
            .candy-top-right {
                top: 35%;
                right: 15%;
            }
            
            .candy-bottom-left {
                bottom: 45%;
                left: 15%;
            }
            
            .candy-bottom-right {
                bottom: 45%;
                right: 15%;
            }
        }

        /* Tablet adjustments */
        @media (max-width: 1024px) and (min-width: 769px) {
            .hero {
                min-height: 110vh;
            }
            
            .hero-center-image {
                width: 900px;
                height: 1050px;
                top: 18%;
                transform: translate(-50%, 0%);
            }
            
            .corner-top-left {
                top: 25%;
                left: 25%;
            }
            
            .corner-top-right {
                top: 18%;
                right: 18%;
            }
            
            .corner-bottom-left {
                bottom: 28%;
                left: 18%;
            }
            
            .corner-bottom-right {
                bottom: 28%;
                right: 18%;
            }
            
            .lab-card {
                width: 300px;
                height: 250px;
                padding: 1.5rem;
            }
            
            .product-image {
                width: 90px;
                height: 90px;
                margin-bottom: 1rem;
                border-radius: 8px;
            }
            
            .lab-text {
                font-size: 1.3rem;
            }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(30px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
            height: 120px;
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            height: 100%;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo img {
            height: 80px;
            width: auto;
            filter: drop-shadow(0 0 25px var(--glow-color));
            transition: all 0.3s ease;
        }

        .logo:hover img {
            filter: drop-shadow(0 0 40px var(--glow-color));
            transform: scale(1.08);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2.5rem;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--text-primary);
            transform: translateY(-2px);
            text-shadow: 0 0 15px var(--glow-color);
        }

        /* Mobile Hamburger Menu */
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 0.8rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .hamburger:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.05);
        }

        .hamburger-line {
            width: 25px;
            height: 3px;
            background: var(--text-primary);
            margin: 3px 0;
            transition: all 0.3s ease;
            border-radius: 2px;
            box-shadow: 0 0 10px var(--glow-color);
        }

        .hamburger.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
            background: var(--accent-color);
        }

        .hamburger.active .hamburger-line:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
            background: var(--accent-color);
        }

        /* Mobile Menu Overlay */
        .mobile-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--rebel-gradient);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transform: translateX(-100%);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            overflow: hidden;
        }

        .mobile-menu.active {
            transform: translateX(0);
        }

        .mobile-menu::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--rebel-gradient);
            animation: rebelGradientShift 4s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes rebelGradientShift {
            0%, 100% { background: linear-gradient(135deg, #1976D2, #64B5F6, #1565C0); }
            25% { background: linear-gradient(135deg, #64B5F6, #1976D2, #90CAF9); }
            50% { background: linear-gradient(135deg, #1565C0, #90CAF9, #1976D2); }
            75% { background: linear-gradient(135deg, #90CAF9, #1565C0, #64B5F6); }
        }

        .mobile-nav-links {
            list-style: none;
            text-align: center;
            padding: 0;
            margin: 0;
        }

        .mobile-nav-links li {
            margin: 2rem 0;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.5s ease;
        }

        .mobile-menu.active .mobile-nav-links li {
            opacity: 1;
            transform: translateY(0);
        }

        .mobile-nav-links li:nth-child(1) { transition-delay: 0.1s; }
        .mobile-nav-links li:nth-child(2) { transition-delay: 0.2s; }
        .mobile-nav-links li:nth-child(3) { transition-delay: 0.3s; }
        .mobile-nav-links li:nth-child(4) { transition-delay: 0.4s; }
        .mobile-nav-links li:nth-child(5) { transition-delay: 0.5s; }

        .mobile-nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-size: 2rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s ease;
            display: block;
            padding: 1rem 2rem;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin: 0.5rem 0;
        }

        .mobile-nav-links a:hover {
            background: var(--accent-color);
            color: var(--bg-primary);
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .mobile-menu-close {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 3rem;
            cursor: pointer;
            padding: 1rem;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            text-shadow: 0 0 20px var(--glow-color);
        }

        .mobile-menu-close:hover {
            transform: rotate(90deg) scale(1.1);
            background: rgba(255, 255, 255, 0.2);
            text-shadow: 0 0 40px var(--glow-color);
        }

        .mobile-menu-brand {
            position: absolute;
            bottom: 3rem;
            text-align: center;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.5s ease 0.5s;
        }

        .mobile-menu.active .mobile-menu-brand {
            opacity: 1;
            transform: translateY(0);
        }

        .mobile-menu-brand .brand-text {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-color);
            text-transform: uppercase;
            letter-spacing: 0.2em;
            text-shadow: 0 0 20px var(--glow-color);
        }

        /* Mobile Responsiveness */
        @media (max-width: 1024px) {
            .hero-lifestyle {
                width: 320px;
                height: 400px;
                right: 2%;
                top: 20%;
            }

            .hero-content {
                max-width: 550px;
                margin-right: auto;
                margin-left: 2rem;
                text-align: left;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hamburger {
                display: flex;
            }

            nav {
                height: 80px;
            }

            .logo img {
                height: 60px;
            }

            .hero-lifestyle {
                display: none;
            }

            .hero-content {
                text-align: center;
                margin: 0 auto;
            }
        }

        /* LAB MODE TRANSFORMATION EFFECTS */
        .lab-explosion-particle {
            position: absolute;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 1000;
            animation: labExplosion 2s ease-out forwards;
        }

        @keyframes labExplosion {
            0% {
                transform: translate(0, 0) scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: translate(calc(var(--end-x) * 0.5), calc(var(--end-y) * 0.5)) scale(1.2) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--end-x), var(--end-y)) scale(0.5) rotate(360deg);
                opacity: 0;
            }
        }

        .lab-activation-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            z-index: 10000;
            background: linear-gradient(135deg, #00C853, #4CAF50);
            color: white;
            padding: 2rem 3rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 200, 83, 0.4);
            border: 3px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 0;
        }

        .lab-activation-message.show {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .lab-activation-message.hide {
            transform: translate(-50%, -50%) scale(0.8);
            opacity: 0;
        }

        .lab-activation-message h3 {
            margin: 0 0 1rem 0;
            font-size: 1.8rem;
            font-weight: 900;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            animation: messageGlow 2s ease-in-out infinite;
        }

        .lab-activation-message p {
            margin: 0 0 1rem 0;
            font-size: 1.1rem;
            font-weight: 500;
            opacity: 0.95;
        }

        .message-particles {
            font-size: 1.5rem;
            animation: particleFloat 3s ease-in-out infinite;
        }

        @keyframes messageGlow {
            0%, 100% { text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); }
            50% { text-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 2px 4px rgba(0, 0, 0, 0.3); }
        }

        @keyframes particleFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* Lab Mode Active State */
        .lab-mode-active .highlight.lab-glow {
            animation: labGlowPulse 2s ease-in-out infinite;
        }

        @keyframes labGlowPulse {
            0%, 100% { 
                text-shadow: 0 0 20px rgba(0, 200, 83, 0.5);
                filter: drop-shadow(0 0 10px rgba(0, 200, 83, 0.3));
            }
            50% { 
                text-shadow: 0 0 40px rgba(0, 200, 83, 0.8);
                filter: drop-shadow(0 0 20px rgba(0, 200, 83, 0.6));
            }
        }

        .lab-transforming {
            animation: pageShake 0.5s ease-in-out;
        }

        @keyframes pageShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }

        /* Enhanced transition effects */
        .hero-headline, .hero-subheadline, .demo-item, .stat {
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .hero-visual {
            position: relative;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .floating-inventions {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .invention-item {
            position: absolute;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border: 2px solid rgba(41, 230, 255, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            animation: inventionFloat 6s ease-in-out infinite;
        }

        .invention-item:hover {
            transform: scale(1.1);
            border-color: #29E6FF;
            box-shadow: 0 0 30px rgba(41, 230, 255, 0.5);
        }

        .invention-icon {
            font-size: 3rem;
            filter: drop-shadow(0 0 10px rgba(255, 19, 141, 0.5));
        }

        .invention-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(41, 230, 255, 0.3), transparent);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: inventionGlow 3s ease-in-out infinite;
        }

        .invention-item[data-invention="cotton-candy"] {
            top: 20%;
            left: 20%;
            animation-delay: 0s;
        }

        .invention-item[data-invention="toilet-lollipop"] {
            top: 60%;
            right: 30%;
            animation-delay: 2s;
        }

        .invention-item[data-invention="edible-pen"] {
            bottom: 20%;
            left: 40%;
            animation-delay: 4s;
        }

        @keyframes inventionFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-20px) rotate(5deg); }
            66% { transform: translateY(-10px) rotate(-3deg); }
        }

        @keyframes inventionGlow {
            0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.2); }
        }

        @media (max-width: 768px) {
            .hero-content {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }
            
            .hero-stats {
                justify-content: center;
            }
            
            .hero-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .hero-visual {
                height: 300px;
            }
            
            .invention-item {
                width: 80px;
                height: 80px;
            }
            
            .invention-icon {
                font-size: 2rem;
            }
        }
        
        .dr-look-logo {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem;
            animation: logoFloat 3s ease-in-out infinite;
        }

        .logo-image {
            height: clamp(80px, 12vw, 200px);
            width: auto;
            filter: drop-shadow(0 0 20px rgba(255, 19, 141, 0.5))
                    drop-shadow(0 0 40px rgba(41, 230, 255, 0.3))
                    drop-shadow(0 0 60px rgba(255, 215, 3, 0.2));
            animation: glow 2s ease-in-out infinite alternate;
            transition: all 0.3s ease;
        }

        .logo-image:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 30px rgba(255, 19, 141, 0.8))
                    drop-shadow(0 0 50px rgba(41, 230, 255, 0.6))
                    drop-shadow(0 0 80px rgba(255, 215, 3, 0.4));
        }
        
        @keyframes glow {
            from { 
                filter: drop-shadow(0 0 20px rgba(255, 19, 141, 0.5))
                        drop-shadow(0 0 30px rgba(41, 230, 255, 0.3)); 
            }
            to { 
                filter: drop-shadow(0 0 40px rgba(255, 19, 141, 0.8))
                        drop-shadow(0 0 60px rgba(41, 230, 255, 0.6))
                        drop-shadow(0 0 80px rgba(255, 215, 3, 0.4)); 
            }
        }

        @keyframes logoFloat {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg); 
            }
            33% { 
                transform: translateY(-8px) rotate(1deg); 
            }
            66% { 
                transform: translateY(-4px) rotate(-0.5deg); 
            }
        }

        /* Lab Mode Toggle Button */
        .lab-mode-toggle {
            margin: 2rem 0;
            display: flex;
            justify-content: center;
        }

        .lab-toggle-btn {
            background: linear-gradient(135deg, #FF138D, #29E6FF);
            border: none;
            border-radius: 50px;
            padding: 1rem 2rem;
            color: white;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 19, 141, 0.3);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            opacity: 1;
            visibility: visible;
        }

        .lab-toggle-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 19, 141, 0.5);
        }

        .lab-toggle-btn.active {
            background: linear-gradient(135deg, #00ff41, #ff6b00);
            animation: labPulse 2s ease-in-out infinite;
        }

        @keyframes labPulse {
            0%, 100% { box-shadow: 0 0 20px #00ff41; }
            50% { box-shadow: 0 0 40px #ff6b00, 0 0 60px #00ff41; }
        }







        .beaker {
            position: absolute;
            width: 80px;
            height: 100px;
            background: linear-gradient(180deg, transparent 0%, rgba(255, 255, 255, 0.15) 100%);
            border: 4px solid #29E6FF;
            border-radius: 0 0 40px 40px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(41, 230, 255, 0.4);
            animation: beakerGlow 3s ease-in-out infinite;
        }

        @keyframes beakerGlow {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(41, 230, 255, 0.4); 
                border-color: #29E6FF;
            }
            50% { 
                box-shadow: 0 0 35px rgba(41, 230, 255, 0.8); 
                border-color: #00FFFF;
            }
        }

        .beaker-1 {
            top: 15%;
            right: 12%;
            animation: beakerFloat1 4s ease-in-out infinite;
        }

        .beaker-2 {
            bottom: 20%;
            left: 10%;
            animation: beakerFloat2 5s ease-in-out infinite 2s;
        }

        .beaker-3 {
            top: 60%;
            left: 30%;
            animation: beakerFloat1 6s ease-in-out infinite 3s;
        }

        @keyframes beakerFloat1 {
            0%, 100% { transform: translateY(0px) rotate(2deg); }
            50% { transform: translateY(-10px) rotate(-2deg); }
        }

        @keyframes beakerFloat2 {
            0%, 100% { transform: translateY(0px) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }

        .liquid {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60%;
            border-radius: 0 0 27px 27px;
        }

        .liquid-bubbling {
            background: linear-gradient(180deg, #FF138D, #ff69b4, #FFD703);
            animation: liquidBubble 2s ease-in-out infinite;
            box-shadow: inset 0 0 20px rgba(255, 19, 141, 0.6);
        }

        .liquid-reactive {
            background: linear-gradient(180deg, #00ff41, #29E6FF, #9400D3);
            animation: liquidReact 3s ease-in-out infinite;
            box-shadow: inset 0 0 20px rgba(0, 255, 65, 0.6);
        }

        .liquid-explosive {
            background: linear-gradient(180deg, #ff6b00, #FFD703, #ff1744);
            animation: liquidExplosive 2.5s ease-in-out infinite;
            box-shadow: inset 0 0 20px rgba(255, 107, 0, 0.6);
        }

        @keyframes liquidBubble {
            0%, 100% { height: 60%; }
            50% { height: 70%; }
        }

        @keyframes liquidReact {
            0%, 100% { 
                background: linear-gradient(180deg, #00ff41, #29E6FF, #9400D3);
                height: 60%; 
            }
            50% { 
                background: linear-gradient(180deg, #ff6b00, #FFD703, #ff1744);
                height: 70%; 
            }
        }

        @keyframes liquidExplosive {
            0%, 100% { 
                height: 65%; 
                background: linear-gradient(180deg, #ff6b00, #FFD703, #ff1744);
            }
            25% { 
                height: 75%; 
                background: linear-gradient(180deg, #ff1744, #FF138D, #ff6b00);
            }
            50% { 
                height: 70%; 
                background: linear-gradient(180deg, #FFD703, #ff6b00, #ff1744);
            }
            75% { 
                height: 80%; 
                background: linear-gradient(180deg, #ff6b00, #ff1744, #FFD703);
            }
        }

        .bubbles {
            position: absolute;
            top: 20%;
            left: 0;
            right: 0;
            height: 100%;
        }

        .bubbles::before,
        .bubbles::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: bubbleRise 2s ease-in-out infinite;
        }

        .bubbles::before {
            left: 20%;
            animation-delay: 0s;
        }

        .bubbles::after {
            left: 70%;
            animation-delay: 1s;
        }

        @keyframes bubbleRise {
            0% { 
                transform: translateY(40px) scale(0.5); 
                opacity: 0; 
            }
            50% { 
                opacity: 1; 
            }
            100% { 
                transform: translateY(-20px) scale(1); 
                opacity: 0; 
            }
        }

        .smoke {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent);
            border-radius: 50%;
            animation: smokeRise 4s ease-in-out infinite;
        }

        @keyframes smokeRise {
            0% { 
                transform: translateX(-50%) translateY(0) scale(0.5); 
                opacity: 0.7; 
            }
            100% { 
                transform: translateX(-50%) translateY(-60px) scale(1.5); 
                opacity: 0; 
            }
        }

        .test-tube {
            position: absolute;
            width: 18px;
            height: 90px;
            background: linear-gradient(180deg, transparent 0%, rgba(255, 215, 3, 0.9) 100%);
            border: 2px solid #FFD703;
            border-radius: 0 0 8px 8px;
            animation: testTubeGlow 3s ease-in-out infinite;
            box-shadow: 0 0 10px rgba(255, 215, 3, 0.5);
        }

        .test-tube-1 {
            top: 25%;
            right: 8%;
            animation-delay: 0s;
        }

        .test-tube-2 {
            top: 55%;
            right: 20%;
            animation-delay: 1.5s;
        }

        @keyframes testTubeGlow {
            0%, 100% { box-shadow: 0 0 10px #FFD703; }
            50% { box-shadow: 0 0 20px #FFD703, 0 0 30px #ff6b00; }
        }

        .microscope {
            position: absolute;
            bottom: 15%;
            right: 18%;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #666, #999, #ccc);
            border-radius: 50% 50% 20% 20%;
            border: 3px solid #29E6FF;
            animation: microscopeRotate 8s linear infinite;
            box-shadow: 0 0 20px rgba(41, 230, 255, 0.4);
        }

        @keyframes microscopeRotate {
            0% { 
                transform: rotate(0deg); 
                box-shadow: 0 0 20px rgba(41, 230, 255, 0.4); 
            }
            50% { 
                transform: rotate(180deg); 
                box-shadow: 0 0 30px rgba(41, 230, 255, 0.8); 
            }
            100% { 
                transform: rotate(360deg); 
                box-shadow: 0 0 20px rgba(41, 230, 255, 0.4); 
            }
        }



        @keyframes panelPulse {
            0%, 100% { 
                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6), 0 0 25px rgba(41, 230, 255, 0.4); 
                border-color: #29E6FF;
            }
            50% { 
                box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8), 0 0 40px rgba(41, 230, 255, 0.8); 
                border-color: #00FFFF;
            }
        }

        .control-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 1rem;
            height: 100%;
        }

        .gauge {
            position: relative;
            background: radial-gradient(circle, #2d1b69, #1a1a2e);
            border: 2px solid #FF138D;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            grid-row: 1 / 3;
        }

        .gauge-needle {
            position: absolute;
            width: 2px;
            height: 40px;
            background: #00ff41;
            transform-origin: bottom center;
            transform: rotate(45deg);
            transition: transform 0.5s ease;
            box-shadow: 0 0 10px #00ff41;
        }

        .gauge-label {
            position: absolute;
            bottom: 10px;
            font-size: 0.7rem;
            color: #29E6FF;
            font-weight: 600;
        }

        .buttons {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .lab-btn {
            width: 55px;
            height: 55px;
            border: 3px solid;
            border-radius: 50%;
            font-size: 1.6rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            animation: buttonPulse 3s ease-in-out infinite;
        }

        @keyframes buttonPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .red-btn {
            background: linear-gradient(135deg, #ff1744, #ff5722);
            border-color: #ff5722;
            box-shadow: 0 0 15px #ff1744, inset 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .green-btn {
            background: linear-gradient(135deg, #00ff41, #4caf50);
            border-color: #4caf50;
            box-shadow: 0 0 15px #00ff41, inset 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .blue-btn {
            background: linear-gradient(135deg, #2196f3, #03a9f4);
            border-color: #03a9f4;
            box-shadow: 0 0 15px #2196f3, inset 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .lab-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 0 30px currentColor, inset 0 0 20px rgba(255, 255, 255, 0.3);
            animation-play-state: paused;
        }

        .lab-btn:active {
            transform: scale(1.3);
            animation: buttonActivate 0.3s ease-out;
        }

        @keyframes buttonActivate {
            0% { transform: scale(1.15); box-shadow: 0 0 30px currentColor; }
            50% { transform: scale(1.4); box-shadow: 0 0 50px currentColor; }
            100% { transform: scale(1.3); box-shadow: 0 0 40px currentColor; }
        }

        /* Dr. Look's Innovation Laboratory - Spectacular Inventions */
        .innovation-laboratory {
            padding: 8rem 0;
            background: 
                linear-gradient(135deg, #000000 0%, #001122 25%, #000000 50%, #001122 75%, #000000 100%);
            position: relative;
            overflow: hidden;
        }

        .innovation-laboratory::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 255, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 19, 141, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(138, 43, 226, 0.02) 0%, transparent 50%);
            animation: labEnvironmentPulse 20s ease-in-out infinite;
        }

        @keyframes labEnvironmentPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }

        .lab-environment {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }

        /* Holographic Header */
        .holographic-header {
            text-align: center;
            margin-bottom: 6rem;
            position: relative;
        }

        .holo-scanlines {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 255, 255, 0.03) 2px,
                rgba(0, 255, 255, 0.03) 4px
            );
            animation: scanlinesDrift 3s linear infinite;
        }

        @keyframes scanlinesDrift {
            0% { transform: translateY(0px); }
            100% { transform: translateY(20px); }
        }

        .lab-classification {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .classification-level, .lab-designation {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #00FFFF;
            background: rgba(0, 0, 0, 0.8);
            padding: 0.5rem 1rem;
            border: 1px solid #00FFFF;
            border-radius: 3px;
            letter-spacing: 0.1em;
            animation: classificationBlink 2s ease-in-out infinite alternate;
        }

        @keyframes classificationBlink {
            0% { box-shadow: 0 0 5px rgba(0, 255, 255, 0.3); }
            100% { box-shadow: 0 0 15px rgba(0, 255, 255, 0.6); }
        }

        .holo-title {
            font-size: 4rem;
            font-weight: 900;
            margin: 2rem 0;
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .title-matrix, .title-breakthrough, .title-protocol {
            background: linear-gradient(45deg, #00FFFF, #FF1493, #8A2BE2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            animation: titlePulse 3s ease-in-out infinite;
        }

        .title-breakthrough {
            animation-delay: 0.5s;
        }

        .title-protocol {
            animation-delay: 1s;
        }

        @keyframes titlePulse {
            0%, 100% { 
                transform: scale(1);
                filter: brightness(1);
            }
            50% { 
                transform: scale(1.05);
                filter: brightness(1.2);
            }
        }

        .lab-mission {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Discovery Chambers Grid */
        .discovery-chambers {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 3rem;
            margin-bottom: 6rem;
        }

        .discovery-chamber {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #00FFFF;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            transition: all 0.4s ease;
            cursor: pointer;
        }

        .discovery-chamber:hover {
            transform: translateY(-10px);
            border-color: #FF1493;
            box-shadow: 
                0 20px 40px rgba(0, 255, 255, 0.2),
                0 0 50px rgba(255, 19, 141, 0.3);
        }

        .chamber-frame {
            padding: 2rem;
        }

        .chamber-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
        }

        .experiment-id {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            color: #00FF00;
            background: rgba(0, 0, 0, 0.8);
            padding: 0.5rem 1rem;
            border: 1px solid #00FF00;
            border-radius: 3px;
        }

        .danger-level {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #FF0000;
            background: rgba(0, 0, 0, 0.8);
            padding: 0.5rem 1rem;
            border: 1px solid #FF0000;
            border-radius: 3px;
            animation: dangerBlink 1.5s ease-in-out infinite alternate;
        }

        @keyframes dangerBlink {
            0% { box-shadow: 0 0 5px rgba(255, 0, 0, 0.3); }
            100% { box-shadow: 0 0 15px rgba(255, 0, 0, 0.8); }
        }

        /* Specimen Container */
        .specimen-container {
            position: relative;
            height: 300px;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 10px;
            background: 
                radial-gradient(circle at center, rgba(0, 255, 255, 0.05), transparent 70%);
        }

        .specimen-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.2), transparent 70%);
            border-radius: 50%;
            animation: specimenGlow 4s ease-in-out infinite;
        }

        @keyframes specimenGlow {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.3;
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.6;
            }
        }

        .energy-field {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 10px;
            background: linear-gradient(45deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            animation: energyField 3s linear infinite;
        }

        @keyframes energyField {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .specimen-image {
            width: 200px;
            height: auto;
            position: relative;
            z-index: 3;
            filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.5));
            animation: specimenFloat 6s ease-in-out infinite;
        }

        @keyframes specimenFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(2deg); }
            50% { transform: translateY(0px) rotate(0deg); }
            75% { transform: translateY(-5px) rotate(-2deg); }
        }

        .hologram-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 3px,
                rgba(0, 255, 255, 0.1) 3px,
                rgba(0, 255, 255, 0.1) 6px
            );
            opacity: 0.6;
            animation: hologramFlicker 2s ease-in-out infinite alternate;
        }

        @keyframes hologramFlicker {
            0% { opacity: 0.3; }
            100% { opacity: 0.7; }
        }

        /* Discovery Panel */
        .discovery-panel {
            color: white;
        }

        .discovery-name {
            font-size: 2rem;
            font-weight: 900;
            color: #00FFFF;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .code-designation {
            font-size: 1rem;
            color: #FF1493;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .research-data {
            margin-bottom: 2rem;
        }

        .data-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }

        .data-label {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #00FFFF;
            font-weight: 600;
        }

        .data-value {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.9);
            text-align: right;
        }

        .text-danger {
            color: #FF1493 !important;
            font-weight: 600;
        }

        /* Experiment Status */
        .experiment-status {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .status-bar {
            flex: 1;
            height: 8px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 4px;
            overflow: hidden;
            border: 1px solid #00FFFF;
        }

        .status-fill {
            height: 100%;
            background: linear-gradient(90deg, #00FFFF, #00FF00);
            border-radius: 3px;
            animation: statusPulse 2s ease-in-out infinite;
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .status-text {
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: #00FF00;
            font-weight: 600;
            white-space: nowrap;
        }

        /* Laboratory Conclusion */
        .lab-conclusion {
            text-align: center;
        }

        .achievement-badge {
            display: inline-block;
            position: relative;
            background: rgba(0, 0, 0, 0.8);
            border: 3px solid #FFD700;
            border-radius: 20px;
            padding: 2rem 3rem;
        }

        .badge-glow {
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border-radius: 20px;
            background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
            animation: badgeGlow 3s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes badgeGlow {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        .badge-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .achievement-icon {
            font-size: 3rem;
            animation: achievementBounce 2s ease-in-out infinite;
        }

        @keyframes achievementBounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .achievement-text {
            font-size: 1.5rem;
            font-weight: 900;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .achievement-subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.8);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .discovery-chambers {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .holo-title {
                font-size: 2.5rem;
                flex-direction: column;
                gap: 0.5rem;
            }

            .lab-classification {
                flex-direction: column;
                gap: 1rem;
            }

            .chamber-frame {
                padding: 1.5rem;
            }

            .specimen-container {
                height: 250px;
            }

            .specimen-image {
                width: 80%;
            }

            .data-line {
                flex-direction: column;
                gap: 0.3rem;
            }

            .data-value {
                text-align: left;
            }
        }

        /* Products Section Styling - Redesigned */
        .products-section {
            padding: 4rem 0;
            position: relative;
        }

        .products-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 40%, rgba(255, 19, 141, 0.05) 0%, transparent 50%), 
                        radial-gradient(circle at 70% 60%, rgba(41, 230, 255, 0.05) 0%, transparent 50%);
        }

        .products-section .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }

        .section-header {
            text-align: center;
            margin-bottom: 1rem;
        }

        .section-badge {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(135deg, rgba(255, 19, 141, 0.2), rgba(41, 230, 255, 0.2));
            border: 1px solid rgba(255, 19, 141, 0.3);
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .section-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            color: #FFFFFF;
            letter-spacing: -0.03em;
            text-transform: uppercase;
            text-shadow: 4px 4px 0px #333, 8px 8px 20px rgba(0, 0, 0, 0.5);
        }

        .section-accent {
            background: linear-gradient(45deg, #FFD700, #FFA500, #FF4500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 2px 2px 0px #333;
        }

        .section-subtitle {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            color: rgba(255, 255, 255, 0.85);
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
            font-weight: 500;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .products-showcase {
            margin-bottom: 6rem;
        }

        /* Dr. Look Display Formats Section */
        .dr-look-displays-section {
            padding: 8rem 0;
            background: linear-gradient(135deg, 
                rgba(25, 118, 210, 0.1), 
                rgba(100, 181, 246, 0.08), 
                rgba(21, 101, 192, 0.1));
            backdrop-filter: blur(20px);
            position: relative;
        }

        .display-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .display-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2.5rem;
            margin: 4rem 0;
        }

        .display-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(30px);
            border-radius: 25px;
            padding: 2rem;
            border: 2px solid rgba(41, 230, 255, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(25, 118, 210, 0.2);
            animation: displayCardFloat 8s ease-in-out infinite;
        }

        .display-card:nth-child(1) { animation-delay: 0s; }
        .display-card:nth-child(2) { animation-delay: 1s; }
        .display-card:nth-child(3) { animation-delay: 2s; }
        .display-card:nth-child(4) { animation-delay: 3s; }
        .display-card:nth-child(5) { animation-delay: 4s; }
        .display-card:nth-child(6) { animation-delay: 5s; }

        @keyframes displayCardFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-5px) rotate(0.3deg); }
            50% { transform: translateY(-8px) rotate(-0.2deg); }
            75% { transform: translateY(-3px) rotate(0.1deg); }
        }

        /* Lab Mode Animations */
        @keyframes labModeFloat {
            0%, 100% { transform: translateY(0px) scale(1); }
            25% { transform: translateY(-15px) scale(1.02); }
            50% { transform: translateY(-25px) scale(1.05); }
            75% { transform: translateY(-10px) scale(1.02); }
        }

        @keyframes labModeGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes labParticleFloat {
            0% { transform: translateY(0px) rotate(0deg); opacity: 0; }
            10% { opacity: 0.7; }
            90% { opacity: 0.7; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        @keyframes lab-glow {
            0%, 100% { text-shadow: 0 0 20px #29E6FF, 0 0 40px #29E6FF; }
            50% { text-shadow: 0 0 30px #29E6FF, 0 0 60px #29E6FF, 0 0 80px #29E6FF; }
        }

        @keyframes scrollHintPulse {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-5px) scale(1.05); }
        }

        @keyframes labReveal {
            0% { 
                opacity: 0; 
                transform: translateY(50px); 
                max-height: 0;
            }
            100% { 
                opacity: 1; 
                transform: translateY(0); 
                max-height: 2000px;
            }
        }

        /* Lab Mode Active States */
        .lab-glow {
            animation: lab-glow 2s ease-in-out infinite;
        }

        /* Fix for hero-accent in lab mode - make text visible with glow */
        .hero-accent.lab-glow {
            -webkit-text-fill-color: #29E6FF !important;
            color: #29E6FF !important;
            background: none !important;
            -webkit-background-clip: initial !important;
            background-clip: initial !important;
        }

        /* Hide lab video showcase by default */
        .lab-video-showcase {
            display: none;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        /* Show lab video showcase when lab mode is active */
        /* Enhanced border animation when lab is revealed */
        body.lab-mode-active .lab-video-showcase {
            display: block;
            opacity: 1;
            max-height: 1000px;
            border: 5px solid #00FFFF;
            box-shadow: 
                inset 0 8px 30px rgba(0, 255, 255, 0.4),
                inset 0 -8px 30px rgba(0, 255, 255, 0.4),
                0 0 80px rgba(0, 255, 255, 0.4),
                0 10px 40px rgba(0, 255, 255, 0.2),
                0 -10px 40px rgba(0, 255, 255, 0.2);
            animation: labReveal 1.2s ease forwards, borderPulse 3s ease-in-out infinite;
        }

        @keyframes labReveal {
            0% {
                opacity: 0;
                max-height: 0;
                transform: scaleY(0);
            }
            50% {
                opacity: 0.5;
                max-height: 500px;
                transform: scaleY(0.5);
            }
            100% {
                opacity: 1;
                max-height: 1000px;
                transform: scaleY(1);
            }
        }

        @keyframes borderPulse {
            0%, 100% { 
                border-color: #00FFFF;
                box-shadow: 
                    inset 0 8px 30px rgba(0, 255, 255, 0.4),
                    inset 0 -8px 30px rgba(0, 255, 255, 0.4),
                    0 0 80px rgba(0, 255, 255, 0.4);
            }
            50% { 
                border-color: #00FF00;
                box-shadow: 
                    inset 0 8px 30px rgba(0, 255, 0, 0.4),
                    inset 0 -8px 30px rgba(0, 255, 0, 0.4),
                    0 0 80px rgba(0, 255, 0, 0.4);
            }
        }

        /* Lab hint styling */
        .lab-hint {
            margin-top: 1rem;
            padding: 0.8rem;
            background: linear-gradient(135deg, rgba(41, 230, 255, 0.1), rgba(25, 118, 210, 0.1));
            border-radius: 10px;
            border: 1px solid rgba(41, 230, 255, 0.3);
        }

        .lab-hint small {
            color: rgba(41, 230, 255, 0.9);
            font-weight: 500;
            font-size: 0.9rem;
        }

        .display-card:hover {
            transform: translateY(-10px);
            border-color: rgba(41, 230, 255, 0.6);
            box-shadow: 0 20px 60px rgba(25, 118, 210, 0.4);
        }

        .display-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #1976D2, #64B5F6, #1565C0);
            opacity: 0;
            border-radius: 25px;
            transition: opacity 0.3s ease;
        }

        .display-card:hover::before {
            opacity: 0.08;
        }

        .display-image {
            width: 100%;
            height: 250px;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(41, 230, 255, 0.2);
        }

        .display-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.3s ease;
            filter: drop-shadow(0 5px 15px rgba(41, 230, 255, 0.2));
        }

        .display-card:hover .display-image img {
            transform: scale(1.05);
            filter: drop-shadow(0 10px 25px rgba(41, 230, 255, 0.4));
        }

        .display-title {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .display-description {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.85);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .display-features {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
        }

        .feature-tag {
            background: rgba(41, 230, 255, 0.15);
            border: 1px solid rgba(41, 230, 255, 0.3);
            border-radius: 20px;
            padding: 0.4rem 1rem;
            font-size: 0.8rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .display-card:hover .feature-tag {
            background: rgba(41, 230, 255, 0.8);
            color: #1976D2;
            border-color: rgba(41, 230, 255, 0.8);
            transform: translateY(-2px);
        }

        /* Lab Exclusive Card */
        .lab-exclusive {
            border: 2px solid rgba(41, 230, 255, 0.6);
            background: linear-gradient(135deg, rgba(41, 230, 255, 0.1), rgba(41, 230, 255, 0.05));
            box-shadow: 0 0 30px rgba(41, 230, 255, 0.3);
        }

        .lab-exclusive .display-title {
            color: rgba(41, 230, 255, 1);
            text-shadow: 0 0 15px rgba(41, 230, 255, 0.5);
        }

        .lab-exclusive::before {
            background: radial-gradient(circle, rgba(41, 230, 255, 0.3), transparent 70%);
            opacity: 0.2;
        }

        .lab-exclusive:hover::before {
            opacity: 0.4;
        }

        /* Display CTA */
        .display-cta {
            text-align: center;
            margin-top: 4rem;
            padding: 3rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
            border-radius: 25px;
            border: 1px solid rgba(41, 230, 255, 0.2);
            backdrop-filter: blur(20px);
        }

        .display-cta h3 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .display-cta p {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-btn {
            background: linear-gradient(135deg, #29E6FF, #64B5F6);
            color: #1976D2;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
            box-shadow: 0 10px 30px rgba(41, 230, 255, 0.4);
        }

        .cta-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(41, 230, 255, 0.6);
            background: linear-gradient(135deg, #64B5F6, #29E6FF);
        }

        /* Mobile Responsiveness for Display Section */
        @media (max-width: 768px) {
            .dr-look-displays-section {
                padding: 4rem 0;
            }
            
            .display-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                margin: 2rem 0;
            }
            
            .display-card {
                padding: 1.5rem;
            }
            
            .display-image {
                height: 200px;
            }
            
            .display-title {
                font-size: 1.3rem;
            }
            
            .display-cta {
                padding: 2rem 1rem;
                margin-top: 2rem;
            }
            
            .display-cta h3 {
                font-size: 1.6rem;
            }
        }

        .featured-product {
            margin-bottom: 4rem;
        }

        .product-hero {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border: 2px solid rgba(41, 230, 255, 0.2);
            border-radius: 30px;
            padding: 4rem;
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .product-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 19, 141, 0.1), rgba(41, 230, 255, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .product-hero:hover::before {
            opacity: 1;
        }

        .product-visual {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 400px;
        }

        .product-icon-large {
            font-size: 8rem;
            filter: drop-shadow(0 0 30px rgba(255, 19, 141, 0.8));
            animation: iconFloat 4s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .product-image-large {
            width: 280px;
            height: 280px;
            object-fit: contain;
            filter: drop-shadow(0 0 30px rgba(41, 230, 255, 0.6));
            animation: iconFloat 4s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .product-icon-large:hover .product-image-large {
            transform: scale(1.05);
            filter: drop-shadow(0 0 40px rgba(41, 230, 255, 0.8));
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-20px) scale(1.05); }
        }

        .product-glow-large {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(41, 230, 255, 0.4), transparent);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: glowLarge 3s ease-in-out infinite;
        }

        @keyframes glowLarge {
            0%, 100% { opacity: 0.4; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.3); }
        }

        .science-particles {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 30%, rgba(255, 19, 141, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 80% 70%, rgba(41, 230, 255, 0.3) 0%, transparent 50%);
            animation: particleShift 6s ease-in-out infinite;
        }

        @keyframes particleShift {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .product-details {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .product-name-large {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 900;
            color: #29E6FF;
            text-shadow: 0 0 20px rgba(41, 230, 255, 0.5);
            margin: 0;
        }

        .product-description-large {
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }

        .product-features {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 1px solid rgba(255, 19, 141, 0.3);
        }

        .feature-icon {
            font-size: 1.2rem;
        }

        .feature-text {
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        /* Lab Product Showcase Section - Agogo Inspired */
        .lab-product-showcase {
            padding: 0 0 10rem 0;
            position: relative;
            overflow: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        


        /* Product Showcase Container */
        .product-showcase {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 2rem;
        }
        
        /* Lab Energy Field Background */
        .lab-energy-field {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, 
                rgba(0, 255, 255, 0.1) 0%, 
                rgba(255, 20, 147, 0.05) 40%, 
                transparent 70%);
            border-radius: 50%;
            animation: energyPulse 4s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes energyPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.1; }
        }

        /* Main Product Container */
        .main-product-container {
            position: relative;
            width: 400px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        
        .main-product {
            width: 400px;
            height: 400px;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            animation: mainProductFloat 4s ease-in-out infinite;
            filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
            cursor: pointer;
            position: relative;
            z-index: 10;
        }

        .main-product:hover {
            transform: scale(1.05) rotate(2deg);
            filter: drop-shadow(0 40px 80px rgba(0, 0, 0, 0.5)) drop-shadow(0 0 30px rgba(0, 255, 255, 0.6));
        }
        
        @keyframes mainProductFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(1deg); }
        }

        /* Side Products */
        .side-products {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .side-product {
            position: absolute;
            width: 200px;
            height: 200px;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            opacity: 0.6;
            filter: drop-shadow(0 15px 30px rgba(0, 0, 0, 0.3));
            cursor: pointer;
            pointer-events: auto;
        }
        
        .side-product:hover {
            opacity: 0.8;
            transform: scale(1.1);
            filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.4)) drop-shadow(0 0 20px rgba(0, 255, 255, 0.4));
        }

        /* Positioning for side products */
        .side-product.left-1 {
            left: -180px;
            top: 50%;
            transform: translateY(-50%) scale(0.6);
        }

        .side-product.left-2 {
            left: -320px;
            top: 50%;
            transform: translateY(-50%) scale(0.4);
            opacity: 0.4;
        }

        .side-product.right-1 {
            right: -180px;
            top: 50%;
            transform: translateY(-50%) scale(0.6);
        }

        .side-product.right-2 {
            right: -320px;
            top: 50%;
            transform: translateY(-50%) scale(0.4);
            opacity: 0.4;
        }

        /* Lab Navigation */
        .lab-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00FFFF;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            color: #00FFFF;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 15;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .lab-nav:hover {
            background: rgba(0, 255, 255, 0.1);
            border-color: #00FF00;
            color: #00FF00;
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        
        .lab-nav.prev {
            left: 20px;
        }
        
        .lab-nav.next {
            right: 20px;
        }
        
        /* Invention Info Panel */
        .invention-info {
            position: absolute;
            bottom: -150px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00FFFF;
            border-radius: 20px;
            padding: 0;
            min-width: 500px;
            max-width: 600px;
            overflow: hidden;
            z-index: 5;
        }
        
        .invention-header {
            background: linear-gradient(45deg, #001122, #003344);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #00FFFF;
        }
        
        .invention-details {
            padding: 2rem;
        }
        
        .invention-name {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            font-weight: 900;
            color: #00FFFF;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }
        
        .invention-tagline {
            font-size: 1.1rem;
            color: #00FF00;
            font-weight: 600;
            margin-bottom: 1rem;
            font-style: italic;
        }
        
        .invention-description {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 2rem;
            font-size: 1rem;
        }
        
        .invention-stats {
            display: flex;
            gap: 2rem;
            justify-content: center;
        }
        
        .invention-stats .stat {
            text-align: center;
        }
        
        .invention-stats .stat-value {
            display: block;
            font-size: 1.5rem;
            font-weight: bold;
            color: #00FF00;
            margin-bottom: 0.5rem;
        }
        
        .invention-stats .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* Mobile Responsiveness for Lab Product Showcase */
        @media (max-width: 768px) {
            .product-showcase {
                height: 500px;
                padding: 0 1rem;
            }
            
            .main-product-container {
                width: 300px;
                height: 300px;
            }
            
            .main-product {
                width: 280px;
                height: 280px;
                margin-bottom: 95%;
            }
            
            .side-product {
                width: 120px;
                height: 120px;
                display: none;
            }
            
            .side-product.left-1, .side-product.right-1 {
                transform: translateY(-50%) scale(0.5);
            }
            
            .side-product.left-2, .side-product.right-2 {
                transform: translateY(-50%) scale(0.3);
                opacity: 0.3;
            }
            
            .side-product.left-1 { left: -100px; }
            .side-product.left-2 { left: -180px; }
            .side-product.right-1 { right: -100px; }
            .side-product.right-2 { right: -180px; }
            
            .lab-nav {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
                margin-top: 20%;
            }
            
            .lab-nav.prev { left: 10px; }
            .lab-nav.next { right: 10px; }
            
            .invention-info {
                bottom: -120px;
                padding: 1.5rem 2rem;
                min-width: 350px;
                max-width: 98%;
            }

            .invention-name {
                font-size: 1.5rem;
            }

            .invention-tagline {
                font-size: 1rem;
            }

            .invention-description {
                font-size: 0.9rem;
            }
            
            .invention-stats {
                gap: 1rem;
            }
        }






        .product-image {
            width: 220px;
            height: 220px;
            background: var(--accent-color);
            border-radius: 50%;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            animation: productPulse 4s ease-in-out infinite;
            box-shadow: 0 0 60px var(--glow-color);
            position: relative;
            overflow: hidden;
        }

        .product-image img {
            width: 180px;
            height: 180px;
            object-fit: contain;
            filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.3));
            transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }

        .product-card:hover .product-image img {
            transform: scale3d(1.1, 1.1, 1);
        }

        .product-attitude {
            font-size: 1.2rem;
            font-weight: 800;
            color: rgba(255, 255, 255, 0.95);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
            text-shadow: 0 0 10px rgba(41, 230, 255, 0.8),
                         0 0 20px rgba(41, 230, 255, 0.4);
            background: linear-gradient(135deg, rgba(41, 230, 255, 1), rgba(255, 255, 255, 0.9));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }

        .product-attitude::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120%;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(41, 230, 255, 0.3),
                rgba(41, 230, 255, 0.5),
                rgba(41, 230, 255, 0.3),
                transparent
            );
        }

        .flavor-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--accent-color);
            display: block;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 15px var(--glow-color);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        @keyframes productPulse {
            0%, 100% { 
                transform: scale(1) rotate(0deg); 
                box-shadow: 0 0 60px var(--glow-color);
            }
            50% { 
                transform: scale(1.05) rotate(2deg); 
                box-shadow: 0 0 100px var(--glow-color);
            }
        }

        /* Product Card Animations */
        .lenguetazo-animation .product-image {
            --accent-color: #FF6B6B;
            --glow-color: rgba(255, 107, 107, 0.3);
        }

        .traganotas-animation .product-image {
            --accent-color: #4ECDC4;
            --glow-color: rgba(78, 205, 196, 0.3);
        }

        .pintapop-animation .product-image {
            --accent-color: #FFD93D;
            --glow-color: rgba(255, 217, 61, 0.3);
        }

        .rolinrollon-animation .product-image {
            --accent-color: #FF8B94;
            --glow-color: rgba(255, 139, 148, 0.3);
        }

        .secret-animation .product-image {
            --accent-color: #A8E6CF;
            --glow-color: rgba(168, 230, 207, 0.3);
        }

        .product-icon {
            width: 100px;
            height: 100px;
            object-fit: contain;
            filter: drop-shadow(0 5px 15px rgba(41, 230, 255, 0.3));
            transition: all 0.3s ease;
        }

        .carousel-controls {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            pointer-events: none;
            z-index: 10;
            padding: 0 2rem;
        }

        .carousel-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(10px);
            pointer-events: auto;
            margin: 0 2rem;
        }

        .carousel-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
            color: rgba(255, 255, 255, 1);
        }

        .carousel-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none;
        }

        .carousel-indicators {
            position: absolute;
            bottom: -2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.8rem;
            pointer-events: auto;
        }

        .carousel-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-indicator.active {
            background: rgba(255, 255, 255, 0.8);
            transform: scale(1.2);
        }

        @media (max-width: 768px) {
            .carousel-controls {
                position: relative;
                margin-top: 2rem;
                justify-content: center;
            }

            .carousel-btn {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
                margin: 0 1rem;
            }

            .carousel-indicators {
                position: static;
                transform: none;
                margin: 0 1rem;
            }
        }

        .carousel-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-indicator.active {
            background: rgba(41, 230, 255, 0.8);
            transform: scale(1.3);
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-8px) rotate(0.5deg); }
            66% { transform: translateY(-4px) rotate(-0.3deg); }
        }

        /* Laboratory Video Showcase - Inside Lab CTA */
        .lab-video-showcase {
            display: none;
            padding: 0;
            position: relative;
            overflow: hidden;
            background: 
                linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),
                url('Assets/drlook/dr_look_character_images/drlook_lab_background_test.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            z-index: 10;
            margin: 2rem 0;
            border-radius: 10px;
            border: 3px solid #FFD700;
            box-shadow: 
                inset 0 5px 20px rgba(255, 215, 0, 0.3),
                inset 0 -5px 20px rgba(255, 215, 0, 0.3);
            opacity: 0;
            max-height: 0;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Lab container inside CTA needs different styling */
        .lab-cta .lab-container {
            padding: 4rem 2rem;
        }

        .lab-video-showcase::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 25% 75%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 75% 25%, rgba(255, 19, 141, 0.05) 0%, transparent 50%);
            pointer-events: none;
            animation: labParticles 25s ease-in-out infinite;
        }

        /* Security Corner Elements */
        .lab-video-showcase::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, #00FFFF 0%, transparent 10%),
                linear-gradient(-45deg, #00FFFF 0%, transparent 10%),
                linear-gradient(135deg, #00FFFF 0%, transparent 10%),
                linear-gradient(-135deg, #00FFFF 0%, transparent 10%);
            background-size: 30px 30px;
            background-position: 
                top left,
                top right,
                bottom left,
                bottom right;
            background-repeat: no-repeat;
            opacity: 0.6;
            pointer-events: none;
        }

        /* Enhanced corner effects when lab mode is active */
        body.lab-mode-active .lab-video-showcase::after {
            animation: cornerGlow 2s ease-in-out infinite alternate;
        }

        @keyframes cornerGlow {
            0% { opacity: 0.6; }
            100% { opacity: 1; }
        }

        .lab-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }
        
        /* Apply laboratory background specifically to the lab video section container */
        .lab-video-showcase .lab-container {
            background: url('Assets/drlook/dr_look_character_images/Dr Look Laboratory.png') center / cover no-repeat;
            border-radius: 10px;
        }

        .lab-monitors {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .lab-monitor {
            position: relative;
            animation: monitorFloat 8s ease-in-out infinite;
        }

        .lab-monitor:nth-child(1) { animation-delay: 0s; }
        .lab-monitor:nth-child(2) { animation-delay: 2.5s; }
        .lab-monitor:nth-child(3) { animation-delay: 5s; }

        @keyframes monitorFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-15px) rotate(1deg); }
            66% { transform: translateY(-8px) rotate(-0.5deg); }
        }

        .monitor-frame {
            background: rgba(0, 0, 0, 0.9);
            border: 3px solid #00FFFF;
            border-radius: 20px;
            padding: 0;
            position: relative;
            transition: all 0.4s ease;
            overflow: hidden;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(0, 255, 255, 0.3);
        }

        .monitor-frame:hover {
            border-color: #00FF00;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.6),
                0 0 50px rgba(0, 255, 0, 0.4);
            transform: translateY(-5px);
        }

        .monitor-header {
            background: linear-gradient(45deg, #001122, #003344);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #00FFFF;
        }
        
        .experiment-id {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            color: #00FF00;
            font-weight: bold;
        }

        .monitor-screen {
            position: relative;
            width: 100%;
            height: 240px;
            background: radial-gradient(circle at center, rgba(0, 50, 50, 0.3), rgba(0, 20, 20, 0.8));
            overflow: hidden;
        }

        .lab-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .lab-video.playing {
            opacity: 1;
        }

        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                45deg, 
                rgba(41, 230, 255, 0.1), 
                rgba(255, 19, 141, 0.1)
            );
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .video-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .play-button {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #29E6FF, #1976D2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(41, 230, 255, 0.4);
        }

        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(41, 230, 255, 0.6);
        }

        .video-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #29E6FF;
            text-shadow: 0 0 10px rgba(41, 230, 255, 0.5);
            margin-bottom: 0.5rem;
        }

        .video-status {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .monitor-controls {
            display: flex;
            justify-content: center;
            gap: 0.8rem;
            margin-top: 1rem;
            margin-bottom: 10px;
        }

        .control-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .control-dot.active {
            background: #29E6FF;
            box-shadow: 0 0 15px rgba(41, 230, 255, 0.6);
        }

        .lab-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(41, 230, 255, 0.1), transparent);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: labGlowPulse 4s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes labGlowPulse {
            0%, 100% { 
                opacity: 0.3; 
                transform: translate(-50%, -50%) scale(1); 
            }
            50% { 
                opacity: 0.6; 
                transform: translate(-50%, -50%) scale(1.2); 
            }
        }

        .lab-footer {
            margin-top: 4rem;
            text-align: center;
        }

        .lab-note {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            background: linear-gradient(135deg, rgba(255, 215, 3, 0.1), rgba(255, 215, 3, 0.05));
            border: 1px solid rgba(255, 215, 3, 0.3);
            border-radius: 50px;
            padding: 0.8rem 2rem;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            backdrop-filter: blur(10px);
        }

        .note-icon {
            font-size: 1.2rem;
        }

        /* Product Video Preview */
        .product-video-preview {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 1rem;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid rgba(41, 230, 255, 0.4);
            background: rgba(0, 0, 0, 0.3);
        }

        .product-preview-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .video-preview-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255, 19, 141, 0.3), rgba(41, 230, 255, 0.2));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preview-play-button {
            font-size: 2rem;
            margin-bottom: 0.3rem;
            transition: all 0.3s ease;
        }

        .preview-text {
            font-size: 0.7rem;
            color: white;
            text-align: center;
            font-weight: 600;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }

        .product-video-preview:hover {
            border-color: rgba(255, 19, 141, 0.8);
            box-shadow: 0 0 20px rgba(255, 19, 141, 0.4);
        }

        .product-video-preview:hover .preview-play-button {
            transform: scale(1.2);
        }

        .product-video-preview:hover .product-preview-video {
            opacity: 1;
        }

        /* Mobile Optimization */
        @media (max-width: 768px) {
            .lab-video-showcase {
                padding: 6rem 0;
            }
            
            /* In Lab Mode on mobile, let the showcase expand to fit all videos */
            body.lab-mode-active .lab-video-showcase {
                max-height: none;
                height: auto;
                overflow: visible;
                animation: none; /* disable reveal animation that caps max-height */
                opacity: 1;
                transform: none;
            }

            .lab-monitors {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .monitor-screen {
                height: 200px;
            }

            .play-button {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }

            .video-title {
                font-size: 1rem;
            }

            .product-video-preview {
                width: 100px;
                height: 100px;
            }

            .preview-play-button {
                font-size: 1.5rem;
            }

            .preview-text {
                font-size: 0.6rem;
            }
        }

        .product-card.premium {
            border-color: rgba(91, 134, 229, 0.4);
            background: linear-gradient(135deg, rgba(91, 134, 229, 0.12), rgba(91, 134, 229, 0.06));
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15), 
                        0 0 15px rgba(91, 134, 229, 0.15),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation-delay: 2s;
        }

        .product-card.mystery {
            border-color: rgba(156, 163, 175, 0.4);
            background: linear-gradient(135deg, rgba(156, 163, 175, 0.12), rgba(156, 163, 175, 0.06));
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15), 
                        0 0 15px rgba(156, 163, 175, 0.15),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation-delay: 4s;
        }

        .product-card.experimental {
            border-color: rgba(139, 92, 246, 0.4);
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.12), rgba(139, 92, 246, 0.06));
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15), 
                        0 0 15px rgba(139, 92, 246, 0.15),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation-delay: 3s;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(91, 134, 229, 0.08), rgba(41, 230, 255, 0.08));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: rgba(41, 230, 255, 0.5);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25),
                        0 0 25px rgba(41, 230, 255, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.2);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.08));
        }

        .product-card.premium:hover {
            border-color: rgba(91, 134, 229, 0.7);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25),
                        0 0 25px rgba(91, 134, 229, 0.35),
                        inset 0 1px 0 rgba(255, 255, 255, 0.2);
            background: linear-gradient(135deg, rgba(91, 134, 229, 0.18), rgba(91, 134, 229, 0.12));
        }

        .product-card.mystery:hover {
            border-color: rgba(156, 163, 175, 0.7);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25),
                        0 0 25px rgba(156, 163, 175, 0.35),
                        inset 0 1px 0 rgba(255, 255, 255, 0.2);
            background: linear-gradient(135deg, rgba(156, 163, 175, 0.18), rgba(156, 163, 175, 0.12));
        }

        .product-card.experimental:hover {
            border-color: rgba(139, 92, 246, 0.7);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25),
                        0 0 25px rgba(139, 92, 246, 0.35),
                        inset 0 1px 0 rgba(255, 255, 255, 0.2);
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.18), rgba(139, 92, 246, 0.12));
        }

        .product-card:hover::before {
            opacity: 1;
        }

        .product-image {
            position: relative;
            margin-bottom: 2rem;
        }

        .product-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            filter: drop-shadow(0 0 15px rgba(41, 230, 255, 0.4));
            width: 100px;
            height: 100px;
            object-fit: contain;
            transition: all 0.3s ease;
        }

        .product-card:hover .product-icon {
            transform: scale(1.1);
            filter: drop-shadow(0 0 20px rgba(41, 230, 255, 0.6));
        }

        .product-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(135deg, #FF138D, #29E6FF);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .product-card.mystery .product-badge {
            background: linear-gradient(135deg, rgba(156, 163, 175, 0.9), rgba(128, 135, 150, 0.9));
            color: rgba(255, 255, 255, 0.9);
        }

        .science-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(41, 230, 255, 0.4), transparent);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: scienceGlow 3s ease-in-out infinite;
        }

        @keyframes scienceGlow {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.4; }
            50% { transform: translate(-50%, -50%) scale(1.3); opacity: 0.8; }
        }

        .mystery-glow {
            background: radial-gradient(circle, rgba(255, 215, 3, 0.4), transparent);
        }

        .product-name {
            font-size: 1.8rem;
            font-weight: 700;
            color: #29E6FF;
            margin-bottom: 1.5rem;
            text-shadow: 0 0 15px rgba(41, 230, 255, 0.5);
        }

        .product-card.premium .product-name {
            color: #FF138D;
            text-shadow: 0 0 15px rgba(255, 19, 141, 0.5);
        }

        .product-card.mystery .product-name {
            color: #FFD703;
            text-shadow: 0 0 15px rgba(255, 215, 3, 0.5);
        }

        .product-description {
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.6;
            margin-bottom: 2rem;
            font-size: 1rem;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            font-weight: 500;
        }

        .science-stats {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .stat {
            background: rgba(0, 0, 0, 0.4);
            padding: 0.8rem 1.2rem;
            border-radius: 15px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 19, 141, 0.3);
        }

        .lab-cta {
            text-align: center;
            padding: 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 2px solid rgba(41, 230, 255, 0.4);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
            margin: 2rem 0;
            width: 100%;
            max-width: none;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Lab CTA expansion when lab mode is active */
        body.lab-mode-active .lab-cta {
            border: 5px solid #00FFFF;
            box-shadow: 
                0 0 50px rgba(0, 255, 255, 0.4),
                inset 0 0 30px rgba(0, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.6);
        }

        .lab-security-tape {
            background: repeating-linear-gradient(
                45deg,
                #FFD700,
                #FFD700 10px,
                #000000 10px,
                #000000 20px
            );
            color: transparent;
            font-size: 0.8rem;
            font-weight: 900;
            text-transform: uppercase;
            padding: 0.5rem 0;
            white-space: nowrap;
            animation: scrollTape 20s linear infinite;
        }

        .lab-security-tape.bottom {
            transform: rotate(180deg);
        }

        @keyframes scrollTape {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* Enhanced security tape when lab mode is active */
        body.lab-mode-active .lab-security-tape {
            background: repeating-linear-gradient(
                45deg,
                #00FFFF,
                #00FFFF 10px,
                #000000 10px,
                #000000 20px
            );
            animation: scrollTape 15s linear infinite, tapeGlow 2s ease-in-out infinite alternate;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        @keyframes tapeGlow {
            0% { 
                box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
                filter: brightness(1);
            }
            100% { 
                box-shadow: 0 0 40px rgba(0, 255, 255, 0.8);
                filter: brightness(1.2);
            }
        }

        /* ========== COMPLETE PAGE LAB MODE IMMERSION ========== */
        
        /* Global Body Transformation */
        body.lab-mode-active {
            background: linear-gradient(135deg, #001122 0%, #000033 50%, #001122 100%);
            transition: all 1.5s ease;
        }

        /* Global Lab Environment Overlay */
        body.lab-mode-active::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(0, 255, 255, 0.02) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 19, 141, 0.02) 0%, transparent 50%),
                radial-gradient(circle at 50% 10%, rgba(138, 43, 226, 0.01) 0%, transparent 50%);
            animation: globalLabPulse 15s ease-in-out infinite;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes globalLabPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }

        /* Hero Section Complete Lab Transformation - Enhanced */
        body.lab-mode-active .hero {
            background: 
                linear-gradient(135deg, #000308 0%, #000a1a 20%, #001122 40%, #000f22 60%, #001133 80%, #000308 100%);
            transition: all 1.5s ease;
            position: relative;
            overflow: hidden;
        }

        body.lab-mode-active .hero::before {
            background: 
                radial-gradient(circle at 25% 75%, rgba(0, 255, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 75% 25%, rgba(255, 19, 141, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(138, 43, 226, 0.10) 0%, transparent 60%),
                radial-gradient(circle at 10% 10%, rgba(0, 150, 200, 0.05) 0%, transparent 40%);
            animation: heroLabPulse 8s ease-in-out infinite;
        }

        /* Additional Lab Mode Hero Effects */
        body.lab-mode-active .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 80px,
                    rgba(0, 255, 255, 0.04) 80px,
                    rgba(0, 255, 255, 0.04) 82px
                ),
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 60px,
                    rgba(255, 19, 141, 0.03) 60px,
                    rgba(255, 19, 141, 0.03) 62px
                ),
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 120px,
                    rgba(138, 43, 226, 0.02) 120px,
                    rgba(138, 43, 226, 0.02) 121px
                );
            animation: labGridScan 15s linear infinite;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes heroLabPulse {
            0%, 100% { 
                opacity: 0.6; 
                transform: scale(1); 
            }
            25% { 
                opacity: 0.8; 
                transform: scale(1.01); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.02); 
            }
            75% { 
                opacity: 0.8; 
                transform: scale(1.01); 
            }
        }

        @keyframes labGridScan {
            0% { 
                transform: translateX(-120px) translateY(-100px) rotate(0deg); 
                opacity: 0.3;
            }
            25% { 
                opacity: 0.6;
            }
            50% { 
                transform: translateX(0px) translateY(0px) rotate(0.5deg); 
                opacity: 0.8;
            }
            75% { 
                opacity: 0.6;
            }
            100% { 
                transform: translateX(120px) translateY(100px) rotate(1deg); 
                opacity: 0.3;
            }
        }

        /* Hero Text Lab Mode Effects - Enhanced */
        body.lab-mode-active .hero-title {
            text-shadow: 
                4px 4px 0px #001122, 
                8px 8px 20px rgba(0, 255, 255, 0.4),
                0 0 40px rgba(0, 255, 255, 0.3),
                0 0 80px rgba(255, 19, 141, 0.2);
            animation: titleLabGlow 4s ease-in-out infinite;
            position: relative;
            z-index: 5;
        }

        @keyframes titleLabGlow {
            0%, 100% { 
                text-shadow: 
                    4px 4px 0px #001122, 
                    8px 8px 20px rgba(0, 255, 255, 0.4),
                    0 0 40px rgba(0, 255, 255, 0.3),
                    0 0 80px rgba(255, 19, 141, 0.2);
            }
            33% { 
                text-shadow: 
                    4px 4px 0px #001122, 
                    8px 8px 25px rgba(0, 255, 255, 0.6),
                    0 0 60px rgba(0, 255, 255, 0.5),
                    0 0 100px rgba(255, 19, 141, 0.3);
            }
            66% { 
                text-shadow: 
                    4px 4px 0px #001122, 
                    8px 8px 22px rgba(255, 19, 141, 0.5),
                    0 0 50px rgba(255, 19, 141, 0.4),
                    0 0 90px rgba(0, 255, 255, 0.3);
            }
        }

        body.lab-mode-active .hero-description {
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 
                0 0 10px rgba(0, 255, 255, 0.4),
                0 0 20px rgba(255, 19, 141, 0.2);
            position: relative;
            z-index: 5;
        }

        /* Lab Feed Background Enhancement */
        body.lab-mode-active .lab-feed {
            background: 
                linear-gradient(135deg, rgba(0, 20, 40, 0.95) 0%, rgba(0, 10, 30, 0.95) 100%);
            border: 2px solid rgba(0, 255, 255, 0.4);
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.3),
                inset 0 0 20px rgba(0, 255, 255, 0.1);
        }

        /* Character Badge Lab Enhancement */
        body.lab-mode-active .character-badge {
            background: 
                linear-gradient(135deg, rgba(0, 20, 40, 0.9) 0%, rgba(0, 30, 50, 0.9) 100%);
            border: 2px solid rgba(0, 255, 255, 0.5);
            box-shadow: 
                0 0 20px rgba(0, 255, 255, 0.4),
                inset 0 0 15px rgba(0, 255, 255, 0.1);
        }

        body.lab-mode-active .badge-text {
            color: #00FFFF;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        body.lab-mode-active .badge-subtitle {
            color: rgba(255, 19, 141, 0.9);
            text-shadow: 0 0 8px rgba(255, 19, 141, 0.4);
        }

        /* Lab Mode Indicator */
        .lab-mode-indicator {
            display: none;
            font-family: 'Courier New', monospace;
            font-size: 0.75rem;
            font-weight: 700;
            color: #00FF00;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 0.5rem;
            text-shadow: 
                0 0 5px #00FF00,
                0 0 10px #00FF00,
                0 0 15px rgba(0, 255, 0, 0.5);
            animation: labModeIndicatorPulse 2s ease-in-out infinite;
        }

        body.lab-mode-active .lab-mode-indicator {
            display: block;
        }

        @keyframes labModeIndicatorPulse {
            0%, 100% { 
                opacity: 0.8; 
                text-shadow: 
                    0 0 5px #00FF00,
                    0 0 10px #00FF00,
                    0 0 15px rgba(0, 255, 0, 0.5);
            }
            50% { 
                opacity: 1; 
                text-shadow: 
                    0 0 8px #00FF00,
                    0 0 15px #00FF00,
                    0 0 25px rgba(0, 255, 0, 0.8);
            }
        }

        /* Dr. Look Pointing Character Lab Mode */
        body.lab-mode-active .dr-look-pointing {
            filter: drop-shadow(0 0 40px rgba(0, 255, 255, 0.6))
                   drop-shadow(0 0 20px rgba(255, 19, 141, 0.4));
        }

        body.lab-mode-active .pointing-glow {
            background: radial-gradient(circle, 
                rgba(0, 255, 255, 0.4) 0%, 
                rgba(255, 19, 141, 0.3) 30%, 
                rgba(138, 43, 226, 0.2) 60%,
                transparent 80%);
            animation: pointingGlow 3s ease-in-out infinite, labPointingPulse 8s ease-in-out infinite;
        }

        body.lab-mode-active .character-speech-bubble {
            background: linear-gradient(135deg, #00FFFF, #FF1493);
            border: 1px solid rgba(0, 255, 255, 0.5);
            box-shadow: 
                0 0 20px rgba(0, 255, 255, 0.4),
                inset 0 0 10px rgba(0, 255, 255, 0.1);
        }

        body.lab-mode-active .character-speech-bubble::before {
            border-top-color: #00FFFF;
        }

        body.lab-mode-active .bubble-text {
            background: linear-gradient(45deg, #00FFFF, #FFFFFF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @keyframes labPointingPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.4; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.7; }
        }

        /* Dr. Look Character Lab Mode Enhancement */
        body.lab-mode-active .dr-look-main {
            filter: 
                drop-shadow(0 0 30px rgba(0, 255, 255, 0.4))
                drop-shadow(0 0 60px rgba(255, 19, 141, 0.2));
            animation: characterLabGlow 4s ease-in-out infinite;
        }

        @keyframes characterLabGlow {
            0%, 100% { 
                filter: 
                    drop-shadow(0 0 30px rgba(0, 255, 255, 0.4))
                    drop-shadow(0 0 60px rgba(255, 19, 141, 0.2));
            }
            50% { 
                filter: 
                    drop-shadow(0 0 50px rgba(0, 255, 255, 0.6))
                    drop-shadow(0 0 80px rgba(255, 19, 141, 0.4));
            }
        }

        /* Lab Feed Enhanced Mode */
        body.lab-mode-active .lab-monitor {
            border-color: #00FFFF;
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.4),
                inset 0 0 20px rgba(0, 255, 255, 0.1);
            animation: monitorLabPulse 3s ease-in-out infinite;
        }

        @keyframes monitorLabPulse {
            0%, 100% { 
                border-color: #00FFFF;
                box-shadow: 
                    0 0 30px rgba(0, 255, 255, 0.4),
                    inset 0 0 20px rgba(0, 255, 255, 0.1);
            }
            50% { 
                border-color: #FF1493;
                box-shadow: 
                    0 0 40px rgba(255, 19, 141, 0.5),
                    inset 0 0 25px rgba(255, 19, 141, 0.15);
            }
        }

        /* Story Section Lab Transformation */
        body.lab-mode-active .story-section {
            background: 
                linear-gradient(135deg, #000a1a 0%, #001a33 25%, #000033 50%, #001122 75%, #000a1a 100%);
        }

        body.lab-mode-active .story-section::before {
            background: 
                radial-gradient(circle at 30% 70%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 70% 30%, rgba(255, 19, 141, 0.05) 0%, transparent 50%);
        }

        /* Innovation Laboratory Enhanced Mode */
        body.lab-mode-active .innovation-laboratory {
            background: 
                linear-gradient(135deg, #000a1a 0%, #000033 25%, #001a33 50%, #000033 75%, #000a1a 100%);
        }

        body.lab-mode-active .discovery-chamber {
            border-color: #00FFFF;
            background: rgba(0, 20, 40, 0.8);
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.3),
                inset 0 0 20px rgba(0, 255, 255, 0.1);
        }

        body.lab-mode-active .discovery-chamber:hover {
            border-color: #FF1493;
            box-shadow: 
                0 20px 40px rgba(0, 255, 255, 0.4),
                0 0 60px rgba(255, 19, 141, 0.5);
        }

        body.lab-mode-active .specimen-glow {
            background: radial-gradient(circle, rgba(0, 255, 255, 0.4), transparent 70%);
        }

        /* Display Section Lab Transformation */
        body.lab-mode-active .dr-look-displays-section {
            background: 
                linear-gradient(135deg, #000a1a 0%, #001122 25%, #000033 50%, #001122 75%, #000a1a 100%);
        }

        body.lab-mode-active .display-card {
            background: rgba(0, 20, 40, 0.7);
            border: 2px solid rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }

        body.lab-mode-active .display-card:hover {
            border-color: #FF1493;
            box-shadow: 
                0 10px 30px rgba(0, 255, 255, 0.3),
                0 0 40px rgba(255, 19, 141, 0.4);
            transform: translateY(-10px);
        }

        /* Footer Lab Transformation */
        body.lab-mode-active footer {
            background: 
                linear-gradient(135deg, #000a1a 0%, #001122 50%, #000a1a 100%);
            border-top: 2px solid rgba(0, 255, 255, 0.3);
        }

        /* Navigation Lab Mode */
        body.lab-mode-active .navbar {
            background: rgba(0, 20, 40, 0.95);
            border-bottom: 2px solid rgba(0, 255, 255, 0.3);
            box-shadow: 0 5px 20px rgba(0, 255, 255, 0.2);
        }

        body.lab-mode-active .nav-link {
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 0 5px rgba(0, 255, 255, 0.3);
        }

        body.lab-mode-active .nav-link:hover {
            color: #00FFFF;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .cta-content {
            max-width: 100%;
            margin: 0;
            padding: 1.5rem 2rem;
            position: relative;
            background: linear-gradient(135deg, 
                rgba(41, 230, 255, 0.05) 0%,
                rgba(255, 19, 141, 0.05) 50%,
                rgba(41, 230, 255, 0.05) 100%
            );
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .cta-top-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
        }

        .cta-button-row {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .lab-warning {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        .warning-icon {
            font-size: 2rem;
            animation: pulse 2s ease-in-out infinite;
        }

        .warning-text {
            font-size: 1rem;
            font-weight: 800;
            letter-spacing: 0.2em;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .lab-cta h3 {
            font-size: 1.2rem;
            font-weight: 900;
            color: #29E6FF;
            margin: 0;
            text-shadow: 0 0 20px rgba(41, 230, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .lab-clearance {
            margin: 0;
        }

        .clearance-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 19, 141, 0.1);
            border: 2px solid rgba(255, 19, 141, 0.3);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.9rem;
        }

        .badge-icon {
            font-size: 1.5rem;
        }

        .badge-text {
            font-weight: 800;
            color: #FF138D;
            text-shadow: 0 0 10px rgba(255, 19, 141, 0.5);
            letter-spacing: 0.1em;
        }

        .lab-description {
            color: rgba(255, 255, 255, 0.9);
            margin: 2rem auto;
            font-size: 1.2rem;
            line-height: 1.6;
            max-width: 600px;
            font-style: italic;
        }

        .lab-security-measures {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
        }

        .security-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .security-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            animation: float 3s ease-in-out infinite;
        }

        .security-item span:last-child {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .lab-enter-btn {
            position: relative;
            display: flex;
            align-items: center;
            gap: 1rem;
            background: linear-gradient(135deg, #FF138D, #29E6FF);
            border: none;
            border-radius: 50px;
            padding: 1.5rem 3rem;
            color: white;
            font-size: 1.2rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 15px 40px rgba(255, 19, 141, 0.4);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin: 2rem auto;
            overflow: hidden;
        }

        .btn-glow {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                from 0deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            animation: rotate 3s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .lab-enter-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 50px rgba(255, 19, 141, 0.6),
                        0 0 30px rgba(41, 230, 255, 0.6);
        }

        .lab-hint {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .hint-icon {
            font-size: 1.5rem;
            animation: pulse 2s ease-in-out infinite;
        }

        .lab-hint p {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
            letter-spacing: 0.05em;
            margin: 0;
        }

        @media (max-width: 768px) {
            .products-section {
                padding: 4rem 0;
            }
            
            .product-hero {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 2rem;
            }
            
            .product-visual {
                height: 250px;
            }
            
            .product-icon-large {
                font-size: 5rem;
            }
            
            .product-image-large {
                width: 180px;
                height: 180px;
            }
            
            .products-carousel {
                gap: 1rem;
            }
            
            .product-card {
                min-width: 280px;
                padding: 1.5rem;
            }
            
            .carousel-controls {
                margin-top: 1.5rem;
            }
            
            .carousel-btn {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            

            
            .product-card {
                padding: 2rem;
            }
            
            .section-title {
                font-size: clamp(2.5rem, 8vw, 4rem);
            }
            
            .lab-cta {
                padding: 3rem 2rem;
            }
        }

        .readouts {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .readout {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #29E6FF;
            border-radius: 10px;
            padding: 0.5rem;
            text-align: center;
        }

        .readout .value {
            display: block;
            font-size: 1rem;
            font-weight: 700;
            color: #00ff41;
            text-shadow: 0 0 5px #00ff41;
        }

        .readout .label {
            font-size: 0.6rem;
            color: #29E6FF;
            text-transform: uppercase;
        }

        /* Lab Mode Active State */
        body.lab-mode {
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e, #2d1b69) !important;
            transition: background 2s ease;
        }

        body.lab-mode .hero::before {
            background-image: 
                radial-gradient(circle at 25% 75%, rgba(0, 255, 65, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 75% 25%, rgba(255, 19, 141, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(41, 230, 255, 0.1) 0%, transparent 60%);
            animation: labAtmosphereActive 6s ease-in-out infinite;
        }

        @keyframes labAtmosphereActive {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1) rotate(0deg);
            }
            25% { 
                opacity: 0.8; 
                transform: scale(1.2) rotate(1deg);
            }
            50% { 
                opacity: 1.2; 
                transform: scale(0.9) rotate(-1deg);
            }
            75% { 
                opacity: 0.9; 
                transform: scale(1.1) rotate(2deg);
            }
        }



        body.lab-mode .hero-subtitle {
            color: #00ff41;
            text-shadow: 0 0 15px #00ff41;
        }

        /* Laboratory Particles */
        .lab-particle {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            z-index: 5;
            animation: labParticleFloat 8s ease-in-out infinite;
        }

        @keyframes labParticleFloat {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(1); 
                opacity: 0.6; 
            }
            25% { 
                transform: translateY(-30px) rotate(90deg) scale(1.2); 
                opacity: 1; 
            }
            50% { 
                transform: translateY(-20px) rotate(180deg) scale(0.8); 
                opacity: 0.8; 
            }
            75% { 
                transform: translateY(-40px) rotate(270deg) scale(1.1); 
                opacity: 0.9; 
            }
        }
        
        .hero-subtitle {
            font-size: clamp(1.4rem, 4vw, 2.2rem);
            color: white;
            margin-bottom: 3rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: slideUp 1s ease-out 0.5s both;
            font-weight: 600;
            letter-spacing: -0.01em;
            max-width: 900px;
            line-height: 1.3;
            opacity: 0.95;
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .bubble {
            position: absolute;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.8), rgba(41, 230, 255, 0.4));
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        .bubble:nth-child(1) { width: 60px; height: 60px; left: 10%; animation-delay: 0s; }
        .bubble:nth-child(2) { width: 40px; height: 40px; left: 20%; animation-delay: 1s; }
        .bubble:nth-child(3) { width: 80px; height: 80px; left: 80%; animation-delay: 2s; }
        .bubble:nth-child(4) { width: 30px; height: 30px; left: 70%; animation-delay: 0.5s; }
        
        @keyframes float {
            0%, 100% { transform: translateY(100vh) scale(0); opacity: 0; }
            10% { opacity: 1; transform: scale(1); }
            90% { opacity: 1; }
        }
        
        .cta-button {
            background: linear-gradient(45deg, #FF138D, #FFD703);
            color: white;
            border: none;
            padding: 1.5rem 3rem;
            font-size: 1.4rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 15px 40px rgba(255, 19, 141, 0.4);
            animation: pulse 2s infinite;
            font-family: 'Space Grotesk', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }
        
        .cta-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 20px 50px rgba(255, 19, 141, 0.6);
        }

        /* Trust Signals - Inspired by Alec's Ice Cream */
        .trust-signals {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .trust-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .trust-badge:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .trust-badge-icon {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Live Lab Feed Section */
        .lab-feed {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .lab-monitor {
            background: rgba(0, 0, 0, 0.9);
            border-radius: 20px;
            padding: 0;
            border: 3px solid #00FFFF;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .monitor-header {
            background: linear-gradient(45deg, #001122, #003344);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #00FFFF;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            background: #00FF00;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .status-text {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.9rem;
            font-weight: 700;
            color: #00FFFF;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .timestamp {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            color: #00FF00;
            font-weight: bold;
        }
        
        .monitor-screen {
            padding: 1.5rem;
            background: radial-gradient(circle at center, rgba(0, 50, 50, 0.3), rgba(0, 20, 20, 0.8));
        }
        
        .experiment-feed {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .experiment-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: rgba(0, 255, 255, 0.05);
            border-radius: 15px;
            border-left: 4px solid #00FFFF;
            transition: all 0.3s ease;
        }
        
        .experiment-item.active {
            background: rgba(0, 255, 0, 0.1);
            border-left-color: #00FF00;
            box-shadow: 0 5px 20px rgba(0, 255, 0, 0.2);
        }
        
        .experiment-icon {
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            flex-shrink: 0;
        }
        
        .experiment-content h4 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0 0 0.5rem 0;
        }
        
        .experiment-content p {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin: 0 0 1rem 0;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #00FF00, #00FFFF);
            border-radius: 4px;
            animation: progressPulse 2s ease-in-out infinite;
        }
        
        .progress-text {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.8rem;
            color: #00FF00;
            font-weight: 600;
        }
        
        .status-badge {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.7rem;
            font-weight: 700;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: #FFD700;
            color: #333;
        }
        
        .status-badge.completed {
            background: linear-gradient(45deg, #00FF00, #00FFFF);
            color: #000;
            animation: glow 2s ease-in-out infinite;
        }
        
        .lab-quote {
            padding: 1.5rem;
            background: rgba(255, 215, 0, 0.1);
            border-top: 2px solid #FFD700;
            text-align: center;
        }
        
        .lab-quote p {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1rem;
            color: #FFD700;
            font-style: italic;
            margin: 0 0 0.5rem 0;
            font-weight: 500;
        }
        
        .lab-quote cite {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.9rem;
            color: rgba(255, 215, 0, 0.8);
            font-weight: 600;
        }
        
        .discovery-counter {
            display: flex;
            gap: 1rem;
        }
        
        .counter-item {
            flex: 1;
            text-align: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem 1rem;
            border-radius: 20px;
            border: 2px solid rgba(0, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .counter-number {
            display: block;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #00FFFF, #00FF00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
        }
        
        .counter-label {
            display: block;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.9rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 0.5rem;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        @keyframes progressPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 255, 0.5); }
            50% { box-shadow: 0 0 20px rgba(0, 255, 255, 0.8); }
        }
        
        @keyframes storyParticles {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg);
                opacity: 1;
            }
            50% { 
                transform: translateY(-30px) rotate(180deg);
                opacity: 0.6;
            }
        }

        /* Dr. Look Pointing Character */
        .story-character {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .character-pointing-container {
            position: relative;
            transform: scale(1);
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            animation: pointingFloat 6s ease-in-out infinite;
        }

        .dr-look-pointing {
            width: 280px;
            height: auto;
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3));
            transition: all 0.4s ease;
            position: relative;
            z-index: 3;
        }

        .pointing-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 320px;
            height: 320px;
            background: radial-gradient(circle, 
                rgba(0, 255, 255, 0.2) 0%, 
                rgba(255, 19, 141, 0.1) 30%, 
                transparent 70%);
            border-radius: 50%;
            animation: pointingGlow 4s ease-in-out infinite;
            z-index: 1;
        }

        .character-speech-bubble {
            position: absolute;
            top: -60px;
            right: -80px;
            background: linear-gradient(135deg, #FF1493, #8A2BE2);
            color: white;
            padding: 12px 18px;
            border-radius: 20px;
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            animation: bubbleFloat 10s ease-in-out infinite;
            z-index: 4;
        }

        .character-speech-bubble::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid #8A2BE2;
        }

        .bubble-text {
            background: linear-gradient(45deg, #FFD700, #FFF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            text-shadow: none;
        }

        /* Hover Interactions */
        .character-pointing-container:hover {
            transform: scale(1.05);
        }

        .character-pointing-container:hover .dr-look-pointing {
            filter: drop-shadow(0 0 30px rgba(0, 255, 255, 0.5))
                   drop-shadow(0 0 40px rgba(255, 19, 141, 0.3));
        }

        .character-pointing-container:hover .character-speech-bubble {
            transform: scale(1);
            background: linear-gradient(135deg, #00FFFF, #FF1493);
        }

        /* Animations */
        @keyframes pointingFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(-1deg); }
            50% { transform: translateY(-5px) rotate(0deg); }
            75% { transform: translateY(-15px) rotate(1deg); }
        }

        @keyframes pointingGlow {
            0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.1); }
        }

        @keyframes bubbleFloat {
            0%, 100% { transform: scale(0.9) translateY(0px); }
            50% { transform: scale(0.95) translateY(-5px); }
        }
        
        @keyframes labParticles {
            0%, 100% { 
                transform: translateX(0px) scale(1);
                opacity: 0.8;
            }
            50% { 
                transform: translateX(30px) scale(1.2);
                opacity: 0.4;
            }
        }
        
        @keyframes swiperParticles {
            0%, 100% { 
                transform: rotate(0deg) scale(1);
                opacity: 0.7;
            }
            50% { 
                transform: rotate(180deg) scale(1.1);
                opacity: 0.3;
            }
        }

        .speech-bubble {
            background: white;
            border: 3px solid #333;
            border-radius: 25px;
            padding: 1.5rem 2rem;
            position: relative;
            max-width: 600px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            transform: rotate(-2deg);
            z-index: 1001;
            /* Temporary debug */
            border: 5px solid red !important;
            background: yellow !important;
        }

        .speech-text {
            font-family: 'Space Grotesk', sans-serif;
            font-size: clamp(1.2rem, 3vw, 1.6rem);
            font-weight: 600;
            color: #333;
            margin: 0;
            line-height: 1.4;
            text-align: center;
            /* Temporary debug */
            background: rgba(255, 0, 0, 0.1);
        }

        .speech-tail {
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 15px solid white;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }

        .speech-tail::before {
            content: '';
            position: absolute;
            top: -18px;
            left: -15px;
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 15px solid #333;
        }

        @keyframes speechBubbleFloat {
            0%, 100% { transform: rotate(-2deg) translateY(0px); }
            50% { transform: rotate(-1deg) translateY(-5px); }
        }

        /* Speech bubble hover effect */
        .speech-bubble:hover {
            transform: rotate(-1deg) scale(1.02);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 10px 30px rgba(255, 19, 141, 0.3); }
            50% { box-shadow: 0 15px 40px rgba(255, 19, 141, 0.6); }
            100% { box-shadow: 0 10px 30px rgba(255, 19, 141, 0.3); }
        }
        
        /* Lab Mode Styles */
        .lab-mode-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(45deg, #FF138D, #FFD703);
            color: white;
            border: none;
            padding: 1rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            z-index: 1000;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
        }
        
        .lab-mode-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(255, 19, 141, 0.5);
        }
        
        .lab-activation-zone {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }
        
        .lab-activation-zone.show {
            opacity: 1;
            visibility: visible;
        }
        
        /* Lab Mode Active States */
        body.lab-mode {
            background: linear-gradient(135deg, #0a001a, #1a0066, #29E6FF);
            animation: labPulse 4s ease-in-out infinite;
        }
        
        @keyframes labPulse {
            0%, 100% { filter: brightness(1) contrast(1); }
            50% { filter: brightness(1.2) contrast(1.1); }
        }
        
        body.lab-mode .hero {
            background: #0a001a;
            background-image: 
                radial-gradient(circle at 15% 25%, #29E6FF 0%, transparent 45%),
                radial-gradient(circle at 85% 75%, #4A90E2 0%, transparent 45%),
                radial-gradient(circle at 70% 30%, #1E88E5 0%, transparent 35%),
                radial-gradient(circle at 30% 85%, #29E6FF 0%, transparent 40%),
                radial-gradient(circle at 95% 15%, #2196F3 0%, transparent 30%),
                linear-gradient(135deg, #0a001a 0%, #1a0066 50%, #0a001a 100%);
            animation: labGlow 3s ease-in-out infinite;
        }
        
        @keyframes labGlow {
            0%, 100% { 
                filter: brightness(1) contrast(1.1);
                box-shadow: inset 0 0 100px rgba(41, 230, 255, 0.2);
            }
            50% { 
                filter: brightness(1.3) contrast(1.2);
                box-shadow: inset 0 0 200px rgba(30, 136, 229, 0.3);
            }
        }
        
        /* Dr. Look Avatar */
        .dr-look-avatar {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #FF138D, #29E6FF);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            cursor: pointer;
            z-index: 1000;
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.5s ease;
            animation: doctorBounce 3s ease-in-out infinite;
        }
        
        body.lab-mode .dr-look-avatar {
            opacity: 1;
            transform: translateY(0);
        }
        
        @keyframes doctorBounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.05); }
        }
        
        .dr-look-avatar:hover {
            transform: scale(1.2) rotate(10deg);
        }
        
        /* Speech Bubble */
        .speech-bubble {
            position: fixed;
            bottom: 160px;
            right: 20px;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 20px;
            max-width: 250px;
            font-weight: 600;
            color: #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        
        .speech-bubble.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -8px;
            right: 30px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid white;
        }
        
        /* Section Styling */
        .section {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }
        
        .section-title {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 800;
            font-size: clamp(2rem, 5vw, 4rem);
            text-align: center;
            margin-bottom: 3rem;
            /* background: linear-gradient(45deg, #FF138D, #29E6FF); */
            /* -webkit-background-clip: text;
            -webkit-text-fill-color: transparent; */
            background-clip: text;
            letter-spacing: -0.02em;
        }
        
        /* Meet Dr. Look Section - Redesigned */
        .meet-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .dr-look-intro {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            min-height: 60vh;
        }
        
        .doctor-visual {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .doctor-avatar {
            width: 300px;
            height: 300px;
            background: linear-gradient(45deg, #29E6FF, #FF138D);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: doctorFloat 4s ease-in-out infinite;
        }
        
        .doctor-avatar:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 20px 60px rgba(255, 19, 141, 0.4);
        }
        
        .glasses {
            font-size: 6rem;
            animation: glassesGlow 3s ease-in-out infinite;
        }
        
        @keyframes doctorFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes glassesGlow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(41, 230, 255, 0.8)); }
            50% { filter: drop-shadow(0 0 40px rgba(255, 19, 141, 0.8)); }
        }
        
        .lab-coat {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 100px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.7));
            border-radius: 100px 100px 20px 20px;
            border: 3px solid rgba(255, 255, 255, 0.8);
        }
        
        .thought-bubble {
            position: absolute;
            top: -80px;
            left: -50px;
            background: white;
            color: #333;
            padding: 1rem 1.5rem;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(20px) scale(0.8);
            transition: all 0.3s ease;
            z-index: 10;
            max-width: 200px;
        }
        
        .thought-bubble::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50px;
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 15px solid white;
        }
        
        .doctor-avatar:hover .thought-bubble {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        
        .intro-content {
            color: white;
        }
        
        .intro-text {
            font-size: 1.3rem;
            margin-bottom: 3rem;
            line-height: 1.6;
            opacity: 0.9;
        }
        
        .genius-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .stat-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 1.5rem;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .stat-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .stat-number {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(45deg, #FFD703, #FF138D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .meet-cta {
            background: linear-gradient(45deg, #29E6FF, #FFD703);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 10px 30px rgba(41, 230, 255, 0.3);
            font-family: 'Inter', sans-serif;
        }
        
        .meet-cta:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 40px rgba(41, 230, 255, 0.5);
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .dr-look-intro {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }
            
            .doctor-avatar {
                width: 200px;
                height: 200px;
            }
            
            .glasses {
                font-size: 4rem;
            }
            
            .genius-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .thought-bubble {
                position: static;
                margin-top: 1rem;
                opacity: 1;
                transform: none;
            }
            
            .thought-bubble::after {
                display: none;
            }

            .logo-image {
                height: clamp(60px, 15vw, 120px);
                filter: drop-shadow(0 0 15px rgba(255, 19, 141, 0.6))
                        drop-shadow(0 0 25px rgba(41, 230, 255, 0.4))
                        drop-shadow(0 0 35px rgba(255, 215, 3, 0.3));
            }

            .hero-subtitle {
                font-size: clamp(1rem, 4vw, 1.8rem);
                margin-bottom: 1.5rem;
            }

            .dr-look-logo {
                margin-bottom: 0.8rem;
            }

            /* Mobile Laboratory Elements */
            .dr-look-character {
                width: 80px;
                height: 100px;
                left: 5%;
                top: 25%;
            }

            .character-head {
                width: 40px;
                height: 40px;
            }

            .lab-coat {
                width: 60px;
                height: 70px;
            }

            .goggles {
                font-size: 1.5rem;
            }

            .speech-bubble {
                font-size: 0.8rem;
                padding: 0.5rem 0.8rem;
                left: -20px;
                top: -50px;
            }

            .lab-controls {
                width: 200px;
                height: 150px;
                bottom: 5%;
                right: 2%;
            }

            .lab-btn {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }

            .gauge {
                grid-row: 1 / 2;
            }

            .readouts {
                grid-column: 2;
                grid-row: 2;
            }

            .buttons {
                grid-column: 1;
                grid-row: 2;
                flex-direction: row;
                gap: 0.3rem;
            }

            .beaker {
                width: 40px;
                height: 60px;
            }

            .test-tube {
                width: 15px;
                height: 40px;
            }

            .microscope {
                width: 30px;
                height: 30px;
            }

            .lab-toggle-btn {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }
        }
        
        /* Candy Lab Section */
        .candy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .candy-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 2rem;
            text-align: center;
            border: 2px solid transparent;
            background-clip: padding-box;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            color: white;
        }
        
        .candy-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #FF138D, #29E6FF, #FFD703);
            border-radius: 25px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .candy-card:hover::before {
            opacity: 1;
        }
        
        .candy-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .candy-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1rem;
            background: linear-gradient(45deg, #FF138D, #FFD703);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            animation: candySpin 4s linear infinite;
        }
        
        @keyframes candySpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Comparison Section */
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-top: 3rem;
        }
        
        .comparison-side {
            padding: 2rem;
            border-radius: 25px;
            text-align: center;
            position: relative;
        }
        
        .boring-side {
            background: linear-gradient(135deg, #666, #999);
            color: #ccc;
            filter: grayscale(100%);
        }
        
        .dr-look-side {
            background: linear-gradient(135deg, #FF138D, #29E6FF);
            color: white;
            animation: energize 3s ease-in-out infinite;
        }
        
        @keyframes energize {
            0%, 100% { filter: brightness(1) saturate(1); }
            50% { filter: brightness(1.2) saturate(1.3); }
        }

        /* Interactive Lab Challenge Section */
        .interactive-lab-challenge {
            background: linear-gradient(135deg, #4169E1 0%, #8A2BE2 25%, #FF1493 50%, #00BFFF 75%, #4169E1 100%);
            padding: 6rem 0;
            position: relative;
            overflow: hidden;
            border-top: 5px solid #FFD700;
            border-bottom: 5px solid #FFD700;
        }

        .interactive-lab-challenge::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 25% 75%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 75% 25%, rgba(255, 19, 141, 0.05) 0%, transparent 50%);
            pointer-events: none;
            /* Removed animation for performance */
        }

        .challenge-workspace {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 4rem;
            align-items: center;
            margin: 4rem 0;
        }

        .dr-look-challenge-character {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .dr-look-presenter {
            width: 350px;
            height: auto;
            max-width: 100%;
            position: relative;
            z-index: 2;
            /* Simplified animation for performance */
            animation: challengeCharacterFloat 8s ease-in-out infinite;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
        }

        @keyframes challengeCharacterFloat {
            0%, 100% { transform: translateY(0px) rotateY(0deg); }
            33% { transform: translateY(-15px) rotateY(2deg); }
            66% { transform: translateY(-8px) rotateY(-2deg); }
        }

        .character-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.2) 0%, transparent 70%);
            border-radius: 50%;
            /* Removed animation for performance */
            z-index: 1;
        }

        /* Removed characterGlowPulse animation for performance */

        .challenge-speech-bubble {
            position: absolute;
            top: -20px;
            right: -50px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #333;
            padding: 1rem 1.5rem;
            border-radius: 20px 20px 20px 5px;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4);
            /* Removed animation for performance */
            z-index: 3;
            max-width: 200px;
            text-align: center;
        }

        .challenge-speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 20px;
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 15px solid #FFA500;
        }

        .challenge-monitor {
            position: relative;
        }

        .challenge-monitor .monitor-frame {
            background: rgba(0, 0, 0, 0.95);
            border: 4px solid #00FFFF;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 
                0 0 40px rgba(0, 255, 255, 0.5),
                inset 0 5px 20px rgba(0, 255, 255, 0.1);
            position: relative;
            z-index: 5; /* Ensure monitor stays above any overlays */
            /* Removed animation for performance */
        }

        /* Removed monitorPulse animation for performance */

        .challenge-monitor .monitor-header {
            background: linear-gradient(45deg, #001122, #003344);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #00FFFF;
        }

        .challenge-id {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            color: #00FF00;
            font-weight: bold;
        }

        .challenge-monitor .monitor-screen {
            background: radial-gradient(circle at center, rgba(0, 50, 50, 0.3), rgba(0, 20, 20, 0.9));
            padding: 2rem;
            /* Allow content to define height and prevent clipping */
            height: auto;
            min-height: 0;
            position: relative;
            display: flex;
            flex-direction: column;
            overflow: visible;
        }

        .challenge-content {
            color: white;
            text-align: center;
            position: relative;
            z-index: 2;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .challenge-display {
            width: 100%;
            white-space: normal;
            overflow-wrap: anywhere;
            word-wrap: break-word;
        }

        .challenge-loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            min-height: 200px;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(0, 255, 255, 0.3);
            border-top: 4px solid #00FFFF;
            border-radius: 50%;
            animation: spinnerRotate 1s linear infinite;
        }

        @keyframes spinnerRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .challenge-title {
            font-size: 1.8rem;
            font-weight: 900;
            color: #FFD700;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        }

        .challenge-question {
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            color: #29E6FF;
        }

        .sequence {
            font-family: 'Courier New', monospace;
            font-size: 2rem;
            font-weight: bold;
            color: #FFD700;
            display: block;
            margin-top: 1rem;
            letter-spacing: 0.2em;
        }

        .challenge-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .option-btn {
            background: linear-gradient(135deg, rgba(41, 230, 255, 0.1), rgba(255, 19, 141, 0.1));
            border: 2px solid #29E6FF;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .option-btn:hover {
            background: linear-gradient(135deg, rgba(41, 230, 255, 0.3), rgba(255, 19, 141, 0.3));
            border-color: #FFD700;
            color: #FFD700;
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.3);
        }

        .option-btn.correct {
            background: linear-gradient(135deg, rgba(0, 255, 0, 0.3), rgba(0, 200, 0, 0.3));
            border-color: #00FF00;
            color: #00FF00;
            animation: correctPulse 0.6s ease-in-out;
        }

        .option-btn.incorrect {
            background: linear-gradient(135deg, rgba(255, 0, 0, 0.3), rgba(200, 0, 0, 0.3));
            border-color: #FF0000;
            color: #FF0000;
            animation: incorrectShake 0.6s ease-in-out;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes incorrectShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .challenge-result {
            text-align: center;
            padding: 2rem;
        }

        .result-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: resultBounce 0.8s ease-out;
        }

        @keyframes resultBounce {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .result-message {
            font-size: 1.5rem;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 1rem;
        }

        .result-explanation {
            font-size: 1.1rem;
            color: #29E6FF;
            line-height: 1.6;
            background: rgba(41, 230, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid rgba(41, 230, 255, 0.3);
        }

        .challenge-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            margin-top: auto;
            background: rgba(0, 0, 0, 0.5);
            border-top: 1px solid #00FFFF;
            flex-wrap: wrap;
            flex-shrink: 0;
        }

        .control-btn {
            background: linear-gradient(135deg, #FF1493, #8A2BE2);
            border: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .control-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 20, 147, 0.4);
        }

        .new-challenge-btn {
            background: linear-gradient(135deg, #00FFFF, #0080FF);
        }

        .new-challenge-btn:hover {
            box-shadow: 0 5px 20px rgba(0, 255, 255, 0.4);
        }

        .difficulty-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #29E6FF;
            font-weight: bold;
        }

        .difficulty-selector select {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #29E6FF;
            color: #29E6FF;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            font-weight: bold;
        }

        .ai-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #29E6FF;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .ai-toggle input[type="checkbox"] {
            accent-color: #00FFFF;
            transform: scale(1.2);
        }

        .ai-toggle label {
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .monitor-glow {
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            background: radial-gradient(circle, rgba(0, 255, 255, 0.1) 0%, transparent 70%);
            border-radius: 30px;
            /* Removed animation for performance */
            z-index: -1;
        }

        /* Removed monitorGlowPulse animation for performance */

        .challenge-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-top: 3rem;
        }

        .challenge-stats .stat-item {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00FFFF;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            /* backdrop-filter: blur(10px); - Removed for clarity */
            position: relative;
            overflow: hidden;
        }

        .challenge-stats .stat-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(45deg, #001122, #003344);
            border-bottom: 1px solid #00FFFF;
        }

        .challenge-stats .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #00FFFF, #00FF00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .challenge-stats .stat-label {
            color: #29E6FF;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.9rem;
        }

        /* Lab Mode Enhancements for Interactive Challenge */
        body.lab-mode-active .interactive-lab-challenge {
            background: linear-gradient(135deg, #000511, #001122, #001a33, #000f22, #001133);
            animation: globalLabPulse 6s ease-in-out infinite;
            position: relative;
            z-index: 10; /* Ensure it's above the global lab overlay */
        }

        body.lab-mode-active .dr-look-presenter {
            animation: challengeCharacterFloat 6s ease-in-out infinite, characterLabGlow 4s ease-in-out infinite;
            position: relative;
            z-index: 6; /* Keep character above overlays */
        }

        @keyframes characterLabGlow {
            0%, 100% { filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 20px rgba(0, 255, 255, 0.6)); }
            50% { filter: drop-shadow(0 10px 40px rgba(0, 0, 0, 0.5)) drop-shadow(0 0 40px rgba(0, 255, 255, 0.9)); }
        }

        body.lab-mode-active .challenge-speech-bubble {
            background: linear-gradient(135deg, #00FFFF, #00FF00);
            color: #000;
            animation: bubbleFloat 4s ease-in-out infinite, labModeIndicatorPulse 2s ease-in-out infinite;
        }

        body.lab-mode-active .challenge-speech-bubble .bubble-text {
            font-weight: 900;
        }

        body.lab-mode-active .challenge-speech-bubble::after {
            border-top-color: #00FF00;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .challenge-workspace {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }

            .dr-look-presenter {
                width: 250px;
            }

            .challenge-speech-bubble {
                position: relative;
                top: auto;
                right: auto;
                margin-top: 1rem;
                max-width: none;
            }

            .challenge-speech-bubble::after {
                left: 50%;
                transform: translateX(-50%);
            }

            .challenge-options {
                grid-template-columns: 1fr;
            }

            .challenge-controls {
                flex-direction: column;
                gap: 1rem;
            }

            .challenge-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .interactive-lab-challenge {
                padding: 3rem 0;
            }
        }
        
        /* Future Section */
        .future-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .future-card {
            background: linear-gradient(135deg, rgba(255, 19, 141, 0.2), rgba(41, 230, 255, 0.2));
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            color: white;
            transform: perspective(1000px) rotateY(0deg);
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        
        .future-card:hover {
            transform: perspective(1000px) rotateY(10deg) translateY(-10px);
        }
        
        /* Signup Section */
        .signup-section {
            background: linear-gradient(135deg, #FF138D, #6B46C1);
            border-radius: 30px;
            padding: 3rem;
            text-align: center;
            margin-top: 3rem;
            position: relative;
            overflow: hidden;
        }
        
        .signup-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(255, 215, 3, 0.3), transparent);
            animation: rotate 4s linear infinite;
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .signup-content {
            position: relative;
            z-index: 2;
        }
        
        .email-input {
            padding: 1rem 1.5rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            margin-right: 1rem;
            margin-bottom: 1rem;
            min-width: 250px;
            background: rgba(255, 255, 255, 0.9);
        }
        
        /* Chapter Navigation */
        .chapter-nav {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .chapter-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            /* backdrop-filter: blur(10px); - Removed for clarity */
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            font-size: 0.8rem;
            opacity: 0.7;
        }
        
        .chapter-item.active {
            background: linear-gradient(45deg, #FF138D, #29E6FF);
            opacity: 1;
            transform: scale(1.1);
        }
        
        .chapter-item:hover {
            opacity: 1;
            transform: translateX(-5px);
        }
        
        .chapter-number {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 800;
            font-size: 0.9rem;
        }
        
        .chapter-title {
            font-weight: 500;
            white-space: nowrap;
        }
        
        /* Modern Chapter Transitions */
        .chapter-section {
            min-height: 100vh;
            position: relative;

            opacity: 0;
            transform: translateY(50px);
            transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .chapter-section.in-view {
            opacity: 1;
            transform: translateY(0);
        }
        
        .chapter-section.chapter-transitioning {
            transform: scale(0.95) translateY(-20px);
            opacity: 0.7;
            filter: blur(2px);
        }
        
        /* Chapter Transition Overlay */
        .chapter-transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #FF138D, #29E6FF, #FFD703);
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .chapter-transition-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .transition-content {
            text-align: center;
            color: white;
            transform: scale(0.8);
            opacity: 0;
            transition: all 0.4s ease 0.2s;
        }
        
        .chapter-transition-overlay.active .transition-content {
            transform: scale(1);
            opacity: 1;
        }
        
        .transition-chapter-number {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 8rem;
            font-weight: 900;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.6));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .transition-chapter-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 4px;
        }
        
        /* Enhanced Chapter Headers with Stagger Animation */
        .chapter-header {
            text-align: center;
            margin-bottom: 3rem;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .chapter-section.in-view .chapter-header {
            animation: fadeInUp 0.8s ease-out 0.3s forwards;
        }
        
        .chapter-section.in-view .chapter-label {
            animation: fadeInUp 0.6s ease-out 0.1s forwards;
        }
        
        .chapter-section.in-view .chapter-title-main {
            animation: fadeInUp 0.8s ease-out 0.3s forwards;
        }
        
        .chapter-section.in-view .chapter-subtitle {
            animation: fadeInUp 0.8s ease-out 0.5s forwards;
        }
        
        /* Staggered Content Animation */
        .stagger-animation > * {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .chapter-section.in-view .stagger-animation > *:nth-child(1) {
            animation: fadeInUp 0.6s ease-out 0.7s forwards;
        }
        
        .chapter-section.in-view .stagger-animation > *:nth-child(2) {
            animation: fadeInUp 0.6s ease-out 0.9s forwards;
        }
        
        .chapter-section.in-view .stagger-animation > *:nth-child(3) {
            animation: fadeInUp 0.6s ease-out 1.1s forwards;
        }
        
        .chapter-section.in-view .stagger-animation > *:nth-child(4) {
            animation: fadeInUp 0.6s ease-out 1.3s forwards;
        }
        
        /* Modern Chapter Navigation with Progress */
        .chapter-nav {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .chapter-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: rgba(0, 0, 0, 0.3);
            /* backdrop-filter: blur(20px); - Removed for clarity */
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            color: white;
            font-size: 0.85rem;
            opacity: 0.6;
            position: relative;
            overflow: hidden;
        }
        
        .chapter-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background: linear-gradient(45deg, #FF138D, #29E6FF);
            transition: width 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: -1;
        }
        
        .chapter-item.active {
            opacity: 1;
            transform: scale(1.05) translateX(-10px);
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .chapter-item.active::before {
            width: 100%;
        }
        
        .chapter-item:hover:not(.active) {
            opacity: 0.9;
            transform: translateX(-5px);
            background: rgba(255, 255, 255, 0.05);
        }
        
        .chapter-number {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 800;
            font-size: 1rem;
            min-width: 20px;
        }
        
        .chapter-title {
            font-weight: 600;
            white-space: nowrap;
            position: relative;
            z-index: 1;
        }
        
        /* Progress Line */
        .chapter-progress {
            position: absolute;
            left: -10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .chapter-progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 0%;
            background: linear-gradient(to bottom, #FF138D, #29E6FF, #FFD703);
            transition: height 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .chapter-nav.progress-25 .chapter-progress::after { height: 25%; }
        .chapter-nav.progress-50 .chapter-progress::after { height: 50%; }
        .chapter-nav.progress-75 .chapter-progress::after { height: 75%; }
        .chapter-nav.progress-100 .chapter-progress::after { height: 100%; }
        
        /* Smooth Scrolling Enhancement */
        html {
            scroll-behavior: smooth;
        }
        
        /* Modern Particle Effects */
        .transition-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }
        
        .transition-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            opacity: 0;
        }
        
        /* Enhanced Mobile Experience */
        @media (max-width: 768px) {
            .chapter-nav {
                right: 1rem;
                gap: 0.75rem;
            }
            
            .chapter-item {
                padding: 0.5rem 1rem;
                font-size: 0.75rem;
            }
            
            .chapter-title {
                display: none;
            }
            
            .transition-chapter-number {
                font-size: 4rem;
            }
            
            .transition-chapter-title {
                font-size: 1.5rem;
                letter-spacing: 2px;
            }
            
            .chapter-transition-overlay {
                padding: 1rem;
            }
        }
        
        /* Intersection Observer Styles */
        .fade-in-section {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .fade-in-section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Enhanced Hero */
        .sensory-tagline {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
            opacity: 0;
            animation: fadeInUp 1s ease-out 1s forwards;
        }
        
        .sense-item {
            font-size: 1.1rem;
            font-weight: 600;
            color: white;
            background: rgba(255, 255, 255, 0.1);
            /* backdrop-filter: blur(10px); - Removed for clarity */
            padding: 0.5rem 1rem;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .sense-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .scroll-indicator {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            opacity: 1;
            cursor: pointer;
            z-index: 10;
        }
        
        .scroll-text {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .scroll-arrow {
            font-size: 1.5rem;
            animation: bounce 2s infinite;
        }
        
        /* Enhanced Candy Cards */
        .flavor-intensity {
            margin-top: 1rem;
            font-size: 1.2rem;
            opacity: 0.8;
        }
        
        .lab-comparison {
            margin-top: 4rem;
        }
        
        .comparison-title {
            text-align: center;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: white;
            margin-bottom: 2rem;
        }
        
        /* Enhanced Future Cards */
        .future-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .coming-soon {
            margin-top: 1rem;
            font-size: 0.9rem;
            background: linear-gradient(45deg, #FFD703, #FF138D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .future-cta-section {
            margin-top: 4rem;
            text-align: center;
            color: white;
        }
        
        .future-cta-section h3 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .future-cta-section p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .signup-inline {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .email-input-inline {
            padding: 1rem 1.5rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.9);
        }
        
        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .chapter-nav {
                right: 1rem;
                gap: 0.5rem;
            }
            
            .chapter-item {
                padding: 0.4rem 0.8rem;
                font-size: 0.7rem;
            }
            
            .chapter-title {
                display: none;
            }
            
            .sensory-tagline {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }
            
            .signup-inline {
                flex-direction: column;
            }
            
            .email-input-inline {
                min-width: auto;
                width: 100%;
            }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
            
            .timeline-item {
                text-align: left !important;
                padding-left: 2rem !important;
                padding-right: 1rem !important;
            }
            
            .timeline::before {
                left: 10px;
            }
            
            .timeline-item::before {
                left: 2px !important;
            }
            
            .email-input {
                margin-right: 0;
                margin-bottom: 1rem;
                width: 100%;
                min-width: auto;
            }
            
            .lab-activate-button {
                padding: 1.5rem 2rem;
                font-size: 1.2rem;
            }
        }

        /* NICK SHARMA MOBILE OPTIMIZATION */
        @media (max-width: 768px) {
            .hero {
                min-height: 100vh;
                padding: 1rem 0;
            }

            .hero-content {
                gap: 1.5rem;
                padding: 1rem;
                min-height: auto;
            }

            .brand-logo {
                height: 60px;
            }

            .hero-headline {
                font-size: clamp(2rem, 8vw, 3rem);
            }

            .hero-subheadline {
                font-size: 1rem;
                line-height: 1.5;
            }

            .hero-visual {
                flex-direction: column;
                gap: 2rem;
                text-align: center;
            }

            .hero-character {
                /* height: 180px; */
                margin-top: 20%;
            }

            .impossible-demos {
                gap: 1rem;
            }

            .demo-item {
                padding: 0.8rem 1rem;
                gap: 0.8rem;
            }

            .demo-icon {
                font-size: 1.5rem;
                min-width: 50px;
            }

            .demo-text {
                font-size: 1rem;
            }

            .proof-stats {
                gap: 1.5rem;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
            }

            .stat {
                min-width: auto;
                flex: 1;
                min-width: 100px;
            }

            .stat-number {
                font-size: 1.8rem;
            }

            .primary-btn {
                min-width: 250px;
                padding: 1rem 2rem;
                font-size: 1rem;
            }

            .secondary-btn {
                padding: 0.7rem 1.2rem;
                font-size: 0.85rem;
            }

            /* Mobile Swiper Styles */
            .swiper-container {
                padding: 1rem 0.5rem;
                max-width: 100vw;
                overflow: hidden;
            }

            .swiper-wrapper {
                overflow: hidden;
            }

            .swiper-slide {
                padding: 1rem 0.5rem;
                width: 100%;
                min-width: 100%;
            }

            .product-card {
                padding: 1.5rem 1rem;
                max-width: 100%;
                margin: 0;
            }

            .swiper-button-next,
            .swiper-button-prev {
                width: 35px;
                height: 35px;
                margin-top: -17px;
            }

            .swiper-button-next::after,
            .swiper-button-prev::after {
                font-size: 14px;
            }

            /* Fix horizontal overflow */
            body {
                overflow-x: hidden;
                width: 100%;
            }

            .swiper-section {
                overflow: hidden;
                width: 100%;
            }

            /* Mobile Trust Signals */
            .trust-signals {
                gap: 1rem;
                margin-top: 1.5rem;
            }

            .trust-badge {
                padding: 0.6rem 1rem;
                font-size: 0.8rem;
            }

            .trust-badge-icon {
                font-size: 1rem;
            }

            /* Mobile Speech Bubble */
            .speech-bubble {
                padding: 1rem 1.5rem;
                max-width: 90%;
                transform: rotate(-1deg);
            }

            .speech-text {
                font-size: clamp(1rem, 4vw, 1.3rem);
            }

            .speech-tail {
                bottom: -12px;
            }

            .speech-tail::before {
                top: -15px;
            }
            
            /* Commercial Hero Mobile */
            .hero-grid {
                grid-template-columns: 1fr;
                gap: 3rem;
                text-align: center;
            }
            
            .character-badge {
                top: 10px;
                right: 10px;
                padding: 0.8rem 1rem;
                transform: rotate(10deg);
            }
            
            .badge-text {
                font-size: 1rem;
            }
            
            .badge-subtitle {
                font-size: 0.8rem;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .lab-feed {
                display: none;
                gap: 1.5rem;
            }
            
            .monitor-header {
                padding: 0.8rem 1rem;
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .monitor-screen {
                padding: 1rem;
            }
            
            .experiment-item {
                padding: 0.8rem;
            }
            
            .experiment-icon {
                width: 35px;
                height: 35px;
                font-size: 1.2rem;
            }
            
            .counter-item {
                padding: 1.5rem 0.8rem;
            }
            
            .counter-number {
                font-size: 2rem;
            }
        }
        
        /* Hero Background Effects */
        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 1;
        }
        
        .lab-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
            /* Removed animation for performance */
        }
        
        .chemical-bubbles {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 10% 20%, rgba(0, 255, 255, 0.03) 0%, transparent 30%),
                        radial-gradient(circle at 90% 70%, rgba(255, 20, 147, 0.03) 0%, transparent 30%);
            /* Removed animation for performance */
        }
        
        @keyframes particleFloat {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg);
                opacity: 1;
            }
            50% { 
                transform: translateY(-20px) rotate(180deg);
                opacity: 0.7;
            }
        }
        
        @keyframes bubbleFloat {
            0%, 100% { 
                transform: translateX(0px) scale(1);
                opacity: 0.8;
            }
            50% { 
                transform: translateX(20px) scale(1.1);
                opacity: 0.4;
                        }
        }
        
        /* Story Section - Hero Style Consistency */
        .story-section {
            padding: 6rem 2rem;
            background: linear-gradient(135deg, 
                #8A2BE2 0%, 
                #4169E1 25%, 
                #FF1493 50%, 
                #00BFFF 75%, 
                #8A2BE2 100%
            );
            position: relative;
            overflow: hidden;
        }
        
        .story-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 70% 20%, rgba(0, 255, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
            animation: storyParticles 20s ease-in-out infinite;
        }
        
        .story-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .story-content {
            display: grid;
            grid-template-columns: 300px 2fr 1fr;
            gap: 3rem;
            align-items: center;
        }
        
        .story-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 900;
            color: #FFFFFF;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            margin-bottom: 2rem;
            text-shadow: 4px 4px 0px #333, 8px 8px 20px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 2;
        }
        
        .story-description p {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-weight: 400;
        }
        
        .philosophy-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 20px;
            border-left: 5px solid #FFD700;
            /* backdrop-filter: blur(10px); - Removed for clarity */
            margin-top: 2rem;
        }
        
        .philosophy-box h3 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: #FFD700;
            margin: 0 0 1rem 0;
            font-style: italic;
        }
        
        .philosophy-box cite {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
        }
        
        .story-stats {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .stat-item {
            text-align: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 2rem 1.5rem;
            border-radius: 20px;
            border: 2px solid #00FFFF;
            /* backdrop-filter: blur(10px); - Removed for clarity */
            position: relative;
            overflow: hidden;
        }
        
        .stat-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: linear-gradient(45deg, #001122, #003344);
            border-bottom: 1px solid #00FFFF;
        }
        
        .stat-number {
            display: block;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(45deg, #00FFFF, #00FF00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            position: relative;
            z-index: 2;
            margin-top: 1rem;
        }
        
        .stat-label {
            display: block;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .story-content {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
                justify-items: center;
                align-items: center;
                width: 100%;
                margin: 0 auto;
            }
            
            .story-container {
                padding: 0 1rem;
                max-width: 100%;
                width: 100%;
                overflow: hidden;
            }
            
            .story-text {
                max-width: 680px;
                margin: 0 auto;
                width: 100%;
                overflow: hidden;
            }
            
            .story-stats {
                /* flex-direction: row; */
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
                width: 100%;
            }
            
            .stat-item {
                padding: 1.5rem 1rem;
                flex: 1 1 calc(33.333% - 1rem);
                margin: 0;
                max-width: 100%;
                box-sizing: border-box;
            }
            
            .stat-number {
                font-size: 2rem;
            }
            
            .stat-label {
                font-size: 0.8rem;
            }

            /* Dr. Look Pointing Character Mobile */
            .story-character {
                order: -1;
                margin-bottom: 1rem;
            }

            .dr-look-pointing {
                width: 200px;
                max-width: 100%;
                height: auto;
            }

            .pointing-glow {
                width: 240px;
                height: 240px;
            }

            .character-pointing-container {
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .character-speech-bubble {
                top: 50px;
                left: 50%;
                right: auto;
                transform: translateX(-50%);
                padding: 8px 12px;
                font-size: 0.8rem;
                max-width: 85vw;
                white-space: normal;
                text-align: center;
            }

            .character-speech-bubble::before {
                left: 15px;
                border-left-width: 8px;
                border-right-width: 8px;
                border-top-width: 8px;
            }

            .cta-content {
                flex-direction: column;
                text-align: center;
                padding: 1rem;
                gap: 1rem;
            }

            .cta-top-row {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .lab-cta h3 {
                font-size: 1rem;
            }

            .clearance-badge {
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
                gap: 0.3rem;
            }

            .warning-text {
                font-size: 0.8rem;
                letter-spacing: 0.05em;
            }

            /* Interactive Lab Challenge Mobile */
            .challenge-workspace {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .dr-look-presenter {
                width: 250px;
            }

            .challenge-speech-bubble {
                position: static;
                margin: 1rem auto 0;
                max-width: 180px;
            }

            .challenge-monitor .monitor-screen {
                /* Ensure variable length content fits fully on mobile */
                height: auto;
                min-height: 0;
                padding: 1.5rem;
                overflow: visible;
            }

            .challenge-controls {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .control-btn {
                padding: 1rem;
                font-size: 1rem;
            }

            .difficulty-selector {
                justify-content: center;
            }

            .ai-toggle {
                justify-content: center;
            }
            

            /* Reduce 3D effects on mobile to prevent overflow */
            .swiper-slide.swiper-slide-prev {
                transform: translate3d(-25%, 0, -80px) rotateY(10deg) rotateZ(-5deg) scale(0.9);
            }

            .swiper-slide.swiper-slide-next {
                transform: translate3d(25%, 0, -80px) rotateY(-10deg) rotateZ(5deg) scale(0.9);
            }

            .swiper-slide.swiper-slide-duplicate-prev {
                transform: translate3d(-50%, 0, -150px) rotateY(15deg) rotateZ(-8deg) scale(0.8);
            }

            .swiper-slide.swiper-slide-duplicate-next {
                transform: translate3d(50%, 0, -150px) rotateY(-15deg) rotateZ(8deg) scale(0.8);
            }
        }
    </style>
</head>
<body>
    <!-- Chapter Transition Overlay -->
    <div class="chapter-transition-overlay" id="chapterTransitionOverlay">
        <div class="transition-particles" id="transitionParticles"></div>
        <div class="transition-content">
            <div class="transition-chapter-number" id="transitionNumber">02</div>
            <div class="transition-chapter-title" id="transitionTitle">The Genius</div>
        </div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="#" class="logo">
                <img src="Assets/drlook/logo_dr_look/Logo_Dr.Look_Horizontal.png" alt="Dr. Look" />
            </a>
            <ul class="nav-links">
                <li><a href="#products">Inventions</a></li>
                <li><a href="#innovation">Science</a></li>
                <li><a href="#impossible">Magic</a></li>
                <li><a href="#lab">Lab</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="hamburger" id="hamburger">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu" id="mobileMenu">
        <button class="mobile-menu-close" id="mobileMenuClose"></button>
        <ul class="mobile-nav-links">
            <li><a href="#products" class="mobile-nav-link"> Inventions</a></li>
            <li><a href="#innovation" class="mobile-nav-link"> Science</a></li>
            <li><a href="#impossible" class="mobile-nav-link"> Magic</a></li>
            <li><a href="#lab" class="mobile-nav-link"> Lab</a></li>
            <li><a href="#contact" class="mobile-nav-link"> Contact</a></li>
        </ul>
        <div class="mobile-menu-brand">
            <div class="brand-text">Impossible Science. Real Magic.</div>
        </div>
    </div>

    <!-- Commercial Hero Section -->
    <section class="hero">
        <div class="hero-grid">
            <!-- Left Side: Dr. Look Character & Branding -->
            <div class="hero-character">
                <div class="character-container">
                    <img src="Assets/drlook/dr_look_character_images/DR_LOOK_Pose_04 2.png" alt="Dr. Look Character" class="dr-look-main" />
                    <div class="character-badge">
                        <span class="badge-text">THE MAD SCIENTIST</span>
                        <span class="badge-subtitle">OF CANDY</span>
                        <span class="lab-mode-indicator">Lab Mode: Active</span>
                    </div>
                </div>
                
                <div class="hero-text">
                    <h1 class="hero-title">
                        <span class="title-line-1">IMPOSSIBLE</span>
                        <span class="title-line-2">FLAVORS</span>
                        <span class="title-line-3">MADE REAL</span>
                    </h1>
                    
                                        <p class="hero-description">
                        Meet the brilliant mind who turned his laboratory into a flavor playground. Every candy is a breakthrough, every taste is an experiment, every bite is pure scientific wonder.
            </p>
            
            <div class="hero-actions">
                        <button class="cta-primary">EXPLORE THE LAB</button>
                        <button class="cta-secondary">WATCH THE SCIENCE</button>
                    </div>
            </div>
        </div>
        
                        <!-- Right Side: Live Lab Feed -->
            <div class="lab-feed">
                <div class="lab-monitor">
                    <div class="monitor-header">
                        <div class="status-indicator">
                            <span class="status-dot"></span>
                            <span class="status-text">LIVE FROM THE LAB</span>
                        </div>
                        <div class="timestamp">15:42:33</div>
            </div>
        
                    <div class="monitor-screen">
                        <div class="experiment-feed">
                            <div class="experiment-item active">
                                <div class="experiment-icon"></div>
                                <div class="experiment-content">
                                    <h4>Crystallization Process</h4>
                                    <p>Testing new flavor crystal formations</p>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 73%"></div>
                                    </div>
                                    <span class="progress-text">73% Complete</span>
                                </div>
            </div>
            
                            <div class="experiment-item">
                                <div class="experiment-icon"></div>
                                <div class="experiment-content">
                                    <h4>Nano-Encapsulation</h4>
                                    <p>Liquid flavor core injection trials</p>
                                    <div class="status-badge">IN PROGRESS</div>
                                </div>
            </div>
            
                            <div class="experiment-item">
                                <div class="experiment-icon"></div>
                                <div class="experiment-content">
                                    <h4>pH Color Reactions</h4>
                                    <p>Taste-activated color change study</p>
                                    <div class="status-badge completed">BREAKTHROUGH!</div>
                                </div>
                            </div>
                        </div>
            </div>
            
                    <div class="lab-quote">
                        <p>"Every failed experiment is just a successful way to discover what doesn't work... yet."</p>
                        <cite> Dr. Look</cite>
                    </div>
                </div>
                
                <div class="discovery-counter">
                    <div class="counter-item">
                        <span class="counter-number" data-target="1247">0</span>
                        <span class="counter-label">Experiments Today</span>
                    </div>
                    <div class="counter-item">
                        <span class="counter-number" data-target="43">0</span>
                        <span class="counter-label">Breakthroughs</span>
                    </div>
                </div>
            </div>
            </div>

                        <!-- Background Elements -->
        <div class="hero-background">
            <div class="lab-particles"></div>
            <div class="chemical-bubbles"></div>
        </div>
    </section>

    <!-- Lab Mode Activation CTA -->
    <div class="lab-cta">
        <div class="lab-security-tape">TOP SECRET - AUTHORIZED PERSONNEL ONLY - TOP SECRET - AUTHORIZED PERSONNEL ONLY</div>
        <div class="cta-content">
            <div class="cta-top-row">
                <div class="lab-warning">
                    <div class="warning-icon"></div>
                    <div class="warning-text">CLASSIFIED LAB ACCESS</div>
                </div>
                <h3>Dr. Look's Secret Laboratory</h3>
                <div class="lab-clearance">
                    <div class="clearance-badge">
                        <span class="badge-icon"></span>
                        <span class="badge-text">LEVEL 5 CLEARANCE</span>
                    </div>
                </div>
            </div>
            <div class="cta-button-row">
                <button class="lab-enter-btn" id="labToggle">
                    <div class="btn-glow"></div>
                    <span class="btn-text"> INITIATE LAB MODE </span>
                    <span class="btn-icon"></span>
                </button>
            </div>
        </div>
        
        <!-- Laboratory Video Showcase - Hidden Lab Content -->
    <section class="lab-video-showcase">
        <div class="lab-container">
            <div class="section-header">
                <!-- <div class="section-badge">
                    <span></span>
                    <span>Live from the Lab</span>
                    </div> -->
                                    <h2 class="section-title">Dr. Look's Laboratory <span class="section-accent">Footage</span></h2>
                <p class="section-subtitle">Witness the impossible science in action</p>
                </div>
            
            <div class="lab-monitors">
                <div class="lab-monitor" data-invention="lenguetazo">
                    <div class="monitor-frame">
                        <div class="monitor-header">
                            <div class="status-indicator">
                                <span class="status-dot"></span>
                                <span class="status-text">EXPERIMENT FEED</span>
                            </div>
                            <div class="experiment-id">#LG001</div>
                        </div>
                        <div class="monitor-screen">
                            <video class="lab-video" loop playsinline preload="metadata">
                                <source src="Assets/drlook/drlook_videos/drlook_video_lenguetazo.mp4" type="video/mp4">
                            </video>
                            <div class="video-overlay">
                                <div class="play-button">
                                    <span></span>
                </div>
                                <div class="video-title">Lenguetazo Experiment</div>
                                <div class="video-status"> Click to activate with sound</div>
                            </div>
                        </div>
                        <div class="monitor-controls">
                            <div class="control-dot active"></div>
                            <div class="control-dot"></div>
                            <div class="control-dot"></div>
                        </div>
                    </div>
                    <div class="lab-glow"></div>
            </div>
            
                <div class="lab-monitor" data-invention="traganotas">
                    <div class="monitor-frame">
                        <div class="monitor-header">
                            <div class="status-indicator">
                                <span class="status-dot"></span>
                                <span class="status-text">EXPERIMENT FEED</span>
                            </div>
                            <div class="experiment-id">#TG002</div>
                        </div>
                        <div class="monitor-screen">
                            <video class="lab-video" loop playsinline preload="metadata">
                                <source src="Assets/drlook/drlook_videos/drlook_video_traganotas.mp4" type="video/mp4">
                            </video>
                            <div class="video-overlay">
                                <div class="play-button">
                                    <span></span>
                    </div>
                                <div class="video-title">Traganotas Research</div>
                                <div class="video-status"> Click to activate with sound</div>
                    </div>
                    </div>
                        <div class="monitor-controls">
                            <div class="control-dot"></div>
                            <div class="control-dot active"></div>
                            <div class="control-dot"></div>
                </div>
                    </div>
                    <div class="lab-glow"></div>
            </div>
            
                <div class="lab-monitor" data-invention="esponjaloca">
                    <div class="monitor-frame">
                        <div class="monitor-header">
                            <div class="status-indicator">
                                <span class="status-dot"></span>
                                <span class="status-text">EXPERIMENT FEED</span>
                            </div>
                            <div class="experiment-id">#EP003</div>
                        </div>
                        <div class="monitor-screen">
                            <video class="lab-video" loop playsinline preload="metadata">
                                <source src="Assets/drlook/drlook_videos/drlook_video_esponjaloca.mp4" type="video/mp4">
                            </video>
                            <div class="video-overlay">
                                <div class="play-button">
                                    <span></span>
                                </div>
                                <div class="video-title">Esponja Loca Test</div>
                                <div class="video-status"> Click to activate with sound</div>
                            </div>
                        </div>
                        <div class="monitor-controls">
                            <div class="control-dot"></div>
                            <div class="control-dot"></div>
                            <div class="control-dot active"></div>
                        </div>
                    </div>
                    <div class="lab-glow"></div>
            </div>
        </div>
        
            <div class="lab-footer">
                <div class="lab-note">
                    <span class="note-icon"></span>
                    <span>Audio-enabled lab footage - Turn up volume for full experience!</span>
                </div>
            </div>
        </div>
    </section>

        <div class="lab-security-tape bottom">TOP SECRET - AUTHORIZED PERSONNEL ONLY - TOP SECRET - AUTHORIZED PERSONNEL ONLY</div>
    </div>



    <!-- Dr. Look's Lab Product Showcase - Agogo Inspired -->
                <div class="products-grid">
        <div class="lab-product-showcase" id="flavors">
            <div class="section-header">
                <h2 class="section-title">Dr. Look's <span class="section-accent">Inventions</span></h2>
                <p class="section-subtitle">Revolutionary creations born from the impossible.</p>
            </div>

            <div class="product-showcase">
                <!-- Background Lab Effects -->
                <div class="lab-energy-field"></div>
                
                <!-- Main Product Container -->
                <div class="main-product-container">
                    <img id="mainProduct" 
                         class="main-product" 
                         src="Assets/drlook/product_photo_dr_look/drlook_wakamelo_image.png" 
                         alt="Wakamelo - The Flavor Explorer"
                         data-index="0" />
                    
                    <!-- Side Products Container -->
                    <div class="side-products">
                        <!-- Left side products -->
                        <img class="side-product left-1" 
                             src="Assets/drlook/product_photo_dr_look/drlook_pelukaloca_image.png" 
                             alt="Pelukaloca"
                             data-index="3"
                             onclick="switchToInvention(3)" />
                        <img class="side-product left-2" 
                             src="Assets/drlook/product_photo_dr_look/drlook_pintapop_image.png" 
                             alt="Pintapop"
                             data-index="2"
                             onclick="switchToInvention(2)" />
                        
                        <!-- Right side products -->
                        <img class="side-product right-1" 
                             src="Assets/drlook/product_photo_dr_look/drlook_traganotas_image.png" 
                             alt="Traganotas"
                             data-index="1"
                             onclick="switchToInvention(1)" />
                        <img class="side-product right-2" 
                             src="Assets/drlook/product_photo_dr_look/drlook_wakamelo_image.png" 
                             alt="Wakamelo"
                             data-index="0"
                             onclick="switchToInvention(0)" />
                    </div>
                        </div>

                <!-- Navigation Arrows -->
                <button class="lab-nav prev" onclick="previousInvention()"></button>
                <button class="lab-nav next" onclick="nextInvention()"></button>
                
                <!-- Lab Invention Info Panel -->
                <div class="invention-info">
                    <div class="invention-header">
                        <div class="status-indicator">
                            <span class="status-dot"></span>
                            <span class="status-text">INVENTION PROFILE</span>
                    </div>
                        <div class="experiment-id">#WK001</div>
                        </div>
                    <div class="invention-details">
                        <h3 class="invention-name">Wakamelo</h3>
                        <div class="invention-tagline">The Flavor Explorer</div>
                        <p class="invention-description">
                            A revolutionary taste experience that challenges everything you thought you knew about candy. Each piece contains micro-encapsulated flavor bursts that activate at different temperatures.
                        </p>
                        <div class="invention-stats">
                                            <div class="stat">
                                <span class="stat-value">95%</span>
                                <span class="stat-label">Innovation</span>
                        </div>
                                            <div class="stat">
                                                <span class="stat-value">10/10</span>
                                                <span class="stat-label">Adventure</span>
                        </div>
                                            <div class="stat">
                                <span class="stat-value"></span>
                                <span class="stat-label">Possibilities</span>
                        </div>
                    </div>
                    </div>
                </div>
                                        </div>
                        </div>
            </div>
            
    <!-- Dr. Look's Story Section -->
    <section class="story-section">
        <div class="story-container">
            <div class="story-content">
                <!-- Dr. Look Pointing Character -->
                <div class="story-character">
                    <div class="character-pointing-container">
                        <img src="Assets/drlook/dr_look_character_images/dr_look_image_pointing.png" 
                             alt="Dr. Look pointing" 
                             class="dr-look-pointing">
                        <div class="pointing-glow"></div>
                        <div class="character-speech-bubble">
                            <span class="bubble-text">Let me tell you my story!</span>
                            </div>
                        </div>
                                </div>

                <div class="story-text">
                    <h2 class="story-title">THE MIND BEHIND THE MAGIC</h2>
                    <div class="story-description">
                        <p>Dr. Look isn't your ordinary candy maker. He's a flavor scientist, a taste alchemist, a confectionery genius who believes that the impossible is just a formula away.</p>
                        
                        <p>In his state-of-the-art laboratory, he pushes the boundaries of what candy can be. Using cutting-edge food science, molecular gastronomy, and a healthy dose of mad scientist creativity, he creates experiences that make people say "How is this even possible?"</p>
                        
                        <div class="philosophy-box">
                            <h3>"The lab is where dreams become delicious reality"</h3>
                            <cite> Dr. Look, Chief Flavor Architect</cite>
                                </div>
                                </div>
                            </div>
                
                <div class="story-stats">
                    <div class="stat-item">
                        <span class="stat-number">1000+</span>
                        <span class="stat-label">Experiments</span>
                        </div>
                    <div class="stat-item">
                        <span class="stat-number">50+</span>
                        <span class="stat-label">Flavor Innovations</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number"></span>
                        <span class="stat-label">Possibilities</span>
                </div>
                                            </div>
                                        </div>
                        </div>
    </section>



    <!-- Dr. Look's Impossible Inventions Section -->
    <!-- Dr. Look's Innovation Laboratory - Spectacular Inventions Showcase -->
    <section id="products" class="innovation-laboratory">
        <div class="lab-environment">
            <!-- Holographic Interface Header -->
            <div class="holographic-header">
                <div class="holo-scanlines"></div>
                <div class="lab-classification">
                    <span class="classification-level"> CLASSIFICATION: TOP SECRET</span>
                    <span class="lab-designation">DR. LOOK'S INNOVATION LABORATORY</span>
                        </div>
                <h2 class="holo-title">
                    <span class="title-matrix">GREATEST</span>
                    <span class="title-breakthrough">INVENTIONS</span>
                    <span class="title-protocol">PROTOCOL</span>
                </h2>
                <p class="lab-mission">Four impossible experiments that redefined the laws of flavor physics. Each breakthrough represents years of dedicated research into the impossible.</p>
                            </div>

            <!-- Discovery Chambers Grid -->
            <div class="discovery-chambers">
                
                <!-- Discovery Chamber 1: Wakamelo -->
                <div class="discovery-chamber" data-invention="wakamelo">
                    <div class="chamber-frame">
                        <div class="chamber-header">
                            <span class="experiment-id">#WK-001</span>
                            <span class="danger-level">DANGER: EXTREME</span>
                                            </div>
                        <div class="specimen-container">
                            <div class="specimen-glow"></div>
                            <div class="energy-field"></div>
                            <img src="Assets/drlook/product_photo_dr_look/drlook_wakamelo_image.png" alt="Wakamelo Specimen" class="specimen-image" />
                            <div class="hologram-overlay"></div>
                                            </div>
                        <div class="discovery-panel">
                            <h3 class="discovery-name">WAKAMELO</h3>
                            <div class="code-designation">THE FLAVOR EXPLORER</div>
                            <div class="research-data">
                                <div class="data-line">
                                    <span class="data-label">BREAKTHROUGH:</span>
                                    <span class="data-value">Temperature-Activated Flavor Chambers</span>
                                        </div>
                                <div class="data-line">
                                    <span class="data-label">IMPOSSIBILITY FACTOR:</span>
                                    <span class="data-value text-danger">247 Failed Attempts</span>
                                            </div>
                                <div class="data-line">
                                    <span class="data-label">DISCOVERY DATE:</span>
                                    <span class="data-value">After 3 Years of Research</span>
                    </div>
                        </div>
                            <div class="experiment-status">
                                <div class="status-bar">
                                    <div class="status-fill" style="width: 100%"></div>
                            </div>
                                <span class="status-text">EXPERIMENT PERFECTED</span>
                                            </div>
                                        </div>
                        </div>
                    </div>

                <!-- Discovery Chamber 2: Traganotas -->
                <div class="discovery-chamber" data-invention="traganotas">
                    <div class="chamber-frame">
                        <div class="chamber-header">
                            <span class="experiment-id">#TG-002</span>
                            <span class="danger-level">DANGER: MAXIMUM</span>
                        </div>
                        <div class="specimen-container">
                            <div class="specimen-glow"></div>
                            <div class="energy-field"></div>
                            <img src="Assets/drlook/product_photo_dr_look/drlook_traganotas_image.png" alt="Traganotas Specimen" class="specimen-image" />
                            <div class="hologram-overlay"></div>
                            </div>
                        <div class="discovery-panel">
                            <h3 class="discovery-name">TRAGANOTAS</h3>
                            <div class="code-designation">THE NOTE DESTROYER</div>
                            <div class="research-data">
                                <div class="data-line">
                                    <span class="data-label">BREAKTHROUGH:</span>
                                    <span class="data-value">Sonic Flavor Disruption Technology</span>
                                            </div>
                                <div class="data-line">
                                    <span class="data-label">IMPOSSIBILITY FACTOR:</span>
                                    <span class="data-value text-danger">Breaks Sound Barriers</span>
                                            </div>
                                <div class="data-line">
                                    <span class="data-label">DISCOVERY DATE:</span>
                                    <span class="data-value">During Midnight Experiments</span>
                                </div>
                            </div>
                            <div class="experiment-status">
                                <div class="status-bar">
                                    <div class="status-fill" style="width: 100%"></div>
                                </div>
                                <span class="status-text">EXPERIMENT PERFECTED</span>
                            </div>
                                        </div>
                        </div>
                    </div>

                <!-- Discovery Chamber 3: Pintapop -->
                <div class="discovery-chamber" data-invention="pintapop">
                    <div class="chamber-frame">
                        <div class="chamber-header">
                            <span class="experiment-id">#PP-003</span>
                            <span class="danger-level">DANGER: CRITICAL</span>
                                        </div>
                        <div class="specimen-container">
                            <div class="specimen-glow"></div>
                            <div class="energy-field"></div>
                            <img src="Assets/drlook/product_photo_dr_look/drlook_pintapop_image.png" alt="Pintapop Specimen" class="specimen-image" />
                            <div class="hologram-overlay"></div>
                                            </div>
                        <div class="discovery-panel">
                            <h3 class="discovery-name">PINTAPOP</h3>
                            <div class="code-designation">THE CHROMATIC CANVAS</div>
                            <div class="research-data">
                                <div class="data-line">
                                    <span class="data-label">BREAKTHROUGH:</span>
                                    <span class="data-value">Edible Pigment Transformation</span>
                                            </div>
                                <div class="data-line">
                                    <span class="data-label">IMPOSSIBILITY FACTOR:</span>
                                    <span class="data-value text-danger">Defies Color Theory</span>
                                            </div>
                                <div class="data-line">
                                    <span class="data-label">DISCOVERY DATE:</span>
                                    <span class="data-value">Accidental Lab Explosion</span>
                                        </div>
                                    </div>
                            <div class="experiment-status">
                                <div class="status-bar">
                                    <div class="status-fill" style="width: 100%"></div>
                                                                </div>
                                <span class="status-text">EXPERIMENT PERFECTED</span>
                            </div>
                                        </div>
                                    </div>
                                </div>

                <!-- Discovery Chamber 4: Pelukaloca -->
                <div class="discovery-chamber" data-invention="pelukaloca">
                    <div class="chamber-frame">
                        <div class="chamber-header">
                            <span class="experiment-id">#PL-004</span>
                            <span class="danger-level">DANGER: LEGENDARY</span>
                                        </div>
                        <div class="specimen-container">
                            <div class="specimen-glow"></div>
                            <div class="energy-field"></div>
                            <img src="Assets/drlook/product_photo_dr_look/drlook_pelukaloca_image.png" alt="Pelukaloca Specimen" class="specimen-image" />
                            <div class="hologram-overlay"></div>
                                            </div>
                        <div class="discovery-panel">
                            <h3 class="discovery-name">PELUKALOCA</h3>
                            <div class="code-designation">THE SHAPE SHIFTER</div>
                            <div class="research-data">
                                <div class="data-line">
                                    <span class="data-label">BREAKTHROUGH:</span>
                                    <span class="data-value">Molecular State Transformation</span>
                                            </div>
                                <div class="data-line">
                                    <span class="data-label">IMPOSSIBILITY FACTOR:</span>
                                    <span class="data-value text-danger">Rewrites Physics Laws</span>
                                            </div>
                                <div class="data-line">
                                    <span class="data-label">DISCOVERY DATE:</span>
                                    <span class="data-value">My Greatest Achievement</span>
                                        </div>
                                    </div>
                            <div class="experiment-status">
                                <div class="status-bar">
                                    <div class="status-fill" style="width: 100%"></div>
                                                                </div>
                                <span class="status-text">EXPERIMENT PERFECTED</span>
                            </div>
                                        </div>
                                    </div>
                                </div>

                        </div>

            <!-- Laboratory Conclusion -->
            <div class="lab-conclusion">
                <div class="achievement-badge">
                    <div class="badge-glow"></div>
                    <div class="badge-content">
                        <span class="achievement-icon"></span>
                        <span class="achievement-text">4 IMPOSSIBLE DISCOVERIES</span>
                        <span class="achievement-subtitle">Years of Research. Laws of Physics Broken.</span>
                            </div>
                                            </div>
                                            </div>

                                        </div>
    </section>

    <!-- Interactive Lab Challenge Section -->
    <section class="interactive-lab-challenge">
        <div class="lab-container">
            <div class="section-header">
                <h2 class="section-title">Dr. Look's <span class="section-accent">Interactive Lab</span></h2>
                <p class="section-subtitle">Test your genius with AI-powered challenges straight from the lab!</p>
                                    </div>

            <div class="challenge-workspace">
                <div class="dr-look-challenge-character">
                    <img src="Assets/drlook/dr_look_character_images/DR LOOK_Pose_01.png" 
                         alt="Dr. Look presenting challenge" 
                         class="dr-look-presenter">
                    <div class="character-glow"></div>
                    <div class="challenge-speech-bubble">
                        <span class="bubble-text">Ready for a challenge, genius?</span>
                                                                </div>
                            </div>
                
                <div class="challenge-monitor">
                    <div class="monitor-frame">
                        <div class="monitor-header">
                            <div class="status-indicator">
                                <span class="status-dot active"></span>
                                <span class="status-text">CHALLENGE MODE</span>
                        </div>
                            <div class="challenge-id">#BRAIN-001</div>
                    </div>
                        <div class="monitor-screen">
                            <div class="challenge-content">
                                <div class="challenge-loading" id="challengeLoading">
                                    <div class="loading-spinner"></div>
                                    <p>Generating new challenge...</p>
                </div>
                                <div class="challenge-display" id="challengeDisplay" style="display: none;">
                                    <div class="challenge-title" id="challengeTitle">Math Challenge</div>
                                    <div class="challenge-question" id="challengeQuestion">
                                        What comes next in this sequence?<br>
                                        <span class="sequence">2, 4, 8, 16, ?</span>
        </div>
                                    <div class="challenge-options" id="challengeOptions">
                                        <button class="option-btn" data-option="A">A) 24</button>
                                        <button class="option-btn" data-option="B">B) 32</button>
                                        <button class="option-btn" data-option="C">C) 30</button>
                                        <button class="option-btn" data-option="D">D) 28</button>
                                    </div>
                                </div>
                                <div class="challenge-result" id="challengeResult" style="display: none;">
                                    <div class="result-icon" id="resultIcon"></div>
                                    <div class="result-message" id="resultMessage">Brilliant! You solved it!</div>
                                    <div class="result-explanation" id="resultExplanation">The sequence doubles each time: 22=4, 42=8, 82=16, 162=32</div>
                                </div>
                            </div>
                            <div class="challenge-controls">
                                <button class="control-btn hint-btn" id="hintBtn"> Hint</button>
                                <button class="control-btn new-challenge-btn" id="newChallengeBtn"> New Challenge</button>
                                <div class="difficulty-selector">
                                    <label>Difficulty:</label>
                                    <select id="difficultySelect">
                                        <option value="easy"> Easy</option>
                                        <option value="medium" selected> Medium</option>
                                        <option value="hard"> Hard</option>
                                        <option value="genius"> Genius</option>
                                    </select>
                                </div>
                                <div class="ai-toggle">
                                    <label>
                                        <input type="checkbox" id="aiToggle" checked> 
                                         AI Powered
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="monitor-glow"></div>
                </div>
            </div>
            
            <div class="challenge-stats">
                <div class="stat-item">
                    <div class="stat-number" id="challengesSolved">0</div>
                    <div class="stat-label">Challenges Solved</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="currentStreak">0</div>
                    <div class="stat-label">Current Streak</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="geniusRating">Rookie</div>
                    <div class="stat-label">Genius Rating</div>
                </div>
            </div>
        </div>
        
        <div class="lab-particles"></div>
        <div class="chemical-bubbles"></div>
    </section>

    <!-- Dr. Look's Display Formats Section -->
    <section class="dr-look-displays-section" id="displays">
        <div class="display-container">
            <div class="section-header">
                <h2 class="section-title">Choose Your <span class="section-accent">Display Style</span></h2>
                <p class="section-subtitle">From laboratory showcases to grab-and-go experiments, my inventions adapt to every environment where impossible science meets sweet cravings.</p>
            </div>
            
            <div class="display-grid">
                <div class="display-card">
                    <div class="display-image">
                        <img src="Assets/drlook/drlook_images_displays/x10.png" alt="Dr. Look Laboratory Display - Science Meets Retail" />
                    </div>
                    <h3 class="display-title">Laboratory Display Case</h3>
                    <p class="display-description">Professional laboratory-style displays that showcase the science behind each candy. Perfect for stores that want to emphasize the innovation and impossible engineering.</p>
                    <div class="display-features">
                        <span class="feature-tag">Scientific Appeal</span>
                        <span class="feature-tag">Premium Display</span>
                    </div>
                </div>

                <div class="display-card">
                    <div class="display-image">
                        <img src="Assets/drlook/drlook_images_displays/x6.png" alt="Compact Science Station - Perfect for Smaller Spaces" />
                    </div>
                    <h3 class="display-title">Compact Science Station</h3>
                    <p class="display-description">Smaller footprint, same big impact. Ideal for pharmacies, convenience stores, and any space where you want to add a touch of impossible science.</p>
                    <div class="display-features">
                        <span class="feature-tag">Space Efficient</span>
                        <span class="feature-tag">High Impact</span>
                    </div>
                </div>

                <div class="display-card">
                    <div class="display-image">
                        <img src="Assets/drlook/product_photo_dr_look/drlook_wakamelo_image.png" alt="Wakamelo Individual Packs - Impossible Green Apple Science" />
                    </div>
                    <h3 class="display-title">Wakamelo Experiment Packs</h3>
                    <p class="display-description">Individual green apple experiments that defy nature itself. Each pack contains the impossible - green apple flavor that transforms as you eat it.</p>
                    <div class="display-features">
                        <span class="feature-tag">Shape-Shifting</span>
                        <span class="feature-tag">Individual Units</span>
                    </div>
                </div>

                <div class="display-card lab-exclusive">
                    <div class="display-image">
                        <img src="Assets/drlook/product_photo_dr_look/drlook_traganotas_image.png" alt="Traganotas Research Series - Premium Laboratory Line" />
                    </div>
                    <h3 class="display-title">Traganotas Research Series</h3>
                    <p class="display-description">My premium research line for the most adventurous taste explorers. These aren't just candies - they're scientific breakthroughs wrapped in impossible flavors.</p>
                    <div class="display-features">
                        <span class="feature-tag">Lab Exclusive</span>
                        <span class="feature-tag">Research Grade</span>
                    </div>
                </div>

                <div class="display-card">
                    <div class="display-image">
                        <img src="Assets/drlook/product_photo_dr_look/drlook_rolinrollon_image_fresa.png" alt="Rolinrollon Strawberry Formula - Rolling Science" />
                    </div>
                    <h3 class="display-title">Rolinrollon Formula Packs</h3>
                    <p class="display-description">My rolling candy technology in convenient grab packs. Watch as these strawberry spheres roll and transform with each movement - pure kinetic candy science!</p>
                    <div class="display-features">
                        <span class="feature-tag">Kinetic Technology</span>
                        <span class="feature-tag">Grab & Go</span>
                    </div>
                </div>

                <div class="display-card">
                    <div class="display-image">
                        <img src="Assets/drlook/product_photo_dr_look/drlook_pelukaloca_image.png" alt="Pelukaloca Madness Series - Fuzzy Candy Innovation" />
                    </div>
                    <h3 class="display-title">Pelukaloca Madness Series</h3>
                    <p class="display-description">The most impossible texture in candy science! Fuzzy, soft, and completely defying what candy should feel like. Perfect for impulse purchases and mind-blowing moments.</p>
                    <div class="display-features">
                        <span class="feature-tag">Texture Innovation</span>
                        <span class="feature-tag">Impulse Purchase</span>
                    </div>
                </div>
            </div>

            <div class="display-cta">
                <h3>Ready to Stock Impossible Science?</h3>
                <p>Multiple display formats mean maximum opportunities to amaze your customers. Let's talk about what works best for your laboratory... I mean, your store.</p>
                <button class="cta-btn">Get Stocking Information</button>
            </div>
        </div>
    </section>
    
    <script>
                // Simple Lab Mode System
        let labModeActive = false;
        
        // EPIC LAB MODE TRANSFORMATION
        let isLabMode = false;
        
        function activateLabMode() {
            console.log(' activateLabMode called! Current lab mode:', isLabMode);
            
            if (isLabMode) {
                console.log(' Already in lab mode, deactivating...');
                return deactivateLabMode(); // Toggle if already active
            }
            
            isLabMode = true;
            const labButton = document.getElementById('labToggle');
            
            console.log(' ACTIVATING LAB MODE - PREPARE FOR TRANSFORMATION!');
            console.log(' Button found:', labButton);
            
            if (!labButton) {
                console.error(' Lab button not found in activateLabMode!');
                return;
            }
            
            // 1. Button transformation with excitement
            console.log(' Transforming button...');
            labButton.innerHTML = '<span class="lab-icon"></span><span class="btn-text">ACTIVATING...</span>';
            labButton.style.background = 'linear-gradient(135deg, #FF6F00, #FF9800)';
            labButton.style.transform = 'scale(1.1)';
            
            // 2. Page transformation sequence
            console.log(' Adding page transformation class...');
            document.body.classList.add('lab-transforming');
            
            // 3. Generate explosion of lab particles
            console.log(' Generating lab explosion...');
            generateLabExplosion();
            
            // 4. Smooth scroll to hero section to see the transformation
            setTimeout(() => {
                console.log(' Scrolling to hero for full transformation experience...');
                const heroSection = document.querySelector('.hero');
                if (heroSection) {
                    heroSection.scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                }
            }, 1500);
            
            setTimeout(() => {
                console.log(' Timeout reached - continuing transformation...');
                document.body.classList.add('lab-mode-active');
                
                // 5. Transform hero elements
                console.log(' Transforming hero elements...');
                transformHeroToLab();
                
                // 6. Add sound effect
                console.log(' Playing lab activation sound...');
                playLabActivationSound();
                
                // 7. Show surprise message
                console.log(' Showing lab activation message...');
                showLabActivationMessage();
                
                // 8. Add scroll hint after transformation completes
                setTimeout(() => {
                    showScrollHintMessage();
                }, 3000);
                
                // 9. Final button state
                console.log(' Setting final button state...');
                labButton.innerHTML = '<span class="btn-text">Exit Lab Mode </span><span class="btn-icon"></span>';
                labButton.style.background = 'linear-gradient(135deg, #00C853, #4CAF50)';
                labButton.style.transform = 'scale(1)';
                
                console.log(' Lab mode activation complete!');
                
            }, 1000);
        }
        
        function deactivateLabMode() {
            isLabMode = false;
            const labButton = document.getElementById('labToggle');
            
            console.log(' Exiting lab mode...');
            
            document.body.classList.remove('lab-mode-active', 'lab-transforming');
            
            // Clear particles and scroll hints
            const particles = document.querySelectorAll('.lab-particle, .lab-explosion-particle, .scroll-hint-message');
            particles.forEach(particle => particle.remove());
            
            // Reset hero content
            resetHeroContent();
            
            // Reset button
            labButton.innerHTML = '<span class="btn-text">Activate My Lab! </span><span class="btn-icon"></span>';
            labButton.style.background = '';
            labButton.style.transform = '';
            
            // Hide message
            const message = document.querySelector('.lab-activation-message');
            if (message) message.remove();
        }
        
        function generateLabExplosion() {
            console.log(' Starting lab explosion generation...');
            
            const heroSection = document.querySelector('.hero');
            const labButton = document.getElementById('labToggle');
            
            if (!heroSection) {
                console.error(' Hero section not found for explosion!');
                return;
            }
            
            if (!labButton) {
                console.error(' Lab button not found for explosion!');
                return;
            }
            
            console.log(' Hero and button found, creating explosion...');
            
            try {
                const buttonRect = labButton.getBoundingClientRect();
                const heroRect = heroSection.getBoundingClientRect();
                
                console.log(' Button rect:', buttonRect);
                console.log(' Hero rect:', heroRect);
                
                // Create simpler explosion from center of hero
                const centerX = heroRect.width / 2;
                const centerY = heroRect.height / 2;
                
                // Create fewer particles for better performance and visibility
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'lab-explosion-particle';
                        
                        particle.style.left = centerX + 'px';
                        particle.style.top = centerY + 'px';
                        
                        const angle = (i / 20) * Math.PI * 2;
                        const velocity = 100 + Math.random() * 200;
                        const endX = centerX + Math.cos(angle) * velocity;
                        const endY = centerY + Math.sin(angle) * velocity;
                        
                        particle.style.setProperty('--end-x', endX + 'px');
                        particle.style.setProperty('--end-y', endY + 'px');
                        
                        particle.innerHTML = ['', '', '', '', ''][Math.floor(Math.random() * 5)];
                        heroSection.appendChild(particle);
                        
                        console.log(` Created particle ${i}:`, particle);
                        
                        // Remove particle after animation
                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.remove();
                                console.log(` Removed particle ${i}`);
                            }
                        }, 2000);
                    }, i * 50);
                }
                
                console.log(' Lab explosion particles created!');
                
            } catch (error) {
                console.error(' Error creating lab explosion:', error);
            }
        }
        
        function transformHeroToLab() {
            const heroTitle = document.querySelector('.hero-title');
            const heroDescription = document.querySelector('.hero-description');
            const heroAccent = document.querySelector('.hero-accent');
            const floatingCandies = document.querySelectorAll('.floating-candy');
            const drLookImage = document.querySelector('.dr-look-image');
            const heroContent = document.querySelector('.hero-content');
            
            // Store original content
            if (!heroTitle.dataset.original) {
                heroTitle.dataset.original = heroTitle.innerHTML;
                heroDescription.dataset.original = heroDescription.innerHTML;
            }
            
            // Add lab mode class to body for additional styling
            document.body.classList.add('lab-mode-active');
            
            // Transform hero title with dramatic effect
            setTimeout(() => {
                heroTitle.style.transform = 'scale(0.8) rotateX(90deg)';
                heroTitle.style.opacity = '0';
                
                setTimeout(() => {
                    heroTitle.innerHTML = 'Welcome to My <br><span class="hero-accent lab-glow">SECRET LAB!</span>';
                    heroTitle.style.transform = 'scale(1.1) rotateX(0deg)';
                    heroTitle.style.opacity = '1';
                    heroTitle.style.textShadow = '0 0 30px #29E6FF, 0 0 60px #29E6FF';
                    
                    setTimeout(() => {
                        heroTitle.style.transform = 'scale(1) rotateX(0deg)';
                    }, 300);
                }, 300);
            }, 200);
            
            // Transform description
            setTimeout(() => {
                heroDescription.style.transform = 'translateY(20px)';
                heroDescription.style.opacity = '0';
                
                setTimeout(() => {
                    heroDescription.innerHTML = 'You\'ve entered Dr. Look\'s secret laboratory! <br/>Here\'s where the impossible becomes deliciously real. Every beaker bubbles with candy magic, and every experiment defies the laws of physics! Welcome to the world of <strong>IMPOSSIBLE SCIENCE!</strong>';
                    heroDescription.style.transform = 'translateY(0)';
                    heroDescription.style.opacity = '1';
                    heroDescription.style.color = '#29E6FF';
                    heroDescription.style.textShadow = '0 0 20px rgba(41, 230, 255, 0.5)';
                }, 400);
            }, 500);
            
            // Transform Dr. Look's image
                setTimeout(() => {
                if (drLookImage) {
                    drLookImage.style.filter = 'hue-rotate(180deg) brightness(1.2) drop-shadow(0 0 50px #29E6FF)';
                    drLookImage.style.animation = 'labModeFloat 3s ease-in-out infinite';
                }
            }, 800);
            
            // Transform floating candies with lab effects
            setTimeout(() => {
                floatingCandies.forEach((candy, index) => {
                    const candyImage = candy.querySelector('.candy-image');
                    if (candyImage) {
                        candyImage.style.filter = 'drop-shadow(0 0 30px #29E6FF) hue-rotate(20deg) brightness(1.3)';
                        candyImage.style.transform = `scale(1.2) rotate(${index % 2 === 0 ? '10deg' : '-10deg'})`;
                        
                        setTimeout(() => {
                            candyImage.style.transform = 'scale(1.1) rotate(0deg)';
                        }, 600);
                    }
                });
            }, 1200);
            
            // Add floating lab particles around the page
            setTimeout(() => {
                createFloatingLabParticles();
            }, 1200);
                    
            // Transform hero background
                    setTimeout(() => {
                const hero = document.querySelector('.hero');
                if (hero) {
                    hero.style.background = 'linear-gradient(135deg, #000511, #001122, #001a33, #000f22, #001133)';
                    hero.style.backgroundSize = '400% 400%';
                    hero.style.animation = 'labModeGradient 8s ease infinite';
                }
            }, 800);
        }
        
        // Create floating lab particles that persist during lab mode
        function createFloatingLabParticles() {
            const particles = ['', '', '', '', '', '', '', '', '', '', '', '', '', ''];
            
            for (let i = 0; i < 25; i++) {
                const particle = document.createElement('div');
                particle.textContent = particles[Math.floor(Math.random() * particles.length)];
                particle.className = 'lab-particle persistent-lab-particle';
                particle.style.cssText = `
                    position: fixed;
                    font-size: ${Math.random() * 1.8 + 0.6}rem;
                    left: ${Math.random() * 100}vw;
                    top: ${Math.random() * 100}vh;
                    pointer-events: none;
                    z-index: 1000;
                    animation: labParticleFloat ${Math.random() * 15 + 20}s linear infinite;
                    opacity: ${Math.random() * 0.4 + 0.3};
                    text-shadow: 0 0 15px #29E6FF, 0 0 30px rgba(255, 19, 141, 0.3);
                    filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.4));
                `;
                
                document.body.appendChild(particle);
                
                // Only remove when lab mode is deactivated, not after time
                // Particles will be cleaned up in clearLabParticles() function
            }
            
            // Create continuous particle regeneration during lab mode
            if (window.labParticleInterval) {
                clearInterval(window.labParticleInterval);
            }
            
            window.labParticleInterval = setInterval(() => {
                // Only add new particles if lab mode is still active
                if (document.body.classList.contains('lab-mode-active')) {
                    // Add 2-3 new particles every 8 seconds to maintain the effect
                    for (let i = 0; i < 3; i++) {
                        const particle = document.createElement('div');
                        particle.textContent = particles[Math.floor(Math.random() * particles.length)];
                        particle.className = 'lab-particle persistent-lab-particle';
                        particle.style.cssText = `
                            position: fixed;
                            font-size: ${Math.random() * 1.8 + 0.6}rem;
                            left: ${Math.random() * 100}vw;
                            top: ${Math.random() * 100}vh;
                            pointer-events: none;
                            z-index: 1000;
                            animation: labParticleFloat ${Math.random() * 15 + 20}s linear infinite;
                            opacity: ${Math.random() * 0.4 + 0.3};
                            text-shadow: 0 0 15px #29E6FF, 0 0 30px rgba(255, 19, 141, 0.3);
                            filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.4));
                        `;
                        document.body.appendChild(particle);
                    }
                }
            }, 8000);
        }
        
        function resetHeroContent() {
            const heroTitle = document.querySelector('.hero-title');
            const heroDescription = document.querySelector('.hero-description');
            const drLookImage = document.querySelector('.dr-look-image');
            const floatingCandies = document.querySelectorAll('.floating-candy');
            const hero = document.querySelector('.hero');
            const labVideoShowcase = document.querySelector('.lab-video-showcase');
            
            // Reset title
            if (heroTitle && heroTitle.dataset.original) {
                heroTitle.innerHTML = heroTitle.dataset.original;
                heroTitle.style.transform = '';
                heroTitle.style.opacity = '';
                heroTitle.style.textShadow = '';
            }
            
            // Reset description
            if (heroDescription && heroDescription.dataset.original) {
                heroDescription.innerHTML = heroDescription.dataset.original;
                heroDescription.style.transform = '';
                heroDescription.style.opacity = '';
                heroDescription.style.color = '';
                heroDescription.style.textShadow = '';
            }
            
            // Reset Dr. Look image
            if (drLookImage) {
                drLookImage.style.filter = '';
                drLookImage.style.animation = '';
            }
            
            // Reset floating candies
            floatingCandies.forEach(candy => {
                const candyImage = candy.querySelector('.candy-image');
                if (candyImage) {
                    candyImage.style.filter = '';
                    candyImage.style.transform = '';
                }
            });
            
            // Reset hero background
            if (hero) {
                hero.style.background = '';
                hero.style.backgroundSize = '';
                hero.style.animation = '';
            }
            
            // Hide lab video showcase again
            if (labVideoShowcase) {
                labVideoShowcase.style.display = 'none';
                labVideoShowcase.style.opacity = '0';
                labVideoShowcase.style.transform = 'translateY(50px)';
            }
            
            // Remove floating particles and scroll hints
            document.querySelectorAll('.lab-particle, .scroll-hint-message').forEach(element => {
                element.remove();
            });
        }

        // Show scroll hint message
        function showScrollHintMessage() {
            const hint = document.createElement('div');
            hint.className = 'scroll-hint-message';
            hint.innerHTML = `
                <div class="hint-content">
                    <div class="hint-icon"></div>
                    <p>Scroll down to explore your newly unlocked lab footage! </p>
                </div>
            `;
            
            hint.style.cssText = `
                position: fixed;
                bottom: 30px;
                right: 30px;
                background: linear-gradient(135deg, rgba(41, 230, 255, 0.95), rgba(25, 118, 210, 0.95));
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 15px;
                box-shadow: 0 10px 30px rgba(41, 230, 255, 0.4);
                z-index: 10000;
                animation: scrollHintPulse 2s ease-in-out infinite;
                cursor: pointer;
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.2);
                max-width: 280px;
                opacity: 0;
                transform: translateY(20px);
                transition: all 0.3s ease;
            `;
            
            document.body.appendChild(hint);
            
            // Show hint
            setTimeout(() => {
                hint.style.opacity = '1';
                hint.style.transform = 'translateY(0)';
            }, 100);
            
            // Auto-hide after 8 seconds
            setTimeout(() => {
                hint.style.opacity = '0';
                hint.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    if (hint.parentNode) {
                        hint.remove();
                    }
                }, 300);
            }, 8000);
            
            // Click to scroll to lab videos
            hint.addEventListener('click', () => {
                const labVideos = document.querySelector('.lab-video-showcase');
                if (labVideos) {
                    labVideos.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
                hint.style.opacity = '0';
                setTimeout(() => {
                    if (hint.parentNode) {
                        hint.remove();
                    }
                }, 300);
            });
        }
        
        function showLabActivationMessage() {
            const message = document.createElement('div');
            message.className = 'lab-activation-message';
            message.innerHTML = `
                <div class="message-content">
                    <h3> SECRET LABORATORY UNLOCKED! </h3>
                    <p>Welcome to my secret lab! You can now see how I create the impossible!</p>
                    <div class="message-particles"></div>
                </div>
            `;
            
            document.body.appendChild(message);
            
            setTimeout(() => {
                message.classList.add('show');
            }, 100);
            
            // Auto-hide after 5 seconds
            setTimeout(() => {
                message.classList.add('hide');
                setTimeout(() => message.remove(), 500);
            }, 5000);
        }
        
        function playLabActivationSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Create exciting lab activation sound sequence
                const frequencies = [220, 330, 440, 660, 880];
                
                frequencies.forEach((freq, index) => {
                    setTimeout(() => {
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
                        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                        
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.3);
                    }, index * 100);
                });
                
            } catch (e) {
                console.log(' Lab activation sound sequence played!');
            }
        }

        function initializeLabMode() {
            console.log(' Starting lab mode initialization...');
            console.log(' Looking for lab toggle button...');
            const labToggle = document.getElementById('labToggle');
            
            if (!labToggle) {
                console.error(' Lab toggle button not found - checking all buttons...');
                const allButtons = document.querySelectorAll('button');
                console.log('Available buttons:', allButtons);
                allButtons.forEach((btn, index) => {
                    console.log(`Button ${index}:`, btn.id, btn.className, btn.textContent.substring(0, 50));
                });
                
                // Try to find button by class as fallback
                const labBtn = document.querySelector('.lab-enter-btn');
                if (labBtn) {
                    console.log(' Found button by class name instead!', labBtn);
                    setupLabButton(labBtn);
                } else {
                    console.error(' No lab button found by class either!');
                }
                return;
            }
            
            console.log(' Lab toggle button found!', labToggle);
            setupLabButton(labToggle);
        }

        function setupLabButton(button) {
            console.log(' Setting up lab button...', button);
            
            // Add visual debugging
            button.style.border = '3px solid red';
            setTimeout(() => {
                button.style.border = '';
            }, 3000);
            
            // Remove any existing event listeners
            const newButton = button.cloneNode(true);
            button.parentNode.replaceChild(newButton, button);
            
            newButton.addEventListener('click', function(e) {
                console.log(' LAB MODE BUTTON CLICKED!');
                e.preventDefault();
                e.stopPropagation();
                activateLabMode();
            });
            
            console.log(' Lab button setup complete!');
        }

        // Dr. Look Character Interactions with Mouse Following
        function setupDrLookInteractions() {
            drLookCharacter = document.getElementById('drLookCharacter');
            
            // Only set up interactions if character exists
            if (!drLookCharacter) {
                console.log('Dr. Look character not found - skipping interactions');
                return;
            }
            
            // Mouse following functionality
            document.addEventListener('mousemove', (e) => {
                if (!labModeActive) return;
                
                mouseX = e.clientX;
                mouseY = e.clientY;
                
                const rect = drLookCharacter.getBoundingClientRect();
                const characterX = rect.left + rect.width / 2;
                const characterY = rect.top + rect.height / 2;
                
                const deltaX = mouseX - characterX;
                const deltaY = mouseY - characterY;
                
                // Subtle movement following mouse
                const moveX = deltaX * 0.1;
                const moveY = deltaY * 0.1;
                
                drLookCharacter.style.transform = `translate(${moveX}px, ${moveY}px) scale(1)`;
                
                // Rotate goggles to follow mouse
                const goggles = drLookCharacter.querySelector('.goggles');
                if (goggles) {
                    const angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
                    goggles.style.transform = `translateX(-50%) rotate(${angle * 0.1}deg)`;
                }
            });
            
            // Click interactions
            drLookCharacter.addEventListener('click', () => {
                if (!labModeActive) return;
                
                // Random speech bubble
                const randomMessage = speechMessages[Math.floor(Math.random() * speechMessages.length)];
                showDrLookMessage(randomMessage);
                
                // Trigger character animation
                drLookCharacter.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    drLookCharacter.style.transform = 'scale(1)';
                }, 200);
                
                // Generate experiment particles
                generateExperimentParticles();
                
                // Update readouts with random values
                updateRandomReadouts();
            });
        }
        
        // Show Dr. Look speech bubble
        function showDrLookMessage(message) {
            const speechBubble = document.getElementById('speechBubble');
            speechBubble.textContent = message;
            speechBubble.style.opacity = '1';
            speechBubble.style.transform = 'translateY(0) scale(1)';
            
            setTimeout(() => {
                speechBubble.style.opacity = '0';
                speechBubble.style.transform = 'translateY(10px) scale(0.8)';
            }, 3000);
        }

        // Control Panel Interactions
        function setupControlPanelInteractions() {
            // Explosion effect
            window.triggerExperiment = function(type) {
                if (!labModeActive) return;
                
                switch(type) {
                    case 'explosion':
                        createExplosionEffect();
                        showDrLookMessage("BOOM! Flavor explosion! ");
                        break;
                    case 'bubbles':
                        createBubbleEffect();
                        showDrLookMessage("Bubbling with possibilities! ");
                        break;
                    case 'lightning':
                        createLightningEffect();
                        showDrLookMessage("Electric taste sensations! ");
                        break;
                }
                
                updateGaugeNeedle();
                updateRandomReadouts();
            };
        }

        // Laboratory Particle Effects
        function generateLabParticles() {
            const colors = ['#FF138D', '#29E6FF', '#00ff41', '#FFD703', '#ff6b00'];
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    createLabParticle(colors[Math.floor(Math.random() * colors.length)]);
                }, i * 200);
            }
        }

        function createLabParticle(color) {
            const particle = document.createElement('div');
            particle.className = 'lab-particle';
            particle.style.left = Math.random() * window.innerWidth + 'px';
            particle.style.top = Math.random() * window.innerHeight + 'px';
            particle.style.width = (Math.random() * 20 + 10) + 'px';
            particle.style.height = particle.style.width;
            particle.style.background = `radial-gradient(circle, ${color}, transparent)`;
            particle.style.boxShadow = `0 0 20px ${color}`;
            particle.style.animationDelay = Math.random() * 3 + 's';
            
            document.body.appendChild(particle);
            
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            }, 8000);
        }

        function clearLabParticles() {
            // Clear all lab particles
            document.querySelectorAll('.lab-particle').forEach(particle => {
                particle.remove();
            });
            
            // Clear the continuous particle generation interval
            if (window.labParticleInterval) {
                clearInterval(window.labParticleInterval);
                window.labParticleInterval = null;
            }
        }

        // Experiment Effects
        function createExplosionEffect() {
            const colors = ['#ff1744', '#ff5722', '#ff6b00', '#FFD703'];
            
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.style.position = 'fixed';
                    particle.style.left = '50%';
                    particle.style.top = '50%';
                    particle.style.width = '15px';
                    particle.style.height = '15px';
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.borderRadius = '50%';
                    particle.style.zIndex = '9999';
                    particle.style.pointerEvents = 'none';
                    
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * 200 + 100;
                    const endX = Math.cos(angle) * distance;
                    const endY = Math.sin(angle) * distance;
                    
                    particle.style.animation = `explode 1s ease-out forwards`;
                    particle.style.setProperty('--end-x', endX + 'px');
                    particle.style.setProperty('--end-y', endY + 'px');
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 1000);
                }, i * 50);
            }
        }

        function createBubbleEffect() {
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const bubble = document.createElement('div');
                    bubble.style.position = 'fixed';
                    bubble.style.left = Math.random() * window.innerWidth + 'px';
                    bubble.style.bottom = '0px';
                    bubble.style.width = (Math.random() * 30 + 20) + 'px';
                    bubble.style.height = bubble.style.width;
                    bubble.style.background = 'radial-gradient(circle, rgba(255,255,255,0.3), rgba(41,230,255,0.1))';
                    bubble.style.border = '2px solid rgba(41,230,255,0.5)';
                    bubble.style.borderRadius = '50%';
                    bubble.style.zIndex = '9999';
                    bubble.style.animation = 'bubbleFloat 4s ease-out forwards';
                    
                    document.body.appendChild(bubble);
                    
                    setTimeout(() => {
                        if (bubble.parentNode) {
                            bubble.parentNode.removeChild(bubble);
                        }
                    }, 4000);
                }, i * 100);
            }
        }

        function createLightningEffect() {
            const lightning = document.createElement('div');
            lightning.style.position = 'fixed';
            lightning.style.top = '0';
            lightning.style.left = '0';
            lightning.style.width = '100%';
            lightning.style.height = '100%';
            lightning.style.background = 'rgba(41, 230, 255, 0.1)';
            lightning.style.zIndex = '9998';
            lightning.style.pointerEvents = 'none';
            lightning.style.animation = 'lightningFlash 0.5s ease-out';
            
            document.body.appendChild(lightning);
            
            setTimeout(() => {
                if (lightning.parentNode) {
                    lightning.parentNode.removeChild(lightning);
                }
            }, 500);
        }

        function generateExperimentParticles() {
            const rect = drLookCharacter.getBoundingClientRect();
            const startX = rect.left + rect.width / 2;
            const startY = rect.top + rect.height / 2;
            
            for (let i = 0; i < 6; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.left = startX + 'px';
                particle.style.top = startY + 'px';
                particle.style.width = '12px';
                particle.style.height = '12px';
                particle.style.background = '#00ff41';
                particle.style.borderRadius = '50%';
                particle.style.zIndex = '9999';
                particle.style.boxShadow = '0 0 15px #00ff41';
                    
                    const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 100 + 50;
                    const endX = Math.cos(angle) * distance;
                    const endY = Math.sin(angle) * distance;
                    
                particle.style.animation = 'experimentParticle 1.5s ease-out forwards';
                particle.style.setProperty('--end-x', endX + 'px');
                particle.style.setProperty('--end-y', endY + 'px');
                
                document.body.appendChild(particle);
                
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 1500);
            }
        }

        // Lab Readout Animations
        function startLabReadoutAnimations() {
            setInterval(() => {
                if (labModeActive) {
                    updateRandomReadouts();
                }
            }, 3000);
        }

        function updateRandomReadouts() {
            const sugarLevel = document.getElementById('sugarLevel');
            const flavorIntensity = document.getElementById('flavorIntensity');
            
            if (sugarLevel) {
                const newSugar = Math.floor(Math.random() * 1000) + 500;
                animateNumberChange(sugarLevel, newSugar);
            }
            
            if (flavorIntensity) {
                const newIntensity = (Math.random() * 10).toFixed(1);
                animateNumberChange(flavorIntensity, newIntensity);
            }
        }

        function animateNumberChange(element, newValue) {
            element.style.transform = 'scale(1.2)';
            element.style.color = '#ff6b00';
            
            setTimeout(() => {
                element.textContent = newValue;
                element.style.transform = 'scale(1)';
                element.style.color = '#00ff41';
            }, 200);
        }

        function updateGaugeNeedle() {
            const needle = document.getElementById('gaugeNeedle');
            if (needle) {
                const randomAngle = Math.random() * 180 - 90; // -90 to 90 degrees
                needle.style.transform = `rotate(${randomAngle}deg)`;
            }
        }

        // Sound Effects (using Web Audio API)
        function playLabModeSound() {
            if (typeof AudioContext !== 'undefined' || typeof webkitAudioContext !== 'undefined') {
                const audioContext = new (AudioContext || webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(220, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(440, audioContext.currentTime + 0.5);
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.5);
            }
        }

        // Ambient Laboratory Effects
        function generateAmbientParticles() {
            setInterval(() => {
                if (Math.random() > 0.3) { // 70% chance each interval
                    const colors = ['#29E6FF', '#FF138D', '#00ff41', '#FFD703'];
                    createFloatingParticle(colors[Math.floor(Math.random() * colors.length)]);
                }
            }, 2000);
        }

        function createFloatingParticle(color) {
            const particle = document.createElement('div');
            particle.style.position = 'fixed';
            particle.style.width = (Math.random() * 8 + 4) + 'px';
            particle.style.height = particle.style.width;
            particle.style.background = `radial-gradient(circle, ${color}, transparent)`;
            particle.style.borderRadius = '50%';
            particle.style.left = Math.random() * window.innerWidth + 'px';
            particle.style.top = window.innerHeight + 'px';
            particle.style.zIndex = '1';
            particle.style.pointerEvents = 'none';
            particle.style.boxShadow = `0 0 10px ${color}`;
            
            document.body.appendChild(particle);
            
            // Animate upward
            particle.animate([
                { 
                    transform: 'translateY(0px) translateX(0px) scale(1)', 
                    opacity: 0.3 
                },
                { 
                    transform: `translateY(-${window.innerHeight + 200}px) translateX(${Math.random() * 200 - 100}px) scale(1.5)`, 
                    opacity: 0 
                }
            ], {
                duration: Math.random() * 15000 + 10000,
                easing: 'linear'
            }).onfinish = () => {
                if (particle.parentNode) {
                    particle.parentNode.removeChild(particle);
                }
            };
        }

        function startContinuousEffects() {
            // Pulse the readouts periodically
            setInterval(() => {
                const readouts = document.querySelectorAll('.readout .value');
                readouts.forEach(readout => {
                    readout.style.textShadow = '0 0 15px #00ff41';
                    setTimeout(() => {
                        readout.style.textShadow = '0 0 5px #00ff41';
                    }, 500);
                });
            }, 8000);

            // Randomly activate gauge needle
            setInterval(() => {
                if (Math.random() > 0.6) {
                    updateGaugeNeedle();
                }
            }, 5000);

            // Random Dr. Look speech
            setInterval(() => {
                if (Math.random() > 0.8 && labModeActive) {
                    const randomMessage = speechMessages[Math.floor(Math.random() * speechMessages.length)];
                    showDrLookMessage(randomMessage);
                }
            }, 15000);
        }
        
        // Add CSS animations for effects
        const style = document.createElement('style');
        style.textContent = `
            @keyframes explode {
                0% { 
                    transform: translate(-50%, -50%) scale(1); 
                    opacity: 1; 
                }
                100% { 
                    transform: translate(calc(-50% + var(--end-x)), calc(-50% + var(--end-y))) scale(0); 
                    opacity: 0; 
                }
            }
            
            @keyframes bubbleFloat {
                0% { 
                    transform: translateY(0px) scale(0); 
                    opacity: 0; 
                }
                10% { 
                    opacity: 1; 
                    transform: scale(1); 
                }
                100% { 
                    transform: translateY(-100vh) scale(1.2); 
                    opacity: 0; 
                }
            }
            
            @keyframes lightningFlash {
                0%, 100% { opacity: 0; }
                50% { opacity: 1; }
            }
            
            @keyframes experimentParticle {
                0% { 
                    transform: scale(1); 
                    opacity: 1; 
                }
                100% { 
                    transform: translate(var(--end-x), var(--end-y)) scale(0); 
                    opacity: 0; 
                }
            }
        `;
        document.head.appendChild(style);

        // Initialize Epic Laboratory Experience
        // Interactive Carousel
        let currentSlide = 0;
        let slides, dots;
        
        function showSlide(index) {
            // Hide all slides
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Show current slide
            if (slides[index]) {
                slides[index].classList.add('active');
                dots[index].classList.add('active');
            }
        }
        
        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }
        
        function initializeCarousel() {
            slides = document.querySelectorAll('.invention-slide');
            dots = document.querySelectorAll('.dot');
            
            if (slides.length === 0 || dots.length === 0) return;
            
            // Add click handlers to dots
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    currentSlide = index;
                    showSlide(currentSlide);
                });
            });
            
            // Auto-advance slides
            setInterval(nextSlide, 4000);
        }

        function initializePage() {
            console.log(' Dr. Look Laboratory Initializing...');
            
            try {
                // Wait for DOM to be fully ready
                setTimeout(() => {
                    initializeLabMode();
                }, 500);
                
                // Initialize carousel after a short delay to ensure DOM is ready
                setTimeout(initializeCarousel, 100);
                
                console.log(' Laboratory initialization complete!');
                
            } catch (error) {
                console.error(' Laboratory initialization failed:', error);
            }
        }

        // TEST FUNCTION - Call this manually to test lab mode
        function testLabMode() {
            console.log(' MANUAL LAB MODE TEST');
            activateLabMode();
        }

        // Debug function to manually initialize lab mode
        function debugLabMode() {
            console.log(' DEBUG: Manually initializing lab mode...');
            initializeLabMode();
        }
        
        // Make functions globally accessible for debugging
        window.testLabMode = testLabMode;
        window.debugLabMode = debugLabMode;
        window.activateLabMode = activateLabMode;
        
        // Enhanced candy activation
        function activateCandy(element, candyName) {
            element.style.transform = 'scale(1.1) rotate(5deg)';
            element.style.boxShadow = '0 0 30px rgba(255, 19, 141, 0.8)';
            
            // Create flavor burst effect
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    createFlavorParticle(element);
                }, i * 100);
            }
            
            // Show special message in lab mode
            if (isLabMode) {
                setTimeout(() => {
                    const messages = {
                        'Plasma Pops': 'Formula activated!  Crystallized lightning detected!',
                        'Quantum Gummies': 'Quantum state collapsed!  All flavors unlocked!', 
                        'Fizz Crystals': 'Explosive reaction detected!  Flavor cloud incoming!'
                    };
                    showLabMessage(messages[candyName] || 'Candy analysis complete! ');
                }, 500);
            }
            
            setTimeout(() => {
                element.style.transform = '';
                element.style.boxShadow = '';
            }, 1000);
        }
        
        function createFlavorParticle(parent) {
            const particle = document.createElement('div');
            particle.style.position = 'fixed';
            particle.style.width = '10px';
            particle.style.height = '10px';
            particle.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
            particle.style.borderRadius = '50%';
            particle.style.pointerEvents = 'none';
            particle.style.zIndex = '1000';
            
            const rect = parent.getBoundingClientRect();
            particle.style.left = rect.left + rect.width/2 + 'px';
            particle.style.top = rect.top + rect.height/2 + 'px';
            
            document.body.appendChild(particle);
            
            const angle = Math.random() * Math.PI * 2;
            const distance = 50 + Math.random() * 100;
            const endX = Math.cos(angle) * distance;
            const endY = Math.sin(angle) * distance;
            
            particle.animate([
                { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                { transform: `translate(${endX}px, ${endY}px) scale(0)`, opacity: 0 }
            ], {
                duration: 1000,
                easing: 'ease-out'
            }).onfinish = () => particle.remove();
        }
        
        // Email signup
        function joinExperiment() {
            const email = document.getElementById('email').value;
            if (email) {
                if (isLabMode) {
                    alert(` EXPERIMENT ACTIVATED! Welcome to Dr. Look's Lab, ${email}! \n\n You'll receive:\n Exclusive lab alerts\n Beta test invitations\n Secret formula previews\n Early access to new inventions!\n\n Prepare for candy science like never before! `);
                } else {
                    alert(` Welcome to Dr. Look's Lab, ${email}! Prepare for amazing candy experiments! `);
                }
                document.getElementById('email').value = '';
                createFlavorParticles(20);
            } else {
                alert(' Dr. Look needs your email to send you lab updates!');
            }
        }
        
        // Easter egg
        function showEasterEgg() {
            const messages = [
                " Dr. Look's secret formula: 90% imagination, 10% sugar!",
                " Fun fact: Dr. Look's glasses can see flavor molecules!",
                " Dr. Look once made a candy so funny, it made a robot laugh!",
                " The lab has 47 different types of edible glitter!",
                " Dr. Look's next invention: zero-gravity gumballs!",
                " Lab temperature: Perfect for candy crystallization!",
                " Dr. Look's energy source: Pure curiosity and sugar rushes!",
                " DNA analysis shows Dr. Look is 73% sweet genius!"
            ];
            
            const message = messages[Math.floor(Math.random() * messages.length)];
            alert(message);
            
            if (isLabMode) {
                createFlavorParticles(10);
            }
        }
        
        // Smooth scrolling
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }
        
        // Modern Chapter Navigation System with Transitions
        let currentChapter = 0;
        let isTransitioning = false;
        const chapters = ['welcome', 'meet', 'lab', 'future'];
        const chapterTitles = ['Welcome', 'The Genius', 'Laboratory', 'Future'];
        
        // Intersection Observer for smooth chapter detection
        const observerOptions = {
            root: null,
            rootMargin: '-50% 0px -50% 0px',
            threshold: 0
        };
        
        const chapterObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const chapterIndex = chapters.indexOf(entry.target.dataset.chapter);
                    if (chapterIndex !== -1 && chapterIndex !== currentChapter) {
                        updateChapterNavigation(chapterIndex);
                    }
                    
                    // Add in-view class for animations
                    entry.target.classList.add('in-view');
                } else {
                    entry.target.classList.remove('in-view');
                }
            });
        }, observerOptions);
        
        // Initialize modern chapter navigation
        function initChapterNav() {
            const chapterItems = document.querySelectorAll('.chapter-item');
            const chapterSections = document.querySelectorAll('.chapter-section');
            
            // Observe all chapter sections
            chapterSections.forEach(section => {
                chapterObserver.observe(section);
            });
            
            // Add click handlers with smooth transitions
            chapterItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    if (!isTransitioning && index !== currentChapter) {
                        goToChapterWithTransition(index);
                    }
                });
            });
        }
        
        function updateChapterNavigation(chapterIndex) {
            currentChapter = chapterIndex;
            const chapterItems = document.querySelectorAll('.chapter-item');
            const chapterNav = document.getElementById('chapterNav');
            
            // Update active state
            chapterItems.forEach((item, index) => {
                item.classList.toggle('active', index === chapterIndex);
            });
            
            // Update progress bar
            const progressClass = `progress-${Math.round(((chapterIndex + 1) / chapters.length) * 100)}`;
            chapterNav.className = `chapter-nav ${progressClass}`;
        }
        
        function goToChapterWithTransition(chapterIndex) {
            if (isTransitioning) return;
            
            isTransitioning = true;
            const overlay = document.getElementById('chapterTransitionOverlay');
            const transitionNumber = document.getElementById('transitionNumber');
            const transitionTitle = document.getElementById('transitionTitle');
            
            // Update transition content
            transitionNumber.textContent = String(chapterIndex + 1).padStart(2, '0');
            transitionTitle.textContent = chapterTitles[chapterIndex];
            
            // Create transition particles
            createTransitionParticles();
            
            // Show transition overlay
            overlay.classList.add('active');
            
            // Add blur to current chapter
            const currentSection = document.getElementById(chapters[currentChapter]);
            if (currentSection) {
                currentSection.classList.add('chapter-transitioning');
            }
            
            setTimeout(() => {
                // Smooth scroll to new chapter
                const targetChapter = document.getElementById(chapters[chapterIndex]);
                if (targetChapter) {
                    targetChapter.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
                
                setTimeout(() => {
                    // Hide transition overlay
                    overlay.classList.remove('active');
                    
                    // Remove blur from previous chapter
                    if (currentSection) {
                        currentSection.classList.remove('chapter-transitioning');
                    }
                    
                    // Update current chapter
                    currentChapter = chapterIndex;
                    updateChapterNavigation(chapterIndex);
                    
                    isTransitioning = false;
                }, 800);
            }, 600);
        }
        
        function createTransitionParticles() {
            const container = document.getElementById('transitionParticles');
            container.innerHTML = '';
            
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'transition-particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 0.5 + 's';
                
                const colors = ['#FF138D', '#29E6FF', '#FFD703'];
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                container.appendChild(particle);
                
                // Animate particle
                particle.animate([
                    { opacity: 0, transform: 'scale(0) translateY(0px)' },
                    { opacity: 1, transform: 'scale(1) translateY(-20px)' },
                    { opacity: 0, transform: 'scale(0) translateY(-40px)' }
                ], {
                    duration: 1000 + Math.random() * 500,
                    easing: 'ease-out'
                });
            }
        }
        
        function goToNextChapter() {
            const nextChapter = Math.min(currentChapter + 1, chapters.length - 1);
            if (nextChapter !== currentChapter) {
                goToChapterWithTransition(nextChapter);
            }
        }
        
        // Scroll to products section
        function scrollToProducts() {
            const productsSection = document.getElementById('products');
            if (productsSection) {
                productsSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }
        
        // Enhanced scroll detection for smooth updates
        let ticking = false;
        function updateOnScroll() {
            if (!ticking && !isTransitioning) {
                requestAnimationFrame(() => {
                    // Update chapter navigation based on scroll position
                    const sections = document.querySelectorAll('.chapter-section');
                    const scrollPos = window.scrollY + window.innerHeight / 2;
                    
                    sections.forEach((section, index) => {
                        const rect = section.getBoundingClientRect();
                        const sectionTop = window.scrollY + rect.top;
                        const sectionBottom = sectionTop + rect.height;
                        
                        if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
                            if (index !== currentChapter) {
                                updateChapterNavigation(index);
                            }
                        }
                    });
                    
                    ticking = false;
                });
                ticking = true;
            }
        }
        
        // Smooth scroll behavior
        window.addEventListener('scroll', updateOnScroll, { passive: true });
        
        // Enhanced sensory messaging
        function joinExperimentInline() {
            const email = document.getElementById('emailInline').value;
            if (email) {
                if (isLabMode) {
                    alert(` WELCOME TO THE REVOLUTION! \n\n${email}, you're now part of Dr. Look's inner circle! \n\n You'll experience:\n First access to impossible flavors\n Beta lab experiences\n Exclusive genius insights\n The future of taste itself!\n\n Open up all your senses - the adventure begins now! `);
                } else {
                    alert(` TASTE THE FUTURE, ${email}! \n\n You'll be the first to:\n Experience new flavor dimensions\n Access exclusive lab content\n Join the candy revolution\n Feel the impossible!\n\n Prepare to open up all your taste buds! `);
                }
                document.getElementById('emailInline').value = '';
                createFlavorParticles(25);
            } else {
                alert(' Dr. Look needs your email to send you revolutionary updates!');
            }
        }
        
        // Mouse tracking for hero interactions
        document.addEventListener('mousemove', function(e) {
            const bubbles = document.querySelectorAll('.bubble');
            bubbles.forEach((bubble, index) => {
                const speed = (index + 1) * 0.02;
                const x = e.clientX * speed;
                const y = e.clientY * speed;
                bubble.style.transform = `translate(${x}px, ${y}px)`;
            });
        });
        
        // Secret code detection
        let secretCode = '';
        document.addEventListener('keydown', function(e) {
            secretCode += e.key.toLowerCase();
            if (secretCode.length > 6) {
                secretCode = secretCode.slice(-6);
            }
            
            if (secretCode === 'genius') {
                unlockSecretInvention();
                secretCode = '';
            }
        });
        
        function unlockSecretInvention() {
            alert(' SECRET INVENTION UNLOCKED! \n\n "Telepathic Chocolate" - Coming 2026!\nChocolate that knows what flavor you\'re craving before you do!\n\n Beta test access granted!\n Exclusive Dr. Look merch unlocked!\n Sneak peek at animated series!');
            
            // Create celebration effect
            createFlavorParticles(50);
            
            // Change background temporarily
            document.body.style.background = 'linear-gradient(135deg, #FFD703, #FF138D, #29E6FF)';
            setTimeout(() => {
                document.body.style.background = '';
            }, 3000);
        }
        
        // Doctor introduction sequence
        function doctorIntro() {
            const messages = [
                "Hi there! I'm Dr. Look, candy scientist extraordinaire! ",
                "I've spent years perfecting the art of delicious science! ", 
                "My lab creates impossible flavors that defy physics! ",
                "Ready to taste the future? Let's explore together! "
            ];
            
            let currentMessage = 0;
            const bubble = document.getElementById('thoughtBubble');
            
            function showNextMessage() {
                if (currentMessage < messages.length) {
                    bubble.textContent = messages[currentMessage];
                    bubble.style.opacity = '1';
                    bubble.style.transform = 'translateY(0) scale(1)';
                    currentMessage++;
                    
                    setTimeout(() => {
                        if (currentMessage < messages.length) {
                            bubble.style.opacity = '0';
                            setTimeout(showNextMessage, 300);
                        }
                    }, 2500);
                }
            }
            
            showNextMessage();
            createFlavorParticles(8);
        }
        


        // Interactive Candy Magic System
        function initializeCandyMagic() {
            console.log(' Initializing Interactive Candy Magic...');
            const drLookAura = document.getElementById('drLookAura');
            const explosionContainer = document.getElementById('explosionContainer');
            const energyLinesContainer = document.getElementById('energyLinesContainer');
            const particleTrailsContainer = document.getElementById('particleTrailsContainer');
            const floatingCandies = document.querySelectorAll('.floating-candy');
            const drLookImage = document.querySelector('.dr-look-image');

            if (floatingCandies.length === 0) {
                console.warn(' No floating candies found!');
                return;
            }

            let currentAuraColor = 'rgba(41, 230, 255, 0.4)';
            let energyLines = [];
            let scrollParticleTrails = new Map();

            // Candy color mapping for auras
            const candyColors = {
                wakamelo: {
                    aura: 'rgba(255, 182, 193, 0.4)',
                    particles: '#FFB6C1',
                    gradient: 'radial-gradient(circle, transparent 40%, rgba(255, 182, 193, 0.2) 60%, rgba(255, 182, 193, 0.4) 80%, transparent 100%)'
                },
                traganotas: {
                    aura: 'rgba(255, 165, 0, 0.4)',
                    particles: '#FFA500',
                    gradient: 'radial-gradient(circle, transparent 40%, rgba(255, 165, 0, 0.2) 60%, rgba(255, 165, 0, 0.4) 80%, transparent 100%)'
                },
                pintapop: {
                    aura: 'rgba(138, 43, 226, 0.4)',
                    particles: '#8A2BE2',
                    gradient: 'radial-gradient(circle, transparent 40%, rgba(138, 43, 226, 0.2) 60%, rgba(138, 43, 226, 0.4) 80%, transparent 100%)'
                },
                pelukaloca: {
                    aura: 'rgba(255, 69, 0, 0.4)',
                    particles: '#FF4500',
                    gradient: 'radial-gradient(circle, transparent 40%, rgba(255, 69, 0, 0.2) 60%, rgba(255, 69, 0, 0.4) 80%, transparent 100%)'
                }
            };

            // 1. Color-changing auras around Dr. Look on candy hover
            function activateAura(candyType) {
                console.log(' ACTIVATE AURA called for:', candyType);
                if (!drLookAura) {
                    console.log(' drLookAura not found!');
                    return;
                }
                
                const colorData = candyColors[candyType] || candyColors.wakamelo;
                currentAuraColor = colorData.aura;
                
                console.log(' Setting aura color:', colorData.gradient);
                drLookAura.style.background = colorData.gradient;
                drLookAura.classList.add('active');
                console.log(' Aura activated!');
            }

            function deactivateAura() {
                if (!drLookAura) return;
                drLookAura.classList.remove('active');
            }

            // 2. Laboratory explosion particles on click
            function createExplosion(x, y, candyType) {
                if (!explosionContainer) return;

                const colorData = candyColors[candyType] || candyColors.wakamelo;
                const particleCount = 25 + Math.random() * 15;

                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = `explosion-particle ${Math.random() > 0.7 ? 'large' : Math.random() > 0.3 ? '' : 'small'}`;
                    
                    // Random colors for laboratory effect
                    const colors = [colorData.particles, '#29E6FF', '#FF1493', '#00FF7F', '#FFD700'];
                    const randomColor = colors[Math.floor(Math.random() * colors.length)];
                    
                    particle.style.background = `radial-gradient(circle, ${randomColor} 0%, transparent 70%)`;
                    particle.style.boxShadow = `0 0 10px ${randomColor}`;
                    
                    const angle = (Math.PI * 2 * i) / particleCount + (Math.random() - 0.5) * 0.5;
                    const velocity = 50 + Math.random() * 100;
                    const finalX = x + Math.cos(angle) * velocity;
                    const finalY = y + Math.sin(angle) * velocity;
                    
                    particle.style.left = x + 'px';
                    particle.style.top = y + 'px';
                    
                    explosionContainer.appendChild(particle);
                    
                    // Animate particle
                    const duration = 800 + Math.random() * 400;
                    particle.animate([
                        { 
                            transform: 'translate(0, 0) scale(0)',
                            opacity: 1
                        },
                        { 
                            transform: `translate(${finalX - x}px, ${finalY - y}px) scale(1)`,
                            opacity: 0.8,
                            offset: 0.3
                        },
                        { 
                            transform: `translate(${finalX - x + (Math.random() - 0.5) * 50}px, ${finalY - y + (Math.random() - 0.5) * 50}px) scale(0.2)`,
                            opacity: 0
                        }
                    ], {
                        duration: duration,
                        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                    }).onfinish = () => {
                        particle.remove();
                    };
                }

                // Screen shake effect
                const heroSection = document.querySelector('.hero-lifestyle');
                if (heroSection) {
                    heroSection.style.animation = 'none';
                    setTimeout(() => {
                        heroSection.style.animation = 'screenShake 0.5s ease-out';
                    }, 10);
                }
            }

            // 3. Particle trails during scroll
            function createScrollTrail(candy, candyType) {
                if (!particleTrailsContainer) return;

                const rect = candy.getBoundingClientRect();
                const candyX = rect.left + rect.width / 2;
                const candyY = rect.top + rect.height / 2;
                
                const colorData = candyColors[candyType] || candyColors.wakamelo;
                
                // Create trail particle
                const trailParticle = document.createElement('div');
                trailParticle.className = 'trail-particle';
                trailParticle.style.background = `radial-gradient(circle, ${colorData.particles} 0%, transparent 70%)`;
                trailParticle.style.boxShadow = `0 0 8px ${colorData.particles}`;
                trailParticle.style.left = (candyX - window.scrollX) + 'px';
                trailParticle.style.top = (candyY - window.scrollY) + 'px';
                
                particleTrailsContainer.appendChild(trailParticle);
                
                // Remove after animation
                setTimeout(() => {
                    if (trailParticle.parentNode) {
                        trailParticle.remove();
                    }
                }, 1000);
            }

            // 4. Magnetic effect with energy lines
            function createEnergyLine(candy1, candy2) {
                if (!energyLinesContainer) return;

                const rect1 = candy1.getBoundingClientRect();
                const rect2 = candy2.getBoundingClientRect();
                
                const x1 = rect1.left + rect1.width / 2;
                const y1 = rect1.top + rect1.height / 2;
                const x2 = rect2.left + rect2.width / 2;
                const y2 = rect2.top + rect2.height / 2;
                
                const distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
                const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
                
                const energyLine = document.createElement('div');
                energyLine.className = 'energy-line';
                energyLine.style.left = x1 + 'px';
                energyLine.style.top = y1 + 'px';
                energyLine.style.width = distance + 'px';
                energyLine.style.transform = `rotate(${angle}deg)`;
                
                energyLinesContainer.appendChild(energyLine);
                
                // Activate line with delay
                setTimeout(() => {
                    energyLine.classList.add('active');
                }, 100);
                
                return energyLine;
            }

            function updateMagneticEffect() {
                // Clear existing energy lines
                energyLines.forEach(line => line.remove());
                energyLines = [];
                
                const candyArray = Array.from(floatingCandies);
                
                // Create energy lines between candies that are close enough
                for (let i = 0; i < candyArray.length; i++) {
                    for (let j = i + 1; j < candyArray.length; j++) {
                        const rect1 = candyArray[i].getBoundingClientRect();
                        const rect2 = candyArray[j].getBoundingClientRect();
                        
                        const distance = Math.sqrt(
                            Math.pow(rect2.left - rect1.left, 2) + 
                            Math.pow(rect2.top - rect1.top, 2)
                        );
                        
                        // Show energy lines when candies are close enough (adjust threshold as needed)
                        if (distance < 300) {
                            const line = createEnergyLine(candyArray[i], candyArray[j]);
                            if (line) energyLines.push(line);
                            
                            // Add magnetic pull animation to candies
                            candyArray[i].classList.add('magnetic-pull');
                            candyArray[j].classList.add('magnetic-pull');
                            
                            setTimeout(() => {
                                candyArray[i].classList.remove('magnetic-pull');
                                candyArray[j].classList.remove('magnetic-pull');
                            }, 800);
                        }
                    }
                }
            }

            // Get candy type from image source
            function getCandyType(candy) {
                const img = candy.querySelector('img');
                if (!img) return 'wakamelo';
                
                const src = img.src.toLowerCase();
                if (src.includes('wakamelo')) return 'wakamelo';
                if (src.includes('traganotas')) return 'traganotas';
                if (src.includes('pintapop')) return 'pintapop';
                if (src.includes('pelukaloca')) return 'pelukaloca';
                return 'wakamelo';
            }

            console.log(' Candy Magic initialized successfully!');
            
            // Create a test function accessible from console
            window.testCandyMagic = function() {
                console.log(' Testing candy magic manually...');
                
                // Test aura
                console.log('Testing aura...');
                activateAura('wakamelo');
                
                setTimeout(() => {
                    deactivateAura();
                }, 2000);
                
                // Test explosion
                setTimeout(() => {
                    console.log('Testing explosion...');
                    createExplosion(window.innerWidth / 2, window.innerHeight / 2, 'pintapop');
                }, 3000);
                
                // Test magnetic effect
                setTimeout(() => {
                    console.log('Testing magnetic effect...');
                    updateMagneticEffect();
                }, 5000);
                
                console.log(' Test sequence started! Watch for effects over the next 5 seconds.');
            };
            
            console.log(' Type testCandyMagic() in console to test the effects manually!');
            


            // Simple direct event listeners with CSS hover effects
            floatingCandies.forEach((candy, index) => {
                const candyType = getCandyType(candy);
                const candyImage = candy.querySelector('.candy-image');
                
                if (!candy || !candyImage) return;
                
                // Use CSS hover instead of JavaScript for more reliable detection
                candy.style.transition = 'all 0.3s ease';
                
                // Ensure proper z-index and pointer events for reliable interactions
                candy.style.zIndex = '9999';
                candy.style.pointerEvents = 'auto';
                candy.style.position = 'absolute';
                
                // Ensure all candies work with proper styling
                candy.style.zIndex = '10000';
                candy.style.position = 'absolute';
                candy.style.pointerEvents = 'auto';
                candy.style.cursor = 'pointer';
                
                candy.addEventListener('mouseenter', function(e) {
                    // Visual feedback - candy scales and glows
                    candyImage.style.transform = 'scale(1.2)';
                    candyImage.style.filter = 'drop-shadow(0 0 30px #29E6FF) brightness(1.2)';
                    
                    // Activate color-changing aura around Dr. Look
                    activateAura(candyType);
                });
                
                candy.addEventListener('mouseleave', function(e) {
                    // Reset visual feedback
                    candyImage.style.transform = 'scale(1)';
                    candyImage.style.filter = 'drop-shadow(0 0 20px rgba(41, 230, 255, 0.4))';
                    
                    // Deactivate aura
                    deactivateAura();
                });
                
                candy.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Get center of candy for explosion
                    const rect = candy.getBoundingClientRect();
                    const x = rect.left + rect.width / 2;
                    const y = rect.top + rect.height / 2;
                    
                    // Candy explosion animation
                    candy.classList.add('exploding');
                    setTimeout(() => candy.classList.remove('exploding'), 600);
                    
                    // Create particle explosion with screen shake
                    createExplosion(x, y, candyType);
                    
                    // Show magnetic effects between candies
                    updateMagneticEffect();
                });
            });

            // Scroll-based particle trails
            let lastScrollTime = 0;
            let lastCandyPositions = new Map();
            
            function handleScroll() {
                const now = Date.now();
                if (now - lastScrollTime < 50) return; // Throttle to 20fps
                lastScrollTime = now;
                
                floatingCandies.forEach((candy, index) => {
                    const candyType = getCandyType(candy);
                    const rect = candy.getBoundingClientRect();
                    const currentPos = { x: rect.left, y: rect.top };
                    
                    const lastPos = lastCandyPositions.get(index);
                    if (lastPos) {
                        const moved = Math.abs(currentPos.x - lastPos.x) + Math.abs(currentPos.y - lastPos.y);
                        if (moved > 5) { // Only create trail if candy moved significantly
                            createScrollTrail(candy, candyType);
                        }
                    }
                    
                    lastCandyPositions.set(index, currentPos);
                });
            }
            
            // Add scroll listener for trails
            window.addEventListener('scroll', handleScroll);
            
            // Initial magnetic effect check
            setTimeout(() => {
                updateMagneticEffect();
            }, 1000);
            
            // Periodic magnetic effect updates
            setInterval(() => {
                if (Math.random() > 0.7) { // Random chance to show magnetic effect
                    updateMagneticEffect();
                }
            }, 3000);
        }

        // Screen shake animation
        const screenShakeKeyframes = `
            @keyframes screenShake {
                0%, 100% { transform: translateX(0); }
                10% { transform: translateX(-2px) translateY(1px); }
                20% { transform: translateX(2px) translateY(-1px); }
                30% { transform: translateX(-1px) translateY(2px); }
                40% { transform: translateX(1px) translateY(-2px); }
                50% { transform: translateX(-2px) translateY(1px); }
                60% { transform: translateX(2px) translateY(-1px); }
                70% { transform: translateX(-1px) translateY(0px); }
                80% { transform: translateX(1px) translateY(1px); }
                90% { transform: translateX(-1px) translateY(-1px); }
            }
        `;
        
        // Add screen shake CSS if not already added
        if (!document.querySelector('#screenShakeStyles')) {
            const style = document.createElement('style');
            style.id = 'screenShakeStyles';
            style.textContent = screenShakeKeyframes;
            document.head.appendChild(style);
        }

        // Enhanced sensory language for existing functions
        function activateCandy(element, candyName) {
            element.style.transform = 'scale(1.1) rotate(5deg)';
            element.style.boxShadow = '0 0 30px rgba(255, 19, 141, 0.8)';
            
            // Create flavor burst effect with enhanced sensory feedback
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    createFlavorParticle(element);
                }, i * 100);
            }
            
            // Enhanced sensory messages for lab mode
            if (isLabMode) {
                setTimeout(() => {
                    const sensoryMessages = {
                        'Plasma Pops': 'Feel the electric crackle!  Your taste buds are experiencing lightning!',
                        'Quantum Gummies': 'Reality is collapsing into pure flavor!  All possibilities become one taste!', 
                        'Fizz Crystals': 'Witness the flavor explosion!  Crystal perfection meets your senses!'
                    };
                    showLabMessage(sensoryMessages[candyName] || 'Immerse yourself in impossible taste! ');
                }, 500);
            }
            
            setTimeout(() => {
                element.style.transform = '';
                element.style.boxShadow = '';
            }, 1000);
        }
        
        // Enhanced Easter Egg with sensory language
        function showEasterEgg() {
            const sensoryMessages = [
                " Dr. Look's secret: Candy is compressed happiness molecules!",
                " Fun fact: My glasses see the emotional spectrum of flavors!",
                " I once made candy so joyful, it made a calculator smile!",
                " The lab contains 73 different types of edible wonder!",
                " Next invention: Candies that taste like childhood memories!",
                " Lab atmosphere: Perfectly calibrated for taste bud euphoria!",
                " My energy source: Pure curiosity and crystallized giggles!",
                " Scientific fact: Dr. Look is 89% imagination, 11% sugar!"
            ];
            
            const message = sensoryMessages[Math.floor(Math.random() * sensoryMessages.length)];
            alert(message);
            
            if (isLabMode) {
                createFlavorParticles(10);
            }
        }
        
        // Laboratory Video Showcase Functionality
        function initializeLabVideos() {
            const labMonitors = document.querySelectorAll('.lab-monitor');
            
            labMonitors.forEach(monitor => {
                const video = monitor.querySelector('.lab-video');
                const overlay = monitor.querySelector('.video-overlay');
                const statusText = monitor.querySelector('.video-status');
                const playButton = monitor.querySelector('.play-button span');
                const controlDots = monitor.querySelectorAll('.control-dot');
                
                if (!video || !overlay) return;
                
                // Function to play video
                function playVideo() {
                    // Pause all other videos
                    labMonitors.forEach(otherMonitor => {
                        const otherVideo = otherMonitor.querySelector('.lab-video');
                        const otherOverlay = otherMonitor.querySelector('.video-overlay');
                        const otherStatus = otherMonitor.querySelector('.video-status');
                        const otherButton = otherMonitor.querySelector('.play-button span');
                        
                                                    if (otherVideo && otherVideo !== video && !otherVideo.paused) {
                                otherVideo.pause();
                                otherVideo.classList.remove('playing');
                                otherOverlay.classList.remove('hidden');
                                if (otherStatus) otherStatus.textContent = ' Click to activate with sound';
                                if (otherButton) otherButton.textContent = '';
                            }
                    });
                    
                    // Play current video
                    video.play();
                    video.classList.add('playing');
                    overlay.classList.add('hidden');
                    if (statusText) statusText.textContent = 'Experiment in progress...';
                    if (playButton) playButton.textContent = '';
                    
                    // Animate control dots
                    controlDots.forEach((dot, index) => {
                        setTimeout(() => {
                            dot.classList.add('active');
                        }, index * 200);
                    });
                }
                
                // Function to pause video
                function pauseVideo() {
                    video.pause();
                    video.classList.remove('playing');
                    overlay.classList.remove('hidden');
                    if (statusText) statusText.textContent = ' Click to activate with sound';
                    if (playButton) playButton.textContent = '';
                    
                    // Reset control dots
                    controlDots.forEach(dot => dot.classList.remove('active'));
                    if (controlDots[0]) controlDots[0].classList.add('active');
                }
                
                // Overlay click interaction (when video is paused)
                overlay.addEventListener('click', function() {
                    if (video.paused) {
                        playVideo();
                    }
                });
                
                // Video click interaction (when video is playing)
                video.addEventListener('click', function() {
                    if (!video.paused) {
                        pauseVideo();
                    } else {
                        playVideo();
                    }
                });
                
                // Video ended event
                video.addEventListener('ended', function() {
                    video.classList.remove('playing');
                    overlay.classList.remove('hidden');
                    if (statusText) statusText.textContent = ' Experiment complete - Click to replay with sound';
                    if (playButton) playButton.textContent = '';
                    
                    // Reset control dots
                    controlDots.forEach(dot => dot.classList.remove('active'));
                    if (controlDots[0]) controlDots[0].classList.add('active');
                });
                
                // Hover effects for monitor frame
                const monitorFrame = monitor.querySelector('.monitor-frame');
                if (monitorFrame) {
                    monitorFrame.addEventListener('mouseenter', function() {
                        if (video.paused && video.readyState >= 2) {
                            const randomTime = Math.random() * video.duration;
                            if (!isNaN(randomTime)) {
                                video.currentTime = randomTime;
                            }
                        }
                    });
                }
                
                // Progress indication
                video.addEventListener('timeupdate', function() {
                    if (video.duration) {
                        const progress = (video.currentTime / video.duration) * 100;
                        const activeIndex = Math.floor((progress / 100) * controlDots.length);
                        
                        controlDots.forEach((dot, index) => {
                            if (index <= activeIndex) {
                                dot.classList.add('active');
                            } else {
                                dot.classList.remove('active');
                            }
                        });
                    }
                });
            });
            
            // Product video preview functionality
            const productVideoPreviews = document.querySelectorAll('.product-video-preview');
            
            productVideoPreviews.forEach(preview => {
                const video = preview.querySelector('.product-preview-video');
                const overlay = preview.querySelector('.video-preview-overlay');
                const videoType = preview.getAttribute('data-video');
                
                if (!video || !overlay) return;
                
                // Hover to play preview
                preview.addEventListener('mouseenter', function() {
                    if (video.readyState >= 2) {
                        video.play().catch(() => {}); // Silent fail for autoplay restrictions
                    }
                });
                
                preview.addEventListener('mouseleave', function() {
                    video.pause();
                    video.currentTime = 0;
                });
                
                // Click to jump to lab showcase
                overlay.addEventListener('click', function() {
                    // Find corresponding lab monitor
                    const targetMonitor = document.querySelector(`.lab-monitor[data-invention="${videoType}"]`);
                    
                    if (targetMonitor) {
                        // Smooth scroll to lab showcase
                        const labShowcase = document.querySelector('.lab-video-showcase');
                        labShowcase.scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'center'
                        });
                        
                        // Highlight and auto-play the target video after scroll
                        setTimeout(() => {
                            const targetOverlay = targetMonitor.querySelector('.video-overlay');
                            const targetFrame = targetMonitor.querySelector('.monitor-frame');
                            
                            // Add highlight effect
                            targetFrame.style.boxShadow = '0 0 60px rgba(255, 19, 141, 0.8)';
                            targetFrame.style.borderColor = 'rgba(255, 19, 141, 1)';
                            
                            // Auto-trigger the video after a moment
                            setTimeout(() => {
                                if (targetOverlay) {
                                    targetOverlay.click();
                                }
                                
                                // Remove highlight after a few seconds
                                setTimeout(() => {
                                    targetFrame.style.boxShadow = '';
                                    targetFrame.style.borderColor = '';
                                }, 3000);
                            }, 800);
                        }, 1000);
                    }
                });
            });
        }

        // Hero Parallax Scroll Effect
        function initializeHeroParallax() {
            const centerImage = document.getElementById('heroCenterImage');
            
            const floatingCandies = [
                { element: document.getElementById('floatingCandy1'), direction: [-1, -1], baseRotation: -8 }, // top-left
                { element: document.getElementById('floatingCandy2'), direction: [1, -1], baseRotation: 12 },  // top-right
                { element: document.getElementById('floatingCandy3'), direction: [-1, 1], baseRotation: 15 },  // bottom-left
                { element: document.getElementById('floatingCandy4'), direction: [1, 1], baseRotation: -6 }    // bottom-right
            ];

            let lastScrollY = 0;
            let ticking = false;

            function updateParallax() {
                const scrollY = window.pageYOffset;
                const heroHeight = window.innerHeight * 1.3; // Account for 130vh hero
                
                // Only apply parallax when hero is visible
                if (scrollY < heroHeight) {
                    const scrollProgress = scrollY / heroHeight;
                    
                    // Center image moves at normal scroll speed
                    if (centerImage) {
                        const centerTransform = scrollY * 0.3; // Slower movement for more stability
                        centerImage.style.transform = `translate(-50%, calc(0% + ${centerTransform}px))`;
                    }
                    
                    // Floating candies spread dramatically outward from behind Dr. Look
                    floatingCandies.forEach((candy, index) => {
                        if (candy.element) {
                            const baseSpeed = 0.5; // Same movement speed as cards
                            const spreadMultiplier = 1.5; // Same spread as cards
                            
                            // Base movement
                            const baseMovement = scrollY * baseSpeed;
                            
                            // Additional spread movement (diagonal outward from center)
                            const spreadDistance = scrollY * spreadMultiplier;
                            
                            // Calculate same movement as corresponding cards
                            const xMovement = candy.direction[0] * spreadDistance * 1.2;
                            const yMovement = candy.direction[1] * spreadDistance * 0.8;
                            
                            // Add base movement to spread movement
                            const totalX = xMovement;
                            const totalY = baseMovement + yMovement;
                            
                            // Same rotation as cards
                            const scrollRotation = scrollProgress * candy.direction[0] * 8;
                            const totalRotation = candy.baseRotation + scrollRotation;
                            
                            candy.element.style.transform = `translate(${totalX}px, ${totalY}px) rotate(${totalRotation}deg)`;
                            
                            // Keep candies visible throughout
                            candy.element.style.opacity = 1;
                        }
                    });
                }
                
                ticking = false;
            }

            function requestTick() {
                if (!ticking) {
                    requestAnimationFrame(updateParallax);
                    ticking = true;
                }
            }

            // Throttled scroll listener for performance
            window.addEventListener('scroll', requestTick, { passive: true });
            
            // Initial call
            updateParallax();
        }

        // Hero Button Functionality
        function initializeHeroButtons() {
            const exploreBtn = document.querySelector('.hero-btn-primary');
            const apiBtn = document.querySelector('.hero-btn-secondary');
            
            if (exploreBtn) {
                exploreBtn.addEventListener('click', function() {
                    // Scroll to lab video showcase
                    const labShowcase = document.querySelector('.lab-video-showcase');
                    if (labShowcase) {
                        labShowcase.scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'center'
                        });
                    }
                });
            }
            
            if (apiBtn) {
                apiBtn.addEventListener('click', function() {
                    // Scroll to products section
                    const productsSection = document.querySelector('#products');
                    if (productsSection) {
                        productsSection.scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            }
        }

        // Initialize Display Section
        function initializeDisplaySection() {
            // CTA Button interaction
            const ctaBtn = document.querySelector('.cta-btn');
            if (ctaBtn) {
                ctaBtn.addEventListener('click', function() {
                    // Create science effect
                    createScienceExplosion(this);
                    
                    // Show modal or redirect - for now, just alert
                    setTimeout(() => {
                        alert(' Welcome to Dr. Look\'s Stocking Laboratory! Contact our team to discuss display options for your store. Email: stocking@drlook.com');
                    }, 500);
                });
            }

            // Add intersection observer for display cards
            const displayCards = document.querySelectorAll('.display-card');
            const displayObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });

            displayCards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(50px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                displayObserver.observe(card);
            });
        }

        // Create science explosion effect for buttons
        function createScienceExplosion(button) {
            const particles = ['', '', '', '', '', '', ''];
            
            for (let i = 0; i < 12; i++) {
                const particle = document.createElement('div');
                particle.textContent = particles[Math.floor(Math.random() * particles.length)];
                particle.style.position = 'fixed';
                particle.style.left = button.getBoundingClientRect().left + button.offsetWidth / 2 + 'px';
                particle.style.top = button.getBoundingClientRect().top + button.offsetHeight / 2 + 'px';
                particle.style.fontSize = '1.5rem';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '10000';
                particle.style.animation = `scienceParticle${i} 1.5s ease-out forwards`;
                
                // Create unique animation for each particle
                const angle = (360 / 12) * i;
                const distance = 150 + Math.random() * 100;
                const keyframes = `
                    @keyframes scienceParticle${i} {
                        0% { transform: translate(0, 0) scale(1); opacity: 1; }
                        100% { 
                            transform: translate(${Math.cos(angle * Math.PI / 180) * distance}px, ${Math.sin(angle * Math.PI / 180) * distance}px) scale(0); 
                            opacity: 0; 
                        }
                    }
                `;
                
                if (!document.getElementById(`particle-style-${i}`)) {
                    const style = document.createElement('style');
                    style.id = `particle-style-${i}`;
                    style.textContent = keyframes;
                    document.head.appendChild(style);
                }
                
                document.body.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 1500);
            }
        }

        // Initialize Lab Product Showcase - Agogo Style
        function initializeLabProductShowcase() {
            const swiperContainer = document.querySelector('.swiper-container');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const carouselIndicators = document.getElementById('carouselIndicators');
            
            if (!swiperContainer || !prevBtn || !nextBtn || !carouselIndicators) {
                console.error('Swiper elements not found');
                return;
            }

            // Initialize Swiper with 3D Creative effect
            const swiper = new Swiper(swiperContainer, {
                effect: 'creative',
                creativeEffect: {
                    prev: {
                        translate: ['-60%', 0, -300],
                        rotate: [0, 0, -12],
                        scale: 0.9,
                        opacity: 0.6,
                    },
                    next: {
                        translate: ['60%', 0, -300],
                        rotate: [0, 0, 12],
                        scale: 0.9,
                        opacity: 0.6,
                    },
                },
                grabCursor: true,
                centeredSlides: true,
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                speed: 800,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                breakpoints: {
                    320: {
                        slidesPerView: 1,
                        spaceBetween: 20,
                        creativeEffect: {
                            prev: {
                                translate: ['-50%', 0, -100],
                                rotate: [0, 0, -10],
                                scale: 0.85,
                                opacity: 0.6,
                            },
                            next: {
                                translate: ['50%', 0, -100],
                                rotate: [0, 0, 10],
                                scale: 0.85,
                                opacity: 0.6,
                            },
                        },
                    },
                    768: {
                        slidesPerView: 1,
                        spaceBetween: 30,
                        creativeEffect: {
                            prev: {
                                translate: ['-60%', 0, -300],
                                rotate: [0, 0, -12],
                                scale: 0.9,
                                opacity: 0.6,
                            },
                            next: {
                                translate: ['60%', 0, -300],
                                rotate: [0, 0, 12],
                                scale: 0.9,
                                opacity: 0.6,
                            },
                        },
                    },
                },
                pagination: {
                    el: carouselIndicators,
                    clickable: true,
                    renderBullet: function (index, className) {
                        return '<div class="' + className + ' carousel-indicator"></div>';
                    },
                },
                navigation: {
                    nextEl: nextBtn,
                    prevEl: prevBtn,
                },
                on: {
                    slideChange: function () {
                        const activeSlide = this.slides[this.activeIndex];
                        const theme = activeSlide.dataset.theme;
                        const flavor = activeSlide.dataset.flavor;
                        
                        // Update theme
                        updateTheme(theme);
                        
                        // Update flavor subtitle with animation
                        const flavorSubtitle = document.getElementById('flavorSubtitle');
                        if (flavorSubtitle) {
                            flavorSubtitle.style.opacity = '0';
                            flavorSubtitle.style.transform = 'translateY(20px)';
                            
                            setTimeout(() => {
                                flavorSubtitle.textContent = flavor;
                                flavorSubtitle.style.opacity = '1';
                                flavorSubtitle.style.transform = 'translateY(0)';
                            }, 200);
                        }
                    }
                }
            });

            // Update theme function
            function updateTheme(theme) {
                const body = document.body;
                const themes = {
                    'lenguetazo': 'theme-lenguetazo',
                    'traganotas': 'theme-traganotas',
                    'pintapop': 'theme-pintapop',
                    'rolinrollon': 'theme-rolinrollon',
                    'secret': 'theme-secret'
                };
                
                Object.values(themes).forEach(themeClass => {
                    body.classList.remove(themeClass);
                });
                
                if (themes[theme]) {
                    body.classList.add(themes[theme]);
                }
            }

            function updateSwiper() {
                const translateX = -currentSlide * 100;
                swiperWrapper.style.transform = `translateX(${translateX}%)`;

                // Update active states
                slides.forEach((slide, index) => {
                    if (index === currentSlide) {
                        slide.classList.add('active');
                    } else {
                        slide.classList.remove('active');
                    }
                });

                // Update indicators
                const indicators = carouselIndicators.querySelectorAll('.carousel-indicator');
                indicators.forEach((indicator, index) => {
                    if (index === currentSlide) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });

                // Update button states
                prevBtn.disabled = currentSlide <= 0;
                nextBtn.disabled = currentSlide >= totalSlides - 1;
            }

            function goToSlide(index) {
                currentSlide = Math.max(0, Math.min(index, totalSlides - 1));
                updateSwiper();
            }

            function nextSlide() {
                if (currentSlide < totalSlides - 1) {
                    currentSlide++;
                    updateSwiper();
                }
            }

            function prevSlide() {
                if (currentSlide > 0) {
                    currentSlide--;
                    updateSwiper();
                }
            }

            // Event Listeners
            prevBtn.addEventListener('click', prevSlide);
            nextBtn.addEventListener('click', nextSlide);

            carouselIndicators.addEventListener('click', (e) => {
                const indicator = e.target.closest('.carousel-indicator');
                if (indicator) {
                    const slideIndex = parseInt(indicator.dataset.slide);
                    goToSlide(slideIndex);
                }
            });

            // Touch/swipe support
            let touchStartX = 0;
            let touchEndX = 0;

            swiperWrapper.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
            });

            swiperWrapper.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].clientX;
                const swipeDistance = touchStartX - touchEndX;

                if (Math.abs(swipeDistance) > 50) {
                    if (swipeDistance > 0) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    prevSlide();
                } else if (e.key === 'ArrowRight') {
                    nextSlide();
                }
            });

            // Initial setup
            updateSwiper();
        }
        
        // Initialize Agogo-Style Carousel
        function initializeAgogoStyleCarousel() {
            // Dr. Look's Invention Data
            const inventions = [
                {
                    name: "Wakamelo",
                    tagline: "The Flavor Explorer",
                    description: "A revolutionary taste experience that challenges everything you thought you knew about candy. Each piece contains micro-encapsulated flavor bursts that activate at different temperatures.",
                    image: "Assets/drlook/product_photo_dr_look/drlook_wakamelo_image.png",
                    experimentId: "#WK001",
                    stats: [
                        { label: "Innovation", value: "95%" },
                        { label: "Adventure", value: "10/10" },
                        { label: "Possibilities", value: "" }
                    ]
                },
                {
                    name: "Traganotas",
                    tagline: "The Innovator",
                    description: "For the curious minds. A complex creation that challenges the norms and pushes the boundaries of flavor science through proprietary nano-crystallization technology.",
                    image: "Assets/drlook/product_photo_dr_look/drlook_traganotas_image.png",
                    experimentId: "#TG002",
                    stats: [
                        { label: "Complexity", value: "98%" },
                        { label: "Innovation", value: "10/10" },
                        { label: "Curiosity", value: "" }
                    ]
                },
                {
                    name: "Pintapop",
                    tagline: "The Artist",
                    description: "For the creative souls. A canvas of flavors that lets you express yourself in the most delicious way through patented color-reactive taste compounds.",
                    image: "Assets/drlook/product_photo_dr_look/drlook_pintapop_image.png",
                    experimentId: "#PP003",
                    stats: [
                        { label: "Creativity", value: "92%" },
                        { label: "Expression", value: "10/10" },
                        { label: "Artistry", value: "" }
                    ]
                },
                {
                    name: "Pelukaloca",
                    tagline: "The Revolutionary",
                    description: "For the rebels. A wild and untamed experience that breaks every rule and redefines what candy can be through molecular gastronomy principles.",
                    image: "Assets/drlook/product_photo_dr_look/drlook_pelukaloca_image.png",
                    experimentId: "#PL004",
                    stats: [
                        { label: "Rebellion", value: "100%" },
                        { label: "Wildness", value: "10/10" },
                        { label: "Freedom", value: "" }
                    ]
                }
            ];

            let currentInvention = 0;
            const totalInventions = inventions.length;

            // Get DOM elements
            const mainProduct = document.getElementById('mainProduct');
            const inventionName = document.querySelector('.invention-name');
            const inventionTagline = document.querySelector('.invention-tagline');
            const inventionDescription = document.querySelector('.invention-description');
            const experimentId = document.querySelector('.experiment-id');
            const inventionStats = document.querySelector('.invention-stats');

            // Update main product and info panel
            function updateInventionDisplay() {
                const invention = inventions[currentInvention];
                
                // Update main product with animation
                if (mainProduct) {
                    mainProduct.style.opacity = '0';
                    mainProduct.style.transform = 'scale(0.8)';
                    
                    setTimeout(() => {
                        mainProduct.src = invention.image;
                        mainProduct.alt = invention.name + ' - ' + invention.tagline;
                        mainProduct.dataset.index = currentInvention;
                        
                        mainProduct.style.opacity = '1';
                        mainProduct.style.transform = 'scale(1)';
                    }, 300);
                }
                
                // Update info panel with animation
                if (inventionName) {
                    inventionName.style.opacity = '0';
                    setTimeout(() => {
                        inventionName.textContent = invention.name;
                        inventionName.style.opacity = '1';
                    }, 200);
                }
                
                if (inventionTagline) {
                    inventionTagline.style.opacity = '0';
                    setTimeout(() => {
                        inventionTagline.textContent = invention.tagline;
                        inventionTagline.style.opacity = '1';
                    }, 250);
                }
                
                if (inventionDescription) {
                    inventionDescription.style.opacity = '0';
                    setTimeout(() => {
                        inventionDescription.textContent = invention.description;
                        inventionDescription.style.opacity = '1';
                    }, 300);
                }
                
                if (experimentId) {
                    experimentId.textContent = invention.experimentId;
                }
                
                // Update stats
                if (inventionStats) {
                    inventionStats.style.opacity = '0';
                    setTimeout(() => {
                        inventionStats.innerHTML = invention.stats.map(stat => `
                            <div class="stat">
                                <span class="stat-value">${stat.value}</span>
                                <span class="stat-label">${stat.label}</span>
                            </div>
                        `).join('');
                        inventionStats.style.opacity = '1';
                    }, 350);
                }
                
                updateSideProducts();
            }

            // Update side products
            function updateSideProducts() {
                const leftProducts = document.querySelectorAll('.side-product.left-1, .side-product.left-2');
                const rightProducts = document.querySelectorAll('.side-product.right-1, .side-product.right-2');
                
                // Calculate which inventions should be on each side
                const leftIndices = [
                    (currentInvention - 1 + totalInventions) % totalInventions,
                    (currentInvention - 2 + totalInventions) % totalInventions
                ];
                const rightIndices = [
                    (currentInvention + 1) % totalInventions,
                    (currentInvention + 2) % totalInventions
                ];
                
                // Update left products
                leftProducts.forEach((product, i) => {
                    const inventionIndex = leftIndices[i];
                    const invention = inventions[inventionIndex];
                    product.src = invention.image;
                    product.alt = invention.name;
                    product.dataset.index = inventionIndex;
                    product.onclick = () => switchToInvention(inventionIndex);
                });
                
                // Update right products
                rightProducts.forEach((product, i) => {
                    const inventionIndex = rightIndices[i];
                    const invention = inventions[inventionIndex];
                    product.src = invention.image;
                    product.alt = invention.name;
                    product.dataset.index = inventionIndex;
                    product.onclick = () => switchToInvention(inventionIndex);
                });
            }

            // Global functions for navigation
            window.switchToInvention = function(index) {
                currentInvention = index;
                updateInventionDisplay();
                createLabEnergyEffect();
            };

            window.nextInvention = function() {
                currentInvention = (currentInvention + 1) % totalInventions;
                updateInventionDisplay();
                createLabEnergyEffect();
            };

            window.previousInvention = function() {
                currentInvention = (currentInvention - 1 + totalInventions) % totalInventions;
                updateInventionDisplay();
                createLabEnergyEffect();
            };

            // Create lab energy effect
            function createLabEnergyEffect() {
                const energyField = document.querySelector('.lab-energy-field');
                if (energyField) {
                    energyField.style.background = `radial-gradient(circle, 
                        rgba(0, 255, 255, 0.3) 0%, 
                        rgba(255, 20, 147, 0.15) 40%, 
                        transparent 70%)`;
                    
                    setTimeout(() => {
                        energyField.style.background = `radial-gradient(circle, 
                            rgba(0, 255, 255, 0.1) 0%, 
                            rgba(255, 20, 147, 0.05) 40%, 
                            transparent 70%)`;
                    }, 1000);
                }
            }

            // Initialize display
            updateInventionDisplay();

            // Auto-rotate every 6 seconds
            setInterval(() => {
                nextInvention();
            }, 6000);
        }

        // Initialize Lab Feed
        function initializeLabFeed() {
            // Update timestamp every second
            function updateTimestamp() {
                const timestampElement = document.querySelector('.timestamp');
                if (timestampElement) {
                    const now = new Date();
                    const timeString = now.toTimeString().split(' ')[0];
                    timestampElement.textContent = timeString;
                }
            }
            
            // Animate counter numbers
            function animateCounters() {
                const counters = document.querySelectorAll('.counter-number');
                counters.forEach(counter => {
                    const target = parseInt(counter.getAttribute('data-target'));
                    const increment = target / 100;
                    let current = 0;
                    
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            counter.textContent = target;
                            clearInterval(timer);
                        } else {
                            counter.textContent = Math.floor(current);
                        }
                    }, 20);
                });
            }
            
            // Simulate progress updates
            function updateProgress() {
                const progressFill = document.querySelector('.progress-fill');
                const progressText = document.querySelector('.progress-text');
                
                if (progressFill && progressText) {
                    let currentProgress = 73;
                    
                    setInterval(() => {
                        currentProgress += Math.random() * 2 - 1; // Random fluctuation
                        currentProgress = Math.max(65, Math.min(95, currentProgress)); // Keep between 65-95%
                        
                        progressFill.style.width = currentProgress + '%';
                        progressText.textContent = Math.floor(currentProgress) + '% Complete';
                    }, 3000);
                }
            }
            
            // Start all animations
            updateTimestamp();
            setInterval(updateTimestamp, 1000);
            
            // Delayed animation start for better visual effect
            setTimeout(() => {
                animateCounters();
                updateProgress();
            }, 500);
        }
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log(' Page loaded - starting initialization...');
            initializeLabVideos();
            initializeHeroParallax();
            initializeCandyMagic();
            initializeHeroButtons();
            initChapterNav();
            initializeDisplaySection();
            initializeLabProductShowcase();
            initializeAgogoStyleCarousel();
            initializeLabFeed();
            
            // Initialize lab mode
            console.log(' Initializing lab mode...');
            initializeLabMode();
            
            // Add global message for manual testing
            setTimeout(() => {
                console.log(' Lab Mode Ready! If the button doesn\'t work, try typing: testLabMode() in console');
            }, 2000);
            
            // Auto-show lab activation after 3 seconds for first-time visitors
            setTimeout(() => {
                if (!isLabMode && !sessionStorage.getItem('labModeShown')) {
                    const labActivation = document.getElementById('labActivation');
                    const labOverlay = document.getElementById('labOverlay');
                    
                    if (labActivation) labActivation.classList.add('show');
                    if (labOverlay) labOverlay.classList.add('active');
                    sessionStorage.setItem('labModeShown', 'true');
                }
            }, 3000);
        });

        
        // Navigation functionality
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuClose = document.getElementById('mobileMenuClose');
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

        function toggleMobileMenu() {
            hamburger.classList.toggle('active');
            mobileMenu.classList.toggle('active');
            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
        }

        function closeMobileMenu() {
            hamburger.classList.remove('active');
            mobileMenu.classList.remove('active');
            document.body.style.overflow = '';
        }

        if (hamburger) {
            hamburger.addEventListener('click', toggleMobileMenu);
        }

        if (mobileMenuClose) {
            mobileMenuClose.addEventListener('click', closeMobileMenu);
        }

        // Close menu when clicking on nav links
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                closeMobileMenu();
                
                // Smooth scroll to section if it exists
                const href = link.getAttribute('href');
                if (href.startsWith('#')) {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        setTimeout(() => {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }, 300); // Wait for menu to close
                    }
                }
            });
        });

        // Enhanced navbar scroll effect
        let lastScrollY = window.scrollY;
        window.addEventListener('scroll', () => {
            const nav = document.querySelector('nav');
            const currentScrollY = window.scrollY;
            
            if (currentScrollY > 100) {
                nav.style.background = 'rgba(25, 118, 210, 0.95)';
                nav.style.boxShadow = '0 10px 40px rgba(25, 118, 210, 0.3)';
                nav.style.backdropFilter = 'blur(20px)';
            } else {
                nav.style.background = 'rgba(255, 255, 255, 0.05)';
                nav.style.boxShadow = 'none';
                nav.style.backdropFilter = 'blur(30px)';
            }

            // Hide/show navbar on scroll
            if (currentScrollY > lastScrollY && currentScrollY > 200) {
                nav.style.transform = 'translateY(-100%)';
            } else {
                nav.style.transform = 'translateY(0)';
            }
            lastScrollY = currentScrollY;
        });

        // Smooth scrolling for all navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Initialize the epic laboratory experience
        initializePage();

        // ===== INTERACTIVE LAB CHALLENGE SYSTEM =====
        
        class InteractiveLabChallenge {
            constructor() {
                this.currentChallenge = null;
                this.stats = {
                    challengesSolved: parseInt(localStorage.getItem('drLook_challengesSolved') || '0'),
                    currentStreak: parseInt(localStorage.getItem('drLook_currentStreak') || '0'),
                    bestStreak: parseInt(localStorage.getItem('drLook_bestStreak') || '0'),
                };
                this.difficulty = 'medium';
                this.isAnswered = false;
                this.useOpenAI = true; // Enable OpenAI integration
                this.openAIKey = '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';
                
                // Pre-defined challenges for different difficulties
                this.challengeBank = {
                    easy: [
                        {
                            type: 'math',
                            title: 'Basic Math',
                            question: 'What is 7 + 5?',
                            options: ['10', '12', '15', '9'],
                            correct: 1,
                            explanation: 'Simple addition: 7 + 5 = 12'
                        },
                        {
                            type: 'pattern',
                            title: 'Number Pattern',
                            question: 'What comes next?<br><span class="sequence">2, 4, 6, 8, ?</span>',
                            options: ['9', '10', '12', '11'],
                            correct: 1,
                            explanation: 'This is counting by 2s: 2, 4, 6, 8, 10'
                        },
                        {
                            type: 'logic',
                            title: 'Simple Logic',
                            question: 'If all cats are animals, and Fluffy is a cat, then...',
                            options: ['Fluffy is big', 'Fluffy is an animal', 'Fluffy is small', 'Fluffy is white'],
                            correct: 1,
                            explanation: 'Since all cats are animals and Fluffy is a cat, Fluffy must be an animal!'
                        }
                    ],
                    medium: [
                        {
                            type: 'sequence',
                            title: 'Math Sequence',
                            question: 'What comes next in this sequence?<br><span class="sequence">2, 4, 8, 16, ?</span>',
                            options: ['24', '32', '30', '28'],
                            correct: 1,
                            explanation: 'Each number doubles: 22=4, 42=8, 82=16, 162=32'
                        },
                        {
                            type: 'puzzle',
                            title: 'Visual Count',
                            question: 'How many squares can you see in a 22 grid?<br><small>(Count all possible squares, not just the small ones)</small>',
                            options: ['4', '5', '6', '7'],
                            correct: 1,
                            explanation: 'Four 11 squares + one 22 square = 5 total squares'
                        },
                        {
                            type: 'riddle',
                            title: 'Logic Riddle',
                            question: 'I am taken from a mine and shut in a wooden case, from which I am never released. What am I?',
                            options: ['Gold', 'Pencil lead', 'Coal', 'Diamond'],
                            correct: 1,
                            explanation: 'Pencil lead (graphite) is mined, put in a wooden pencil case, and never removed!'
                        }
                    ],
                    hard: [
                        {
                            type: 'math',
                            title: 'Advanced Math',
                            question: 'If 7 + 7  7 - 7 = ?<br><small>(Remember order of operations!)</small>',
                            options: ['42', '49', '35', '91'],
                            correct: 1,
                            explanation: 'Following PEMDAS: 7 + (7  7) - 7 = 7 + 49 - 7 = 49'
                        },
                        {
                            type: 'pattern',
                            title: 'Complex Pattern',
                            question: 'What\'s the next number?<br><span class="sequence">1, 1, 2, 3, 5, 8, ?</span>',
                            options: ['11', '13', '15', '12'],
                            correct: 1,
                            explanation: 'Fibonacci sequence: each number is the sum of the two before it (5+8=13)'
                        },
                        {
                            type: 'logic',
                            title: 'Advanced Logic',
                            question: 'In a race, you pass the person in 2nd place. What place are you now?',
                            options: ['1st place', '2nd place', '3rd place', 'Last place'],
                            correct: 1,
                            explanation: 'If you pass the person in 2nd place, you take their position - 2nd place!'
                        }
                    ],
                    genius: [
                        {
                            type: 'riddle',
                            title: 'Einstein\'s Riddle',
                            question: 'What has keys but no locks, space but no room, and you can enter but not go inside?',
                            options: ['A house', 'A keyboard', 'A car', 'A book'],
                            correct: 1,
                            explanation: 'A keyboard has keys, spaces, and an enter key, but no physical locks or rooms!'
                        },
                        {
                            type: 'math',
                            title: 'Mind Bender',
                            question: 'If it takes 5 machines 5 minutes to make 5 widgets, how long for 100 machines to make 100 widgets?',
                            options: ['100 minutes', '5 minutes', '20 minutes', '1 minute'],
                            correct: 1,
                            explanation: 'Each machine makes 1 widget in 5 minutes, so 100 machines make 100 widgets in 5 minutes!'
                        },
                        {
                            type: 'pattern',
                            title: 'Ultimate Pattern',
                            question: 'Complete the pattern:<br><span class="sequence">O, T, T, F, F, S, S, E, ?</span>',
                            options: ['N', 'I', 'O', 'T'],
                            correct: 0,
                            explanation: 'First letters of numbers: One, Two, Three, Four, Five, Six, Seven, Eight, Nine!'
                        }
                    ]
                };
                
                this.initializeChallenge();
            }

            initializeChallenge() {
                console.log(' Initializing Interactive Lab Challenge...');
                this.updateStats();
                this.bindEvents();
                
                // Start with a small delay to ensure DOM is ready
                setTimeout(() => {
                    this.loadNewChallenge();
                }, 100);
            }

            bindEvents() {
                // New Challenge button
                document.getElementById('newChallengeBtn').addEventListener('click', () => {
                    this.loadNewChallenge();
                });

                // Hint button
                document.getElementById('hintBtn').addEventListener('click', () => {
                    this.showHint();
                });

                // Difficulty selector
                document.getElementById('difficultySelect').addEventListener('change', (e) => {
                    this.difficulty = e.target.value;
                    this.loadNewChallenge();
                });

                // AI toggle
                document.getElementById('aiToggle').addEventListener('change', (e) => {
                    this.useOpenAI = e.target.checked;
                    console.log('AI mode:', this.useOpenAI ? 'enabled' : 'disabled');
                });

                // Option buttons (delegated event)
                document.getElementById('challengeOptions').addEventListener('click', (e) => {
                    if (e.target.classList.contains('option-btn') && !this.isAnswered) {
                        this.selectAnswer(e.target);
                    }
                });
            }

            async loadNewChallenge() {
                console.log(' Loading new challenge...');
                this.isAnswered = false;
                
                // Show loading state
                const loadingEl = document.getElementById('challengeLoading');
                const displayEl = document.getElementById('challengeDisplay');
                const resultEl = document.getElementById('challengeResult');
                
                console.log('Elements found:', {
                    loading: !!loadingEl,
                    display: !!displayEl,
                    result: !!resultEl
                });
                
                if (loadingEl) loadingEl.style.display = 'flex';
                if (displayEl) displayEl.style.display = 'none';
                if (resultEl) resultEl.style.display = 'none';

                // Update speech bubble
                this.updateSpeechBubble("Ready for a challenge, genius?");

                try {
                    console.log('AI mode:', this.useOpenAI);
                    if (this.useOpenAI) {
                        console.log(' Generating AI challenge...');
                        // Update challenge ID to show AI mode
                        const challengeIdEl = document.getElementById('challengeLoading')?.parentElement?.querySelector('.challenge-id');
                        if (challengeIdEl) challengeIdEl.textContent = '#AI-BRAIN-001';
                        
                        await this.generateOpenAIChallenge();
                    } else {
                        console.log(' Generating local challenge...');
                        // Update challenge ID to show local mode
                        const challengeIdEl = document.getElementById('challengeLoading')?.parentElement?.querySelector('.challenge-id');
                        if (challengeIdEl) challengeIdEl.textContent = '#LOCAL-001';
                        
                        this.generateChallenge();
                    }
                    
                    console.log(' Challenge generated successfully');
                    if (loadingEl) loadingEl.style.display = 'none';
                    if (displayEl) displayEl.style.display = 'block';
                } catch (error) {
                    console.log(' Challenge generation failed:', error);
                    console.log(' Falling back to local challenges...');
                    
                    // Update challenge ID to show fallback mode
                    const challengeIdEl = document.getElementById('challengeLoading')?.parentElement?.querySelector('.challenge-id');
                    if (challengeIdEl) challengeIdEl.textContent = '#FALLBACK-001';
                    
                    // Fallback to local challenges
                    this.generateChallenge();
                    if (loadingEl) loadingEl.style.display = 'none';
                    if (displayEl) displayEl.style.display = 'block';
                }
            }

            // Test function to verify OpenAI API connectivity
            async testOpenAIConnection() {
                console.log(' Testing OpenAI API connection...');
                try {
                    const response = await fetch('https://api.openai.com/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${this.openAIKey}`
                        },
                        body: JSON.stringify({
                            model: 'gpt-4',
                            messages: [{
                                role: 'user',
                                content: 'Say "Hello from OpenAI" if you can read this.'
                            }],
                            max_tokens: 10
                        })
                    });
                    
                    console.log(' Test Response Status:', response.status);
                    if (response.ok) {
                        const data = await response.json();
                        console.log(' OpenAI API is working!', data);
                        return true;
                    } else {
                        const errorText = await response.text();
                        console.error(' OpenAI API Error:', response.status, errorText);
                        return false;
                    }
                } catch (error) {
                    console.error(' OpenAI Connection Failed:', error);
                    return false;
                }
            }

            async generateOpenAIChallenge() {
                console.log(' Starting OpenAI API call...');
                console.log(' Using API key:', this.openAIKey ? `${this.openAIKey.substring(0, 20)}...` : 'MISSING');
                const difficultyPrompts = {
                    easy: "Create a simple math problem, basic logic question, or easy pattern recognition suitable for beginners. Make it fun and encouraging.",
                    medium: "Create a moderately challenging puzzle involving sequences, riddles, or mathematical problems that require some thinking but aren't too difficult.",
                    hard: "Create a challenging problem involving advanced math, complex patterns, or tricky logic that would challenge most people.",
                    genius: "Create an extremely challenging puzzle that would stump most people - think Einstein-level riddles, complex mathematical concepts, or mind-bending logic problems."
                };

                console.log(' API Key available:', !!this.openAIKey);
                console.log(' Difficulty:', this.difficulty);

                try {
                    const response = await fetch('https://api.openai.com/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${this.openAIKey}`
                        },
                        body: JSON.stringify({
                            model: 'gpt-4',
                            messages: [{
                                role: 'system',
                                content: `You are Dr. Look, a mad scientist who creates engaging puzzles and challenges. Create a ${this.difficulty} level challenge that would appear on Dr. Look's social media to spark community engagement. 

                                Respond with ONLY a valid JSON object in this exact format:
                                {
                                    "type": "math|riddle|pattern|logic|visual",
                                    "title": "Challenge Title",
                                    "question": "The question (can include HTML like <br> for line breaks and <span class='sequence'> for highlighting)",
                                    "options": ["Option A", "Option B", "Option C", "Option D"],
                                    "correct": 0,
                                    "explanation": "Detailed explanation of the answer"
                                }
                                
                                Make it creative, fun, and engaging like Dr. Look would!`
                            }, {
                                role: 'user',
                                content: difficultyPrompts[this.difficulty]
                            }]
                        })
                    });

                    console.log(' Response status:', response.status);
                    console.log(' Response headers:', response.headers);

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    console.log(' OpenAI response:', data);
                    
                    const challengeText = data.choices[0].message.content.trim();
                    console.log(' Challenge text:', challengeText);
                    
                    // Parse the JSON response
                    const challengeData = JSON.parse(challengeText);
                    this.currentChallenge = challengeData;
                    console.log(' Successfully generated OpenAI challenge:', challengeData);
                    
                    // Mark as OpenAI generated
                    challengeData.source = 'OpenAI';
                    this.updateChallengeUI(challengeData);
                } catch (fetchError) {
                    console.error(' OpenAI API Error:', fetchError);
                    
                    // Check if it's an API key issue
                    if (fetchError.message && fetchError.message.includes('401')) {
                        console.error(' Invalid API Key - OpenAI API key is expired or incorrect');
                        console.error(' Falling back to local challenges until API key is fixed');
                    }
                    
                    console.error(' Error details:', {
                        message: fetchError.message,
                        stack: fetchError.stack,
                        name: fetchError.name
                    });
                    throw fetchError;
                }
            }

            generateChallenge() {
                const challenges = this.challengeBank[this.difficulty];
                const randomChallenge = challenges[Math.floor(Math.random() * challenges.length)];
                
                // Randomize the correct answer position to avoid always being in the same spot
                const originalCorrect = randomChallenge.correct;
                const correctAnswer = randomChallenge.options[originalCorrect];
                
                // Shuffle the options array
                const shuffledOptions = [...randomChallenge.options];
                for (let i = shuffledOptions.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffledOptions[i], shuffledOptions[j]] = [shuffledOptions[j], shuffledOptions[i]];
                }
                
                // Find the new position of the correct answer
                const newCorrectIndex = shuffledOptions.indexOf(correctAnswer);
                
                // Create a new challenge object with shuffled options
                const shuffledChallenge = {
                    ...randomChallenge,
                    options: shuffledOptions,
                    correct: newCorrectIndex
                };
                
                this.currentChallenge = shuffledChallenge;
                console.log(' Using local challenge (shuffled):', shuffledChallenge);
                
                // Mark as locally generated
                shuffledChallenge.source = 'Local';
                this.updateChallengeUI(shuffledChallenge);
            }

            updateChallengeUI(challenge) {
                // Update UI
                document.getElementById('challengeTitle').textContent = challenge.title;
                document.getElementById('challengeQuestion').innerHTML = challenge.question;
                
                // Show challenge source indicator
                const sourceIndicator = challenge.source === 'OpenAI' ? ' AI Generated' : ' Pre-defined';
                console.log(` Challenge Source: ${sourceIndicator}`);
                
                // Generate options
                const optionsContainer = document.getElementById('challengeOptions');
                optionsContainer.innerHTML = '';
                
                challenge.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.setAttribute('data-option', String.fromCharCode(65 + index)); // A, B, C, D
                    button.setAttribute('data-index', index);
                    button.textContent = `${String.fromCharCode(65 + index)}) ${option}`;
                    optionsContainer.appendChild(button);
                });

                // Update challenge ID
                const challengeId = `#BRAIN-${String(Math.floor(Math.random() * 999) + 1).padStart(3, '0')}`;
                document.querySelector('.challenge-id').textContent = challengeId;
                
                // Update speech bubble based on difficulty
                const speechMessages = {
                    easy: "Let's start with something simple!",
                    medium: "Now we're getting interesting...",
                    hard: "This one will test your skills!",
                    genius: "Only true geniuses solve this!"
                };
                this.updateSpeechBubble(speechMessages[this.difficulty]);
            }

            selectAnswer(buttonElement) {
                if (this.isAnswered) return;
                
                this.isAnswered = true;
                const selectedIndex = parseInt(buttonElement.getAttribute('data-index'));
                const isCorrect = selectedIndex === this.currentChallenge.correct;
                
                // Disable all buttons
                document.querySelectorAll('.option-btn').forEach(btn => {
                    btn.style.pointerEvents = 'none';
                });

                // Show correct/incorrect styling
                if (isCorrect) {
                    buttonElement.classList.add('correct');
                    this.handleCorrectAnswer();
                } else {
                    buttonElement.classList.add('incorrect');
                    // Highlight correct answer
                    document.querySelectorAll('.option-btn')[this.currentChallenge.correct].classList.add('correct');
                    this.handleIncorrectAnswer();
                }

                // Show result after animation
                setTimeout(() => {
                    this.showResult(isCorrect);
                }, 1000);
            }

            handleCorrectAnswer() {
                this.stats.challengesSolved++;
                this.stats.currentStreak++;
                if (this.stats.currentStreak > this.stats.bestStreak) {
                    this.stats.bestStreak = this.stats.currentStreak;
                }
                this.saveStats();
                this.updateStats();
                
                // Update speech bubble
                const successMessages = [
                    "Brilliant! Absolutely brilliant!",
                    "Genius-level thinking!",
                    "You solved it! Amazing!",
                    "Incredible brain power!",
                    "Perfect! You're on fire!"
                ];
                this.updateSpeechBubble(successMessages[Math.floor(Math.random() * successMessages.length)]);
            }

            handleIncorrectAnswer() {
                this.stats.currentStreak = 0;
                this.saveStats();
                this.updateStats();
                
                // Update speech bubble
                const encouragementMessages = [
                    "Not quite! But keep trying!",
                    "Close! The brain learns from mistakes!",
                    "Good attempt! Try another one!",
                    "Don't give up! Science requires persistence!",
                    "Every genius makes mistakes!"
                ];
                this.updateSpeechBubble(encouragementMessages[Math.floor(Math.random() * encouragementMessages.length)]);
            }

            showResult(isCorrect) {
                document.getElementById('challengeDisplay').style.display = 'none';
                document.getElementById('challengeResult').style.display = 'block';
                
                const resultIcon = document.getElementById('resultIcon');
                const resultMessage = document.getElementById('resultMessage');
                const resultExplanation = document.getElementById('resultExplanation');
                
                if (isCorrect) {
                    resultIcon.textContent = ['', '', '', '', ''][Math.floor(Math.random() * 5)];
                    resultMessage.textContent = 'Brilliant! You solved it!';
                } else {
                    resultIcon.textContent = '';
                    resultMessage.textContent = 'Not quite, but good try!';
                }
                
                resultExplanation.textContent = this.currentChallenge.explanation;
                
                // Re-enable buttons for next challenge
                setTimeout(() => {
                    document.querySelectorAll('.option-btn').forEach(btn => {
                        btn.style.pointerEvents = 'auto';
                        btn.classList.remove('correct', 'incorrect');
                    });
                }, 2000);
            }

            showHint() {
                const hintMessages = {
                    easy: "Think step by step! ",
                    medium: "Look for patterns or use logic! ",
                    hard: "Remember the rules of mathematics! ",
                    genius: "Think outside the box! Sometimes the answer is simpler than it seems! "
                };
                
                this.updateSpeechBubble(hintMessages[this.difficulty]);
                
                // Return to normal message after 3 seconds
                setTimeout(() => {
                    this.updateSpeechBubble("You've got this! ");
                }, 3000);
            }

            updateSpeechBubble(message) {
                const bubbleText = document.querySelector('.challenge-speech-bubble .bubble-text');
                if (bubbleText) {
                    bubbleText.textContent = message;
                }
            }

            updateStats() {
                document.getElementById('challengesSolved').textContent = this.stats.challengesSolved;
                document.getElementById('currentStreak').textContent = this.stats.currentStreak;
                
                // Update genius rating based on performance
                let rating = 'Rookie';
                if (this.stats.challengesSolved >= 50) rating = 'Einstein';
                else if (this.stats.challengesSolved >= 30) rating = 'Genius';
                else if (this.stats.challengesSolved >= 20) rating = 'Brilliant';
                else if (this.stats.challengesSolved >= 10) rating = 'Smart';
                else if (this.stats.challengesSolved >= 5) rating = 'Apprentice';
                
                document.getElementById('geniusRating').textContent = rating;
            }

            saveStats() {
                localStorage.setItem('drLook_challengesSolved', this.stats.challengesSolved.toString());
                localStorage.setItem('drLook_currentStreak', this.stats.currentStreak.toString());
                localStorage.setItem('drLook_bestStreak', this.stats.bestStreak.toString());
            }
        }

        // Initialize Interactive Lab Challenge when page loads
        let interactiveChallenge;
        
        // Robust initialization function
        function initializeInteractiveChallenge() {
            const newChallengeBtn = document.getElementById('newChallengeBtn');
            const challengeLoading = document.getElementById('challengeLoading');
            
            if (newChallengeBtn && challengeLoading) {
                interactiveChallenge = new InteractiveLabChallenge();
                console.log(' Interactive Lab Challenge System Activated!');
                
                // Make test functions available globally
                window.testOpenAI = () => interactiveChallenge.testOpenAIConnection();
                window.labChallenge = interactiveChallenge;
                console.log(' Debug functions available:');
                console.log('  - testOpenAI() - Test OpenAI API connection');
                console.log('  - labChallenge - Access challenge instance');
                
                return true;
            }
            return false;
        }
        
        // Try multiple initialization approaches
        document.addEventListener('DOMContentLoaded', function() {
            // Try immediate initialization
            if (!initializeInteractiveChallenge()) {
                // If that fails, try after a short delay
                setTimeout(() => {
                    if (!initializeInteractiveChallenge()) {
                        // If still failing, try after page fully loads
                        window.addEventListener('load', () => {
                            setTimeout(initializeInteractiveChallenge, 500);
                        });
                    }
                }, 1000);
            }
        });

        // ===== END INTERACTIVE LAB CHALLENGE SYSTEM =====
    </script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</body>
</html>